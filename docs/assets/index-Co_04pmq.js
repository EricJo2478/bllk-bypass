(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Pu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sp={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function iC(){if(eT)return ou;eT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return ou.Fragment=e,ou.jsx=n,ou.jsxs=n,ou}var tT;function rC(){return tT||(tT=1,sp.exports=iC()),sp.exports}var C=rC(),ap={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function sC(){if(nT)return Re;nT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,P={};function W(V,Y,se){this.props=V,this.context=Y,this.refs=P,this.updater=se||z}W.prototype.isReactComponent={},W.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=W.prototype;function re(V,Y,se){this.props=V,this.context=Y,this.refs=P,this.updater=se||z}var ce=re.prototype=new J;ce.constructor=re,G(ce,W.prototype),ce.isPureReactComponent=!0;var me=Array.isArray;function fe(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(V,Y,se){var ae=se.ref;return{$$typeof:i,type:V,key:Y,ref:ae!==void 0?ae:null,props:se}}function k(V,Y){return N(V.type,Y,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function U(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return Y[se]})}var D=/\/+/g;function Fe(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Y.toString(36)}function rt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(fe,fe):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,Y,se,ae,ge){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(be){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case i:case e:ke=!0;break;case _:return ke=V._init,Q(ke(V._payload),Y,se,ae,ge)}}if(ke)return ge=ge(V),ke=ae===""?"."+Fe(V,0):ae,me(ge)?(se="",ke!=null&&(se=ke.replace(D,"$&/")+"/"),Q(ge,Y,se,"",function(Yn){return Yn})):ge!=null&&(M(ge)&&(ge=k(ge,se+(ge.key==null||V&&V.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+ke)),Y.push(ge)),1;ke=0;var vt=ae===""?".":ae+":";if(me(V))for(var Ze=0;Ze<V.length;Ze++)ae=V[Ze],be=vt+Fe(ae,Ze),ke+=Q(ae,Y,se,be,ge);else if(Ze=x(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(ae=V.next()).done;)ae=ae.value,be=vt+Fe(ae,Ze++),ke+=Q(ae,Y,se,be,ge);else if(be==="object"){if(typeof V.then=="function")return Q(rt(V),Y,se,ae,ge);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(V,Y,se){if(V==null)return V;var ae=[],ge=0;return Q(V,ae,"","",function(be){return Y.call(se,be,ge++)}),ae}function oe(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var xe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Me={map:te,forEach:function(V,Y,se){te(V,function(){Y.apply(this,arguments)},se)},count:function(V){var Y=0;return te(V,function(){Y++}),Y},toArray:function(V){return te(V,function(Y){return Y})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=T,Re.Children=Me,Re.Component=W,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,Y,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=G({},V.props),ge=V.key;if(Y!=null)for(be in Y.key!==void 0&&(ge=""+Y.key),Y)!R.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(ae[be]=Y[be]);var be=arguments.length-2;if(be===1)ae.children=se;else if(1<be){for(var ke=Array(be),vt=0;vt<be;vt++)ke[vt]=arguments[vt+2];ae.children=ke}return N(V.type,ge,ae)},Re.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Re.createElement=function(V,Y,se){var ae,ge={},be=null;if(Y!=null)for(ae in Y.key!==void 0&&(be=""+Y.key),Y)R.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=Y[ae]);var ke=arguments.length-2;if(ke===1)ge.children=se;else if(1<ke){for(var vt=Array(ke),Ze=0;Ze<ke;Ze++)vt[Ze]=arguments[Ze+2];ge.children=vt}if(V&&V.defaultProps)for(ae in ke=V.defaultProps,ke)ge[ae]===void 0&&(ge[ae]=ke[ae]);return N(V,be,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=M,Re.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:oe}},Re.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Re.startTransition=function(V){var Y=I.T,se={};I.T=se;try{var ae=V(),ge=I.S;ge!==null&&ge(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(fe,xe)}catch(be){xe(be)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),I.T=Y}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(V){return I.H.use(V)},Re.useActionState=function(V,Y,se){return I.H.useActionState(V,Y,se)},Re.useCallback=function(V,Y){return I.H.useCallback(V,Y)},Re.useContext=function(V){return I.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,Y){return I.H.useDeferredValue(V,Y)},Re.useEffect=function(V,Y){return I.H.useEffect(V,Y)},Re.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(V,Y,se){return I.H.useImperativeHandle(V,Y,se)},Re.useInsertionEffect=function(V,Y){return I.H.useInsertionEffect(V,Y)},Re.useLayoutEffect=function(V,Y){return I.H.useLayoutEffect(V,Y)},Re.useMemo=function(V,Y){return I.H.useMemo(V,Y)},Re.useOptimistic=function(V,Y){return I.H.useOptimistic(V,Y)},Re.useReducer=function(V,Y,se){return I.H.useReducer(V,Y,se)},Re.useRef=function(V){return I.H.useRef(V)},Re.useState=function(V){return I.H.useState(V)},Re.useSyncExternalStore=function(V,Y,se){return I.H.useSyncExternalStore(V,Y,se)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.0",Re}var iT;function yg(){return iT||(iT=1,ap.exports=sC()),ap.exports}var A=yg();const ji=Pu(A);var op={exports:{}},lu={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function aC(){return rT||(rT=1,(function(i){function e(Q,te){var oe=Q.length;Q.push(te);e:for(;0<oe;){var xe=oe-1>>>1,Me=Q[xe];if(0<o(Me,te))Q[xe]=te,Q[oe]=Me,oe=xe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var te=Q[0],oe=Q.pop();if(oe!==te){Q[0]=oe;e:for(var xe=0,Me=Q.length,V=Me>>>1;xe<V;){var Y=2*(xe+1)-1,se=Q[Y],ae=Y+1,ge=Q[ae];if(0>o(se,oe))ae<Me&&0>o(ge,se)?(Q[xe]=ge,Q[ae]=oe,xe=ae):(Q[xe]=se,Q[Y]=oe,xe=Y);else if(ae<Me&&0>o(ge,oe))Q[xe]=ge,Q[ae]=oe,xe=ae;else break e}}return te}function o(Q,te){var oe=Q.sortIndex-te.sortIndex;return oe!==0?oe:Q.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,b=3,x=!1,z=!1,G=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=Q)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function me(Q){if(G=!1,ce(Q),!z)if(n(p)!==null)z=!0,fe||(fe=!0,U());else{var te=n(g);te!==null&&rt(me,te.startTime-Q)}}var fe=!1,I=-1,R=5,N=-1;function k(){return P?!0:!(i.unstable_now()-N<R)}function M(){if(P=!1,fe){var Q=i.unstable_now();N=Q;var te=!0;try{e:{z=!1,G&&(G=!1,J(I),I=-1),x=!0;var oe=b;try{t:{for(ce(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&k());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,b=T.priorityLevel;var Me=xe(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof Me=="function"){T.callback=Me,ce(Q),te=!0;break t}T===n(p)&&s(p),ce(Q)}else s(p);T=n(p)}if(T!==null)te=!0;else{var V=n(g);V!==null&&rt(me,V.startTime-Q),te=!1}}break e}finally{T=null,b=oe,x=!1}te=void 0}}finally{te?U():fe=!1}}}var U;if(typeof re=="function")U=function(){re(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=M,U=function(){Fe.postMessage(null)}}else U=function(){W(M,0)};function rt(Q,te){I=W(function(){Q(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var oe=b;b=te;try{return Q()}finally{b=oe}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=b;b=Q;try{return te()}finally{b=oe}},i.unstable_scheduleCallback=function(Q,te,oe){var xe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,Q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=oe+Me,Q={id:_++,callback:te,priorityLevel:Q,startTime:oe,expirationTime:Me,sortIndex:-1},oe>xe?(Q.sortIndex=oe,e(g,Q),n(p)===null&&Q===n(g)&&(G?(J(I),I=-1):G=!0,rt(me,oe-xe))):(Q.sortIndex=Me,e(p,Q),z||x||(z=!0,fe||(fe=!0,U()))),Q},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Q){var te=b;return function(){var oe=b;b=te;try{return Q.apply(this,arguments)}finally{b=oe}}}})(up)),up}var sT;function oC(){return sT||(sT=1,lp.exports=aC()),lp.exports}var cp={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function lC(){if(aT)return Zt;aT=1;var i=yg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Zt.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var oT;function gS(){if(oT)return cp.exports;oT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cp.exports=lC(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function uC(){if(lT)return lu;lT=1;var i=oC(),e=yg(),n=gS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=l(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,u=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===u)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,u=d;break}if(S===u){v=!0,u=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,u=h;break}if(S===u){v=!0,u=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case me:return"Suspense";case fe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case re:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Fe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Fe(t(r))}catch{}}return null}var rt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function V(t){return{current:t}}function Y(t){0>Me||(t.current=xe[Me],xe[Me]=null,Me--)}function se(t,r){Me++,xe[Me]=t.current,t.current=r}var ae=V(null),ge=V(null),be=V(null),ke=V(null);function vt(t,r){switch(se(be,r),se(ge,t),se(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?AE(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=AE(r),t=bE(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),se(ae,t)}function Ze(){Y(ae),Y(ge),Y(be)}function Yn(t){t.memoizedState!==null&&se(ke,t);var r=ae.current,a=bE(r,t.type);r!==a&&(se(ge,t),se(ae,a))}function Pr(t){ge.current===t&&(Y(ae),Y(ge)),ke.current===t&&(Y(ke),iu._currentValue=oe)}var Ji,pi;function sn(t){if(Ji===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ji=r&&r[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+t+pi}var st=!1;function gi(t,r){if(!t||st)return"";st=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var F=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){F=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){F=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var O=v.split(`
`),H=S.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===H.length)for(u=O.length-1,h=H.length-1;1<=u&&0<=h&&O[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==H[h]){var X=`
`+O[u].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=u&&0<=h);break}}}finally{st=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sn(a):""}function Zi(t,r){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==r&&r!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return gi(t.type,!1);case 11:return gi(t.type.render,!1);case 1:return gi(t.type,!0);case 31:return sn("Activity");default:return""}}function sl(t){try{var r="",a=null;do r+=Zi(t,a),a=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Ur=i.unstable_cancelCallback,od=i.unstable_shouldYield,rc=i.unstable_requestPaint,an=i.unstable_now,zs=i.unstable_getCurrentPriorityLevel,al=i.unstable_ImmediatePriority,ol=i.unstable_UserBlockingPriority,jr=i.unstable_NormalPriority,ld=i.unstable_LowPriority,sc=i.unstable_IdlePriority,ac=i.log,oc=i.unstable_setDisableYieldValue,Xn=null,$t=null;function Mn(t){if(typeof ac=="function"&&oc(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Xn,t)}catch{}}var Et=Math.clz32?Math.clz32:uc,lc=Math.log,Ma=Math.LN2;function uc(t){return t>>>=0,t===0?32:31-(lc(t)/Ma|0)|0}var yi=256,Bs=262144,Rt=4194304;function _i(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,r,a){var u=t.pendingLanes;if(u===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=u&134217727;return S!==0?(u=S&~d,u!==0?h=_i(u):(v&=S,v!==0?h=_i(v):a||(a=S&~t,a!==0&&(h=_i(a))))):(S=u&~d,S!==0?h=_i(S):v!==0?h=_i(v):a||(a=u&~t,a!==0&&(h=_i(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ud(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cc(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ei(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function qs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cd(t,r,a,u,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Et(a),ne=1<<X;S[X]=0,O[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~ne}u!==0&&Hs(t,u,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Hs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-Et(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function ll(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-Et(a),h=1<<u;h&r|t[u]&r&&(t[u]|=r),a&=~h}}function ul(t,r){var a=r&-r;return a=(a&42)!==0?1:Fs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:KE(t.type))}function Jn(t,r){var a=te.p;try{return te.p=t,r()}finally{te.p=a}}var Zn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Zn,zt="__reactProps$"+Zn,Ti="__reactContainer$"+Zn,Va="__reactEvents$"+Zn,fd="__reactListeners$"+Zn,hc="__reactHandles$"+Zn,dc="__reactResources$"+Zn,Si="__reactMarker$"+Zn;function La(t){delete t[Ct],delete t[zt],delete t[Va],delete t[fd],delete t[hc]}function Ai(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ti]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=OE(t);t!==null;){if(a=t[Ct])return a;t=OE(t)}return r}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[Ct]||t[Ti]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Sn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function bi(t){var r=t[dc];return r||(r=t[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(t){t[Si]=!0}var cl=new Set,fl={};function wi(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(fl[t]=r,t=0;t<r.length;t++)cl.add(r[t])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function mc(t){return wt.call(ml,t)?!0:wt.call(dl,t)?!1:hl.test(t)?ml[t]=!0:(dl[t]=!0,!1)}function ka(t,r,a){if(mc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function An(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Nt(t,r,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+u)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pl(t,r,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,d=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xe(t){if(!t._valueTracker){var r=zr(t)?"checked":"value";t._valueTracker=pl(t,r,""+t[r])}}function Gs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=zr(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $s=/[\n"\\]/g;function cn(t){return t.replace($s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pa(t,r,a,u,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Bt(r)):t.value!==""+Bt(r)&&(t.value=""+Bt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?gl(t,v,Bt(r)):a!=null?gl(t,v,Bt(a)):u!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function pc(t,r,a,u,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xe(t);return}a=a!=null?""+Bt(a):"",r=r!=null?""+Bt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=S?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function gl(t,r,a){r==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,r,a,u){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function gc(t,r,a){if(r!=null&&(r=""+Bt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Bt(a):""}function qr(t,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(rt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Bt(r),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),Xe(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(t,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,a):typeof a!="number"||a===0||yc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function _l(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&yl(t,h,u)}else for(var d in r)r.hasOwnProperty(d)&&yl(t,d,r[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var vl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Ii=null;function Ks(t){var r=Vn(t);if(r&&(t=r.stateNode)){var a=t[zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var h=u[zt]||null;if(!h)throw Error(s(90));Pa(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===t.form&&Gs(u)}break e;case"textarea":gc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Br(t,!!a.multiple,r,!1)}}}var za=!1;function Gr(t,r,a){if(za)return t(r,a);za=!0;try{var u=t(r);return u}finally{if(za=!1,(Fr!==null||Ii!==null)&&(hf(),Fr&&(r=Fr,t=Ii,Ii=Fr=null,Ks(r),t)))for(r=0;r<t.length;r++)Ks(t[r])}}function ti(t,r){var a=t.stateNode;if(a===null)return null;var u=a[zt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(kn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Qs=!1}var Ni=null,El=null,Ys=null;function Tl(){if(Ys)return Ys;var t,r=El,a=r.length,u,h="value"in Ni?Ni.value:Ni.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(u=1;u<=v&&r[a-u]===h[d-u];u++);return Ys=h.slice(t,1<u?1-u:void 0)}function Xs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function ni(){return!1}function Kt(t){function r(a,u,h,d,v){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?tr:ni,this.isPropagationStopped=ni,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Kt(nr),$r=T({},nr,{view:0,detail:0}),Sl=Kt($r),Kr,Ba,Oi,qa=T({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Kr=t.screenX-Oi.screenX,Ba=t.screenY-Oi.screenY):Ba=Kr=0,Oi=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),Al=Kt(qa),Ws=T({},qa,{dataTransfer:0}),vc=Kt(Ws),Ec=T({},$r,{relatedTarget:0}),Js=Kt(Ec),bl=T({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=Kt(bl),Ha=T({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=Kt(Ha),Ac=T({},nr,{data:0}),xi=Kt(Ac),bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Rc[t])?!!r[t]:!1}function Qr(){return Cc}var on=T({},$r,{key:function(t){if(t.key){var r=bc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=Kt(on),Nc=T({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Kt(Nc),f=T({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),y=Kt(f),E=T({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(E),B=T({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Kt(B),le=T({},nr,{newState:0,oldState:0}),Ne=Kt(le),Tt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,dt=null;kn&&"documentMode"in document&&(dt=document.documentMode);var Pn=kn&&"TextEvent"in window&&!dt,Mi=kn&&(!Ke||dt&&8<dt&&11>=dt),ii=" ",ri=!1;function Zs(t,r){switch(t){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function CR(t,r){switch(t){case"compositionend":return Fa(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return t=r.data,t===ii&&ri?null:t;default:return null}}function IR(t,r){if(Ga)return t==="compositionend"||!Ke&&Zs(t,r)?(t=Tl(),Ys=El=Ni=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mi&&r.locale!=="ko"?null:r.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!NR[t.type]:r==="textarea"}function Ly(t,r,a,u){Fr?Ii?Ii.push(u):Ii=[u]:Fr=u,r=vf(r,"onChange"),0<r.length&&(a=new Di("onChange","change",null,a,u),t.push({event:a,listeners:r}))}var wl=null,Rl=null;function DR(t){yE(t,0)}function Dc(t){var r=Sn(t);if(Gs(r))return t}function ky(t,r){if(t==="change")return r}var Py=!1;if(kn){var hd;if(kn){var dd="oninput"in document;if(!dd){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),dd=typeof Uy.oninput=="function"}hd=dd}else hd=!1;Py=hd&&(!document.documentMode||9<document.documentMode)}function jy(){wl&&(wl.detachEvent("onpropertychange",zy),Rl=wl=null)}function zy(t){if(t.propertyName==="value"&&Dc(Rl)){var r=[];Ly(r,Rl,t,Ln(t)),Gr(DR,r)}}function OR(t,r,a){t==="focusin"?(jy(),wl=r,Rl=a,wl.attachEvent("onpropertychange",zy)):t==="focusout"&&jy()}function xR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(Rl)}function MR(t,r){if(t==="click")return Dc(r)}function VR(t,r){if(t==="input"||t==="change")return Dc(r)}function LR(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:LR;function Cl(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!wt.call(r,h)||!bn(t[h],r[h]))return!1}return!0}function By(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,r){var a=By(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=By(a)}}function Hy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Hy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Fy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ci(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ci(t.document)}return r}function md(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var kR=kn&&"documentMode"in document&&11>=document.documentMode,$a=null,pd=null,Il=null,gd=!1;function Gy(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gd||$a==null||$a!==Ci(u)||(u=$a,"selectionStart"in u&&md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Il&&Cl(Il,u)||(Il=u,u=vf(pd,"onSelect"),0<u.length&&(r=new Di("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=$a)))}function ea(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ka={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},yd={},$y={};kn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ta(t){if(yd[t])return yd[t];if(!Ka[t])return t;var r=Ka[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in $y)return yd[t]=r[a];return t}var Ky=ta("animationend"),Qy=ta("animationiteration"),Yy=ta("animationstart"),PR=ta("transitionrun"),UR=ta("transitionstart"),jR=ta("transitioncancel"),Xy=ta("transitionend"),Wy=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function si(t,r){Wy.set(t,r),wi(r,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Qa=0,vd=0;function xc(){for(var t=Qa,r=vd=Qa=0;r<t;){var a=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var h=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,u!==null&&h!==null){var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}d!==0&&Jy(a,h,d)}}function Mc(t,r,a,u){Un[Qa++]=t,Un[Qa++]=r,Un[Qa++]=a,Un[Qa++]=u,vd|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ed(t,r,a,u){return Mc(t,r,a,u),Vc(t)}function na(t,r){return Mc(t,null,null,r),Vc(t)}function Jy(t,r,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Et(a),t=d.hiddenUpdates,u=t[h],u===null?t[h]=[r]:u.push(r),r.lane=a|536870912),d):null}function Vc(t){if(50<Xl)throw Xl=0,Nm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ya={};function zR(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,a,u){return new zR(t,r,a,u)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,r){var a=t.alternate;return a===null?(a=wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Lc(t,r,a,u,h,d){var v=0;if(u=t,typeof t=="function")Td(t)&&(v=1);else if(typeof t=="string")v=G1(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=wn(31,a,r,h),t.elementType=N,t.lanes=d,t;case G:return ia(a.children,h,d,r);case P:v=8,h|=24;break;case W:return t=wn(12,a,r,h|2),t.elementType=W,t.lanes=d,t;case me:return t=wn(13,a,r,h),t.elementType=me,t.lanes=d,t;case fe:return t=wn(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case J:v=9;break e;case ce:v=11;break e;case I:v=14;break e;case R:v=16,u=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),u=null}return r=wn(v,a,r,h),r.elementType=t,r.type=u,r.lanes=d,r}function ia(t,r,a,u){return t=wn(7,t,u,r),t.lanes=a,t}function Sd(t,r,a){return t=wn(6,t,null,r),t.lanes=a,t}function e_(t){var r=wn(18,null,null,0);return r.stateNode=t,r}function Ad(t,r,a){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var t_=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=t_.get(t);return a!==void 0?a:(r={value:t,source:r,stack:sl(r)},t_.set(t,r),r)}return{value:t,source:r,stack:sl(r)}}var Xa=[],Wa=0,kc=null,Nl=0,zn=[],Bn=0,Yr=null,Vi=1,Li="";function sr(t,r){Xa[Wa++]=Nl,Xa[Wa++]=kc,kc=t,Nl=r}function n_(t,r,a){zn[Bn++]=Vi,zn[Bn++]=Li,zn[Bn++]=Yr,Yr=t;var u=Vi;t=Li;var h=32-Et(u)-1;u&=~(1<<h),a+=1;var d=32-Et(r)+h;if(30<d){var v=h-h%5;d=(u&(1<<v)-1).toString(32),u>>=v,h-=v,Vi=1<<32-Et(r)+h|a<<h|u,Li=d+t}else Vi=1<<d|a<<h|u,Li=t}function bd(t){t.return!==null&&(sr(t,1),n_(t,1,0))}function wd(t){for(;t===kc;)kc=Xa[--Wa],Xa[Wa]=null,Nl=Xa[--Wa],Xa[Wa]=null;for(;t===Yr;)Yr=zn[--Bn],zn[Bn]=null,Li=zn[--Bn],zn[Bn]=null,Vi=zn[--Bn],zn[Bn]=null}function i_(t,r){zn[Bn++]=Vi,zn[Bn++]=Li,zn[Bn++]=Yr,Vi=r.id,Li=r.overflow,Yr=t}var Qt=null,ct=null,qe=!1,Xr=null,qn=!1,Rd=Error(s(519));function Wr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(jn(r,t)),Rd}function r_(t){var r=t.stateNode,a=t.type,u=t.memoizedProps;switch(r[Ct]=t,r[zt]=u,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Le(Jl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),pc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),qr(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||TE(r.textContent,a)?(u.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),u.onScroll!=null&&Le("scroll",r),u.onScrollEnd!=null&&Le("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Wr(t,!0)}function s_(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qt=Qt.return}}function Ja(t){if(t!==Qt)return!1;if(!qe)return s_(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fm(t.type,t.memoizedProps)),a=!a),a&&ct&&Wr(t),s_(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=DE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=DE(t)}else r===27?(r=ct,fs(t.type)?(t=Ym,Ym=null,ct=t):ct=r):ct=Qt?Fn(t.stateNode.nextSibling):null;return!0}function ra(){ct=Qt=null,qe=!1}function Cd(){var t=Xr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Xr=null),t}function Dl(t){Xr===null?Xr=[t]:Xr.push(t)}var Id=V(null),sa=null,ar=null;function Jr(t,r,a){se(Id,r._currentValue),r._currentValue=a}function or(t){t._currentValue=Id.current,Y(Id)}function Nd(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}}function Dd(t,r,a,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<r.length;O++)if(S.context===r[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Nd(d.return,a,t),u||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Za(t,r,a,u){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}h=h.return}t!==null&&Dd(r,t,a,u),r.flags|=262144}function Pc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return a_(sa,t)}function Uc(t,r){return sa===null&&aa(t),a_(t,r)}function a_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(s(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return a}var BR=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},qR=i.unstable_scheduleCallback,HR=i.unstable_NormalPriority,Dt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new BR,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&qR(HR,function(){t.controller.abort()})}var xl=null,xd=0,eo=0,to=null;function FR(t,r){if(xl===null){var a=xl=[];xd=0,eo=Lm(),to={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xd++,r.then(o_,o_),r}function o_(){if(--xd===0&&xl!==null){to!==null&&(to.status="fulfilled");var t=xl;xl=null,eo=0,to=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function GR(t,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var l_=Q.S;Q.S=function(t,r){Gv=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FR(t,r),l_!==null&&l_(t,r)};var oa=V(null);function Md(){var t=oa.current;return t!==null?t:at.pooledCache}function jc(t,r){r===null?se(oa,oa.current):se(oa,r.pool)}function u_(){var t=Md();return t===null?null:{parent:Dt._currentValue,pool:t}}var no=Error(s(460)),Vd=Error(s(474)),zc=Error(s(542)),Bc={then:function(){}};function c_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function f_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,d_(t),t;default:if(typeof r.status=="string")r.then(ei,ei);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,d_(t),t}throw ua=r,no}}function la(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ua=a,no):a}}var ua=null;function h_(){if(ua===null)throw Error(s(459));var t=ua;return ua=null,t}function d_(t){if(t===no||t===zc)throw Error(s(483))}var io=null,Ml=0;function qc(t){var r=Ml;return Ml+=1,io===null&&(io=[]),f_(io,t,r)}function Vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Hc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function m_(t){function r(j,L){if(t){var q=j.deletions;q===null?(j.deletions=[L],j.flags|=16):q.push(L)}}function a(j,L){if(!t)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function u(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=rr(j,L),j.index=0,j.sibling=null,j}function d(j,L,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<L?(j.flags|=67108866,L):q):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,L,q,Z){return L===null||L.tag!==6?(L=Sd(q,j.mode,Z),L.return=j,L):(L=h(L,q),L.return=j,L)}function O(j,L,q,Z){var _e=q.type;return _e===G?X(j,L,q.props.children,Z,q.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&la(_e)===L.type)?(L=h(L,q.props),Vl(L,q),L.return=j,L):(L=Lc(q.type,q.key,q.props,null,j.mode,Z),Vl(L,q),L.return=j,L)}function H(j,L,q,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Ad(q,j.mode,Z),L.return=j,L):(L=h(L,q.children||[]),L.return=j,L)}function X(j,L,q,Z,_e){return L===null||L.tag!==7?(L=ia(q,j.mode,Z,_e),L.return=j,L):(L=h(L,q),L.return=j,L)}function ne(j,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Sd(""+L,j.mode,q),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return q=Lc(L.type,L.key,L.props,null,j.mode,q),Vl(q,L),q.return=j,q;case z:return L=Ad(L,j.mode,q),L.return=j,L;case R:return L=la(L),ne(j,L,q)}if(rt(L)||U(L))return L=ia(L,j.mode,q,null),L.return=j,L;if(typeof L.then=="function")return ne(j,qc(L),q);if(L.$$typeof===re)return ne(j,Uc(j,L),q);Hc(j,L)}return null}function F(j,L,q,Z){var _e=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:S(j,L,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===_e?O(j,L,q,Z):null;case z:return q.key===_e?H(j,L,q,Z):null;case R:return q=la(q),F(j,L,q,Z)}if(rt(q)||U(q))return _e!==null?null:X(j,L,q,Z,null);if(typeof q.then=="function")return F(j,L,qc(q),Z);if(q.$$typeof===re)return F(j,L,Uc(j,q),Z);Hc(j,q)}return null}function K(j,L,q,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,S(L,j,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return j=j.get(Z.key===null?q:Z.key)||null,O(L,j,Z,_e);case z:return j=j.get(Z.key===null?q:Z.key)||null,H(L,j,Z,_e);case R:return Z=la(Z),K(j,L,q,Z,_e)}if(rt(Z)||U(Z))return j=j.get(q)||null,X(L,j,Z,_e,null);if(typeof Z.then=="function")return K(j,L,q,qc(Z),_e);if(Z.$$typeof===re)return K(j,L,q,Uc(L,Z),_e);Hc(L,Z)}return null}function de(j,L,q,Z){for(var _e=null,Ge=null,pe=L,Oe=L=0,Ue=null;pe!==null&&Oe<q.length;Oe++){pe.index>Oe?(Ue=pe,pe=null):Ue=pe.sibling;var $e=F(j,pe,q[Oe],Z);if($e===null){pe===null&&(pe=Ue);break}t&&pe&&$e.alternate===null&&r(j,pe),L=d($e,L,Oe),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e,pe=Ue}if(Oe===q.length)return a(j,pe),qe&&sr(j,Oe),_e;if(pe===null){for(;Oe<q.length;Oe++)pe=ne(j,q[Oe],Z),pe!==null&&(L=d(pe,L,Oe),Ge===null?_e=pe:Ge.sibling=pe,Ge=pe);return qe&&sr(j,Oe),_e}for(pe=u(pe);Oe<q.length;Oe++)Ue=K(pe,j,Oe,q[Oe],Z),Ue!==null&&(t&&Ue.alternate!==null&&pe.delete(Ue.key===null?Oe:Ue.key),L=d(Ue,L,Oe),Ge===null?_e=Ue:Ge.sibling=Ue,Ge=Ue);return t&&pe.forEach(function(gs){return r(j,gs)}),qe&&sr(j,Oe),_e}function ve(j,L,q,Z){if(q==null)throw Error(s(151));for(var _e=null,Ge=null,pe=L,Oe=L=0,Ue=null,$e=q.next();pe!==null&&!$e.done;Oe++,$e=q.next()){pe.index>Oe?(Ue=pe,pe=null):Ue=pe.sibling;var gs=F(j,pe,$e.value,Z);if(gs===null){pe===null&&(pe=Ue);break}t&&pe&&gs.alternate===null&&r(j,pe),L=d(gs,L,Oe),Ge===null?_e=gs:Ge.sibling=gs,Ge=gs,pe=Ue}if($e.done)return a(j,pe),qe&&sr(j,Oe),_e;if(pe===null){for(;!$e.done;Oe++,$e=q.next())$e=ne(j,$e.value,Z),$e!==null&&(L=d($e,L,Oe),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e);return qe&&sr(j,Oe),_e}for(pe=u(pe);!$e.done;Oe++,$e=q.next())$e=K(pe,j,Oe,$e.value,Z),$e!==null&&(t&&$e.alternate!==null&&pe.delete($e.key===null?Oe:$e.key),L=d($e,L,Oe),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e);return t&&pe.forEach(function(nC){return r(j,nC)}),qe&&sr(j,Oe),_e}function it(j,L,q,Z){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var _e=q.key;L!==null;){if(L.key===_e){if(_e=q.type,_e===G){if(L.tag===7){a(j,L.sibling),Z=h(L,q.props.children),Z.return=j,j=Z;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&la(_e)===L.type){a(j,L.sibling),Z=h(L,q.props),Vl(Z,q),Z.return=j,j=Z;break e}a(j,L);break}else r(j,L);L=L.sibling}q.type===G?(Z=ia(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Lc(q.type,q.key,q.props,null,j.mode,Z),Vl(Z,q),Z.return=j,j=Z)}return v(j);case z:e:{for(_e=q.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(j,L.sibling),Z=h(L,q.children||[]),Z.return=j,j=Z;break e}else{a(j,L);break}else r(j,L);L=L.sibling}Z=Ad(q,j.mode,Z),Z.return=j,j=Z}return v(j);case R:return q=la(q),it(j,L,q,Z)}if(rt(q))return de(j,L,q,Z);if(U(q)){if(_e=U(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),ve(j,L,q,Z)}if(typeof q.then=="function")return it(j,L,qc(q),Z);if(q.$$typeof===re)return it(j,L,Uc(j,q),Z);Hc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(j,L.sibling),Z=h(L,q),Z.return=j,j=Z):(a(j,L),Z=Sd(q,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,L)}return function(j,L,q,Z){try{Ml=0;var _e=it(j,L,q,Z);return io=null,_e}catch(pe){if(pe===no||pe===zc)throw pe;var Ge=wn(29,pe,null,j.mode);return Ge.lanes=Z,Ge.return=j,Ge}finally{}}}var ca=m_(!0),p_=m_(!1),Zr=!1;function Ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Vc(t),Jy(t,null,a),r}return Mc(t,u,r,a),Vc(t)}function Ll(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,ll(t,a)}}function Pd(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ud=!1;function kl(){if(Ud){var t=to;if(t!==null)throw t}}function Pl(t,r,a,u){Ud=!1;var h=t.updateQueue;Zr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,H=O.next;O.next=null,v===null?d=H:v.next=H,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=O))}if(d!==null){var ne=h.baseState;v=0,X=H=O=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Pe&F)===F:(u&F)===F){F!==0&&F===eo&&(Ud=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,ve=S;F=r;var it=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ne=de.call(it,ne,F);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,F=typeof de=="function"?de.call(it,ne,F):de,F==null)break e;ne=T({},ne,F);break e;case 2:Zr=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=K,O=ne):X=X.next=K,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),as|=v,t.lanes=v,t.memoizedState=ne}}function g_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function y_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)g_(a[t],r)}var ro=V(null),Fc=V(0);function __(t,r){t=gr,se(Fc,t),se(ro,r),gr=t|r.baseLanes}function jd(){se(Fc,gr),se(ro,ro.current)}function zd(){gr=Fc.current,Y(ro),Y(Fc)}var Rn=V(null),Hn=null;function ns(t){var r=t.alternate;se(St,St.current&1),se(Rn,t),Hn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Hn=t)}function Bd(t){se(St,St.current),se(Rn,t),Hn===null&&(Hn=t)}function v_(t){t.tag===22?(se(St,St.current),se(Rn,t),Hn===null&&(Hn=t)):is()}function is(){se(St,St.current),se(Rn,Rn.current)}function Cn(t){Y(Rn),Hn===t&&(Hn=null),Y(St)}var St=V(0);function Gc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Km(a)||Qm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,De=null,tt=null,Ot=null,$c=!1,so=!1,fa=!1,Kc=0,Ul=0,ao=null,$R=0;function yt(){throw Error(s(321))}function qd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function Hd(t,r,a,u,h,d){return lr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?nv:rm,fa=!1,d=a(u,h),fa=!1,so&&(d=T_(r,a,u,h)),E_(t),d}function E_(t){Q.H=Bl;var r=tt!==null&&tt.next!==null;if(lr=0,Ot=tt=De=null,$c=!1,Ul=0,ao=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&Pc(t)&&(xt=!0))}function T_(t,r,a,u){De=t;var h=0;do{if(so&&(ao=null),Ul=0,so=!1,25<=h)throw Error(s(301));if(h+=1,Ot=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=iv,d=r(a,u)}while(so);return d}function KR(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?jl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(De.flags|=1024),r}function Fd(){var t=Kc!==0;return Kc=0,t}function Gd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $d(t){if($c){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}$c=!1}lr=0,Ot=tt=De=null,so=!1,Ul=Kc=0,ao=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?De.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function At(){if(tt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Ot===null?De.memoizedState:Ot.next;if(r!==null)Ot=r,tt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?De.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var r=Ul;return Ul+=1,ao===null&&(ao=[]),t=f_(ao,t,r),r=De,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?nv:rm),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function Kd(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),u=0;u<t;u++)a[u]=k;return r.index++,a}function ur(t,r){return typeof r=="function"?r(t):r}function Xc(t){var r=At();return Qd(r,tt,t)}function Qd(t,r,a){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=t.baseQueue,d=u.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,u.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var S=v=null,O=null,H=r,X=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Pe&ne)===ne:(lr&ne)===ne){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===eo&&(X=!0);else if((lr&F)===F){H=H.next,F===eo&&(X=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=ne,v=d):O=O.next=ne,De.lanes|=F,as|=F;ne=H.action,fa&&a(d,ne),d=H.hasEagerState?H.eagerState:a(d,ne)}else F={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=F,v=d):O=O.next=F,De.lanes|=ne,as|=ne;H=H.next}while(H!==null&&H!==r);if(O===null?v=d:O.next=S,!bn(d,t.memoizedState)&&(xt=!0,X&&(a=to,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,u.lastRenderedState=d}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Yd(t){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var u=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function S_(t,r,a){var u=De,h=At(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!bn((tt||h).memoizedState,a);if(v&&(h.memoizedState=a,xt=!0),h=h.queue,Jd(w_.bind(null,u,h,t),[t]),h.getSnapshot!==r||v||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,oo(9,{destroy:void 0},b_.bind(null,u,h,a,r),null),at===null)throw Error(s(349));d||(lr&127)!==0||A_(u,r,a)}return a}function A_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Qc(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function b_(t,r,a,u){r.value=a,r.getSnapshot=u,R_(r)&&C_(t)}function w_(t,r,a){return a(function(){R_(r)&&C_(t)})}function R_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function C_(t){var r=na(t,2);r!==null&&gn(r,t,2)}function Xd(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),fa){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},r}function I_(t,r,a,u){return t.baseState=a,Qd(t,tt,typeof u=="function"?u:ur)}function QR(t,r,a,u,h){if(Zc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,N_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function N_(t,r){var a=r.action,u=r.payload,h=t.state;if(r.isTransition){var d=Q.T,v={};Q.T=v;try{var S=a(h,u),O=Q.S;O!==null&&O(v,S),D_(t,r,S)}catch(H){Wd(t,r,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,u),D_(t,r,d)}catch(H){Wd(t,r,H)}}function D_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){O_(t,r,u)},function(u){return Wd(t,r,u)}):O_(t,r,a)}function O_(t,r,a){r.status="fulfilled",r.value=a,x_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,N_(t,a)))}function Wd(t,r,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,x_(r),r=r.next;while(r!==u)}t.action=null}function x_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function M_(t,r){return r}function V_(t,r){if(qe){var a=at.formState;if(a!==null){e:{var u=De;if(qe){if(ct){t:{for(var h=ct,d=qn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Fn(h.nextSibling),u=h.data==="F!";break e}}Wr(u)}u=!1}u&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M_,lastRenderedState:r},a.queue=u,a=Z_.bind(null,De,u),u.dispatch=a,u=Xd(!1),d=im.bind(null,De,!1,u.queue),u=ln(),h={state:r,dispatch:null,action:t,pending:null},u.queue=h,a=QR.bind(null,De,h,d,a),h.dispatch=a,u.memoizedState=t,[r,a,!1]}function L_(t){var r=At();return k_(r,tt,t)}function k_(t,r,a){if(r=Qd(t,r,M_)[0],t=Xc(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=jl(r)}catch(v){throw v===no?zc:v}else u=r;r=At();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,oo(9,{destroy:void 0},YR.bind(null,h,a),null)),[u,d,t]}function YR(t,r){t.action=r}function P_(t){var r=At(),a=tt;if(a!==null)return k_(r,a,t);At(),r=r.memoizedState,a=At();var u=a.queue.dispatch;return a.memoizedState=t,[r,u,!1]}function oo(t,r,a,u){return t={tag:t,create:a,deps:u,inst:r,next:null},r=De.updateQueue,r===null&&(r=Qc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t),t}function U_(){return At().memoizedState}function Wc(t,r,a,u){var h=ln();De.flags|=t,h.memoizedState=oo(1|r,{destroy:void 0},a,u===void 0?null:u)}function Jc(t,r,a,u){var h=At();u=u===void 0?null:u;var d=h.memoizedState.inst;tt!==null&&u!==null&&qd(u,tt.memoizedState.deps)?h.memoizedState=oo(r,d,a,u):(De.flags|=t,h.memoizedState=oo(1|r,d,a,u))}function j_(t,r){Wc(8390656,8,t,r)}function Jd(t,r){Jc(2048,8,t,r)}function XR(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=Qc(),De.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function z_(t){var r=At().memoizedState;return XR({ref:r,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function B_(t,r){return Jc(4,2,t,r)}function q_(t,r){return Jc(4,4,t,r)}function H_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function F_(t,r,a){a=a!=null?a.concat([t]):null,Jc(4,4,H_.bind(null,r,t),a)}function Zd(){}function G_(t,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&qd(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function $_(t,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&qd(r,u[1]))return u[0];if(u=t(),fa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[u,r],u}function em(t,r,a){return a===void 0||(lr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Kv(),De.lanes|=t,as|=t,a)}function K_(t,r,a,u){return bn(a,r)?a:ro.current!==null?(t=em(t,a,u),bn(t,r)||(xt=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(Pe&261930)===0?(xt=!0,t.memoizedState=a):(t=Kv(),De.lanes|=t,as|=t,r)}function Q_(t,r,a,u,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=Q.T,S={};Q.T=S,im(t,!1,r,a);try{var O=h(),H=Q.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=GR(O,u);zl(t,r,X,Dn(t))}else zl(t,r,u,Dn(t))}catch(ne){zl(t,r,{then:function(){},status:"rejected",reason:ne},Dn())}finally{te.p=d,v!==null&&S.types!==null&&(v.types=S.types),Q.T=v}}function WR(){}function tm(t,r,a,u){if(t.tag!==5)throw Error(s(476));var h=Y_(t).queue;Q_(t,h,r,oe,a===null?WR:function(){return X_(t),a(u)})}function Y_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function X_(t){var r=Y_(t);r.next===null&&(r=t.alternate.memoizedState),zl(t,r.next.queue,{},Dn())}function nm(){return Yt(iu)}function W_(){return At().memoizedState}function J_(){return At().memoizedState}function JR(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();t=es(a);var u=ts(r,t,a);u!==null&&(gn(u,r,a),Ll(u,r,a)),r={cache:Od()},t.payload=r;return}r=r.return}}function ZR(t,r,a){var u=Dn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(t)?ev(r,a):(a=Ed(t,r,a,u),a!==null&&(gn(a,t,u),tv(a,r,u)))}function Z_(t,r,a){var u=Dn();zl(t,r,a,u)}function zl(t,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(t))ev(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,bn(S,v))return Mc(t,r,h,0),at===null&&xc(),!1}catch{}finally{}if(a=Ed(t,r,h,u),a!==null)return gn(a,t,u),tv(a,r,u),!0}return!1}function im(t,r,a,u){if(u={lane:2,revertLane:Lm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zc(t)){if(r)throw Error(s(479))}else r=Ed(t,a,u,2),r!==null&&gn(r,t,2)}function Zc(t){var r=t.alternate;return t===De||r!==null&&r===De}function ev(t,r){so=$c=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function tv(t,r,a){if((a&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,ll(t,a)}}var Bl={readContext:Yt,use:Yc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Bl.useEffectEvent=yt;var nv={readContext:Yt,use:Yc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:j_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Wc(4194308,4,H_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Wc(4194308,4,t,r)},useInsertionEffect:function(t,r){Wc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var u=t();if(fa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(t,r,a){var u=ln();if(a!==void 0){var h=a(r);if(fa){Mn(!0);try{a(r)}finally{Mn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=ZR.bind(null,De,t),[u.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Xd(t);var r=t.queue,a=Z_.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(t,r){var a=ln();return em(a,t,r)},useTransition:function(){var t=Xd(!1);return t=Q_.bind(null,De,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var u=De,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(Pe&127)!==0||A_(u,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,j_(w_.bind(null,u,d,t),[t]),u.flags|=2048,oo(9,{destroy:void 0},b_.bind(null,u,d,a,r),null),a},useId:function(){var t=ln(),r=at.identifierPrefix;if(qe){var a=Li,u=Vi;a=(u&~(1<<32-Et(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Kc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$R++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:nm,useFormState:V_,useActionState:V_,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=im.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:Kd,useCacheRefresh:function(){return ln().memoizedState=JR.bind(null,De)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rm={readContext:Yt,use:Yc,useCallback:G_,useContext:Yt,useEffect:Jd,useImperativeHandle:F_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:$_,useReducer:Xc,useRef:U_,useState:function(){return Xc(ur)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=At();return K_(a,tt.memoizedState,t,r)},useTransition:function(){var t=Xc(ur)[0],r=At().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:S_,useId:W_,useHostTransitionStatus:nm,useFormState:L_,useActionState:L_,useOptimistic:function(t,r){var a=At();return I_(a,tt,t,r)},useMemoCache:Kd,useCacheRefresh:J_};rm.useEffectEvent=z_;var iv={readContext:Yt,use:Yc,useCallback:G_,useContext:Yt,useEffect:Jd,useImperativeHandle:F_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:$_,useReducer:Yd,useRef:U_,useState:function(){return Yd(ur)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=At();return tt===null?em(a,t,r):K_(a,tt.memoizedState,t,r)},useTransition:function(){var t=Yd(ur)[0],r=At().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:S_,useId:W_,useHostTransitionStatus:nm,useFormState:P_,useActionState:P_,useOptimistic:function(t,r){var a=At();return tt!==null?I_(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:J_};iv.useEffectEvent=z_;function sm(t,r,a,u){r=t.memoizedState,a=a(u,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var am={enqueueSetState:function(t,r,a){t=t._reactInternals;var u=Dn(),h=es(u);h.payload=r,a!=null&&(h.callback=a),r=ts(t,h,u),r!==null&&(gn(r,t,u),Ll(r,t,u))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=Dn(),h=es(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ts(t,h,u),r!==null&&(gn(r,t,u),Ll(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Dn(),u=es(a);u.tag=2,r!=null&&(u.callback=r),r=ts(t,u,a),r!==null&&(gn(r,t,a),Ll(r,t,a))}};function rv(t,r,a,u,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!Cl(a,u)||!Cl(h,d):!0}function sv(t,r,a,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==t&&am.enqueueReplaceState(r,r.state,null)}function ha(t,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function av(t){Oc(t)}function ov(t){console.error(t)}function lv(t){Oc(t)}function ef(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function uv(t,r,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function om(t,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){ef(t,r)},a}function cv(t){return t=es(t),t.tag=3,t}function fv(t,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=u.value;t.payload=function(){return h(d)},t.callback=function(){uv(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){uv(r,a,u),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function e1(t,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Za(r,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?df():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Bc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),xm(t,u,h)),!1;case 22:return a.flags|=65536,u===Bc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),xm(t,u,h)),!1}throw Error(s(435,a.tag))}return xm(t,u,h),df(),!1}if(qe)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Rd&&(t=Error(s(422),{cause:u}),Dl(jn(t,a)))):(u!==Rd&&(r=Error(s(423),{cause:u}),Dl(jn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=jn(u,a),h=om(t.stateNode,u,h),Pd(t,h),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:u});if(d=jn(d,a),Yl===null?Yl=[d]:Yl.push(d),_t!==4&&(_t=2),r===null)return!0;u=jn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=om(a.stateNode,u,t),Pd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cv(h),fv(h,t,a,u),Pd(a,h),!1}a=a.return}while(a!==null);return!1}var lm=Error(s(461)),xt=!1;function Xt(t,r,a,u){r.child=t===null?p_(r,null,a,u):ca(r,t.child,a,u)}function hv(t,r,a,u,h){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return aa(r),u=Hd(t,r,a,v,d,h),S=Fd(),t!==null&&!xt?(Gd(t,r,h),cr(t,r,h)):(qe&&S&&bd(r),r.flags|=1,Xt(t,r,u,h),r.child)}function dv(t,r,a,u,h){if(t===null){var d=a.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,mv(t,r,d,u,h)):(t=Lc(a.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!gm(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(v,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=rr(d,u),t.ref=r.ref,t.return=r,r.child=t}function mv(t,r,a,u,h){if(t!==null){var d=t.memoizedProps;if(Cl(d,u)&&t.ref===r.ref)if(xt=!1,r.pendingProps=u=d,gm(t,h))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return um(t,r,a,u,h)}function pv(t,r,a,u){var h=u.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(u=r.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~d}else u=0,r.child=null;return gv(t,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&jc(r,d!==null?d.cachePool:null),d!==null?__(r,d):jd(),v_(r);else return u=r.lanes=536870912,gv(t,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(jc(r,d.cachePool),__(r,d),is(),r.memoizedState=null):(t!==null&&jc(r,null),jd(),is());return Xt(t,r,h,a),r.child}function ql(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function gv(t,r,a,u,h){var d=Md();return d=d===null?null:{parent:Dt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&jc(r,null),jd(),v_(r),t!==null&&Za(t,r,u,!0),r.childLanes=h,null}function tf(t,r){return r=rf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function yv(t,r,a){return ca(r,t.child,null,a),t=tf(r,r.pendingProps),t.flags|=2,Cn(r),r.memoizedState=null,t}function t1(t,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(qe){if(u.mode==="hidden")return t=tf(r,u),r.lanes=536870912,ql(null,t);if(Bd(r),(t=ct)?(t=NE(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Vi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=e_(t),a.return=r,r.child=a,Qt=r,ct=null)):t=null,t===null)throw Wr(r);return r.lanes=536870912,null}return tf(r,u)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Bd(r),h)if(r.flags&256)r.flags&=-257,r=yv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xt||Za(t,r,a,!1),h=(a&t.childLanes)!==0,xt||h){if(u=at,u!==null&&(v=ul(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,na(t,v),gn(u,t,v),lm;df(),r=yv(t,r,a)}else t=d.treeContext,ct=Fn(v.nextSibling),Qt=r,qe=!0,Xr=null,qn=!1,t!==null&&i_(r,t),r=tf(r,u),r.flags|=4096;return r}return t=rr(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function nf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function um(t,r,a,u,h){return aa(r),a=Hd(t,r,a,u,void 0,h),u=Fd(),t!==null&&!xt?(Gd(t,r,h),cr(t,r,h)):(qe&&u&&bd(r),r.flags|=1,Xt(t,r,a,h),r.child)}function _v(t,r,a,u,h,d){return aa(r),r.updateQueue=null,a=T_(r,u,a,h),E_(t),u=Fd(),t!==null&&!xt?(Gd(t,r,d),cr(t,r,d)):(qe&&u&&bd(r),r.flags|=1,Xt(t,r,a,d),r.child)}function vv(t,r,a,u,h){if(aa(r),r.stateNode===null){var d=Ya,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=am,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Ld(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ya,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sm(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&am.enqueueReplaceState(d,d.state,null),Pl(r,u,d,h),kl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,O=ha(a,S);d.props=O;var H=d.context,X=a.contextType;v=Ya,typeof X=="object"&&X!==null&&(v=Yt(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==v)&&sv(r,d,u,v),Zr=!1;var F=r.memoizedState;d.state=F,Pl(r,u,d,h),kl(),H=r.memoizedState,S||F!==H||Zr?(typeof ne=="function"&&(sm(r,a,ne,u),H=r.memoizedState),(O=Zr||rv(r,a,O,u,F,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),d.props=u,d.state=H,d.context=v,u=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,kd(t,r),v=r.memoizedProps,X=ha(a,v),d.props=X,ne=r.pendingProps,F=d.context,H=a.contextType,O=Ya,typeof H=="object"&&H!==null&&(O=Yt(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||F!==O)&&sv(r,d,u,O),Zr=!1,F=r.memoizedState,d.state=F,Pl(r,u,d,h),kl();var K=r.memoizedState;v!==ne||F!==K||Zr||t!==null&&t.dependencies!==null&&Pc(t.dependencies)?(typeof S=="function"&&(sm(r,a,S,u),K=r.memoizedState),(X=Zr||rv(r,a,X,u,F,K,O)||t!==null&&t.dependencies!==null&&Pc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,K,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),d.props=u,d.state=K,d.context=O,u=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),u=!1)}return d=u,nf(t,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&u?(r.child=ca(r,t.child,null,h),r.child=ca(r,null,a,h)):Xt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=cr(t,r,h),t}function Ev(t,r,a,u){return ra(),r.flags|=256,Xt(t,r,a,u),r.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(t){return{baseLanes:t,cachePool:u_()}}function hm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function Tv(t,r,a){var u=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?ns(r):is(),(t=ct)?(t=NE(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Vi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=e_(t),a.return=r,r.child=a,Qt=r,ct=null)):t=null,t===null)throw Wr(r);return Qm(t)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,h?(is(),h=r.mode,S=rf({mode:"hidden",children:S},h),u=ia(u,h,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=fm(a),u.childLanes=hm(t,v,a),r.memoizedState=cm,ql(null,u)):(ns(r),dm(r,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)r.flags&256?(ns(r),r.flags&=-257,r=mm(t,r,a)):r.memoizedState!==null?(is(),r.child=t.child,r.flags|=128,r=null):(is(),S=u.fallback,h=r.mode,u=rf({mode:"visible",children:u.children},h),S=ia(S,h,a,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,ca(r,t.child,null,a),u=r.child,u.memoizedState=fm(a),u.childLanes=hm(t,v,a),r.memoizedState=cm,r=ql(null,u));else if(ns(r),Qm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,u=Error(s(419)),u.stack="",u.digest=v,Dl({value:u,source:null,stack:null}),r=mm(t,r,a)}else if(xt||Za(t,r,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=at,v!==null&&(u=ul(v,a),u!==0&&u!==O.retryLane))throw O.retryLane=u,na(t,u),gn(v,t,u),lm;Km(S)||df(),r=mm(t,r,a)}else Km(S)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ct=Fn(S.nextSibling),Qt=r,qe=!0,Xr=null,qn=!1,t!==null&&i_(r,t),r=dm(r,u.children),r.flags|=4096);return r}return h?(is(),S=u.fallback,h=r.mode,O=t.child,H=O.sibling,u=rr(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,H!==null?S=rr(H,S):(S=ia(S,h,a,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,ql(null,u),u=r.child,S=t.child.memoizedState,S===null?S=fm(a):(h=S.cachePool,h!==null?(O=Dt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=u_(),S={baseLanes:S.baseLanes|a,cachePool:h}),u.memoizedState=S,u.childLanes=hm(t,v,a),r.memoizedState=cm,ql(t.child,u)):(ns(r),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function dm(t,r){return r=rf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function rf(t,r){return t=wn(22,t,null,r),t.lanes=0,t}function mm(t,r,a){return ca(r,t.child,null,a),t=dm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Sv(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Nd(t.return,r,a)}function pm(t,r,a,u,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Av(t,r,a){var u=r.pendingProps,h=u.revealOrder,d=u.tail;u=u.children;var v=St.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,se(St,v),Xt(t,r,u,a),u=qe?Nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,a,r);else if(t.tag===19)Sv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Gc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),pm(r,!1,h,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Gc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pm(r,!0,a,null,d,u);break;case"together":pm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function cr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),as|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Za(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=rr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function gm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Pc(t)))}function n1(t,r,a){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),Jr(r,Dt,t.memoizedState.cache),ra();break;case 27:case 5:Yn(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:Jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ns(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Tv(t,r,a):(ns(r),t=cr(t,r,a),t!==null?t.sibling:null);ns(r);break;case 19:var h=(t.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Za(t,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return Av(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(St,St.current),u)break;return null;case 22:return r.lanes=0,pv(t,r,a,r.pendingProps);case 24:Jr(r,Dt,t.memoizedState.cache)}return cr(t,r,a)}function bv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!gm(t,a)&&(r.flags&128)===0)return xt=!1,n1(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,qe&&(r.flags&1048576)!==0&&n_(r,Nl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=la(r.elementType),r.type=t,typeof t=="function")Td(t)?(u=ha(t,u),r.tag=1,r=vv(null,r,t,u,a)):(r.tag=0,r=um(null,r,t,u,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){r.tag=11,r=hv(null,r,t,u,a);break e}else if(h===I){r.tag=14,r=dv(null,r,t,u,a);break e}}throw r=Fe(t)||t,Error(s(306,r,""))}}return r;case 0:return um(t,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=ha(u,r.pendingProps),vv(t,r,u,h,a);case 3:e:{if(vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;h=d.element,kd(t,r),Pl(r,u,null,a);var v=r.memoizedState;if(u=v.cache,Jr(r,Dt,u),u!==d.cache&&Dd(r,[Dt],a,!0),kl(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ev(t,r,u,a);break e}else if(u!==h){h=jn(Error(s(424)),r),Dl(h),r=Ev(t,r,u,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Fn(t.firstChild),Qt=r,qe=!0,Xr=null,qn=!0,a=p_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),u===h){r=cr(t,r,a);break e}Xt(t,r,u,a)}r=r.child}return r;case 26:return nf(t,r),t===null?(a=LE(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,u=Ef(be.current).createElement(a),u[Ct]=r,u[zt]=t,Wt(u,a,t),It(u),r.stateNode=u):r.memoizedState=LE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Yn(r),t===null&&qe&&(u=r.stateNode=xE(r.type,r.pendingProps,be.current),Qt=r,qn=!0,h=ct,fs(r.type)?(Ym=h,ct=Fn(u.firstChild)):ct=h),Xt(t,r,r.pendingProps.children,a),nf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=u=ct)&&(u=x1(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qt=r,ct=Fn(u.firstChild),qn=!1,h=!0):h=!1),h||Wr(r)),Yn(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,u=d.children,Fm(h,d)?u=null:v!==null&&Fm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Hd(t,r,KR,null,null,a),iu._currentValue=h),nf(t,r),Xt(t,r,u,a),r.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=M1(a,r.pendingProps,qn),a!==null?(r.stateNode=a,Qt=r,ct=null,t=!0):t=!1),t||Wr(r)),null;case 13:return Tv(t,r,a);case 4:return vt(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ca(r,null,u,a):Xt(t,r,u,a),r.child;case 11:return hv(t,r,r.type,r.pendingProps,a);case 7:return Xt(t,r,r.pendingProps,a),r.child;case 8:return Xt(t,r,r.pendingProps.children,a),r.child;case 12:return Xt(t,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Jr(r,r.type,u.value),Xt(t,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,aa(r),h=Yt(h),u=u(h),r.flags|=1,Xt(t,r,u,a),r.child;case 14:return dv(t,r,r.type,r.pendingProps,a);case 15:return mv(t,r,r.type,r.pendingProps,a);case 19:return Av(t,r,a);case 31:return t1(t,r,a);case 22:return pv(t,r,a,r.pendingProps);case 24:return aa(r),u=Yt(Dt),t===null?(h=Md(),h===null&&(h=at,d=Od(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:u,cache:h},Ld(r),Jr(r,Dt,h)):((t.lanes&a)!==0&&(kd(t,r),Pl(r,null,null,a),kl()),h=t.memoizedState,d=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Jr(r,Dt,u)):(u=d.cache,Jr(r,Dt,u),u!==h.cache&&Dd(r,[Dt],a,!0))),Xt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(t){t.flags|=4}function ym(t,r,a,u,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Wv())t.flags|=8192;else throw ua=Bc,Vd}else t.flags&=-16777217}function wv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zE(r))if(Wv())t.flags|=8192;else throw ua=Bc,Vd}function sf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?cc():536870912,t.lanes|=r,fo|=r)}function Hl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function i1(t,r,a){var u=r.pendingProps;switch(wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return a=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),or(Dt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?fr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cd())),ft(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(fr(r),d!==null?(ft(r),wv(r,d)):(ft(r),ym(r,h,null,u,a))):d?d!==t.memoizedState?(fr(r),ft(r),wv(r,d)):(ft(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&fr(r),ft(r),ym(r,h,t,u,a)),null;case 27:if(Pr(r),a=be.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}t=ae.current,Ja(r)?r_(r):(t=xE(h,u,a),r.stateNode=t,fr(r))}return ft(r),null;case 5:if(Pr(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(d=ae.current,Ja(r))r_(r);else{var v=Ef(be.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(h,{is:u.is}):v.createElement(h)}}d[Ct]=r,d[zt]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Wt(d,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fr(r)}}return ft(r),ym(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&fr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Ja(r)){if(t=r.stateNode,a=r.memoizedProps,u=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||TE(t.nodeValue,a)),t||Wr(r,!0)}else t=Ef(t).createTextNode(u),t[Ct]=r,r.stateNode=t}return ft(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(u=Ja(r),a!==null){if(t===null){if(!u)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),t=!1}else a=Cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ft(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),h=!1}else h=Cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==h&&(u.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),sf(r,r.updateQueue),ft(r),null);case 4:return Ze(),t===null&&jm(r.stateNode.containerInfo),ft(r),null;case 10:return or(r.type),ft(r),null;case 19:if(Y(St),u=r.memoizedState,u===null)return ft(r),null;if(h=(r.flags&128)!==0,d=u.rendering,d===null)if(h)Hl(u,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Gc(t),d!==null){for(r.flags|=128,Hl(u,!1),t=d.updateQueue,r.updateQueue=t,sf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Zy(a,t),a=a.sibling;return se(St,St.current&1|2),qe&&sr(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&an()>cf&&(r.flags|=128,h=!0,Hl(u,!1),r.lanes=4194304)}else{if(!h)if(t=Gc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,sf(r,t),Hl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!qe)return ft(r),null}else 2*an()-u.renderingStartTime>cf&&a!==536870912&&(r.flags|=128,h=!0,Hl(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(t=u.last,t!==null?t.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=an(),t.sibling=null,a=St.current,se(St,h?a&1|2:a&1),qe&&sr(r,u.treeForkCount),t):(ft(r),null);case 22:case 23:return Cn(r),zd(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),a=r.updateQueue,a!==null&&sf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),t!==null&&Y(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(Dt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function r1(t,r){switch(wd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return or(Dt),Ze(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Pr(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));ra()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Cn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(St),null;case 4:return Ze(),null;case 10:return or(r.type),null;case 22:case 23:return Cn(r),zd(),t!==null&&Y(oa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return or(Dt),null;case 25:return null;default:return null}}function Rv(t,r){switch(wd(r),r.tag){case 3:or(Dt),Ze();break;case 26:case 27:case 5:Pr(r);break;case 4:Ze();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:Y(St);break;case 10:or(r.type);break;case 22:case 23:Cn(r),zd(),t!==null&&Y(oa);break;case 24:or(Dt)}}function Fl(t,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&t)===t){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==h)}}catch(S){Je(r,r.return,S)}}function rs(t,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var d=h.next;u=d;do{if((u.tag&t)===t){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=r;var O=a,H=S;try{H()}catch(X){Je(h,O,X)}}}u=u.next}while(u!==d)}}catch(X){Je(r,r.return,X)}}function Cv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{y_(r,a)}catch(u){Je(t,t.return,u)}}}function Iv(t,r,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){Je(t,r,u)}}function Gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(h){Je(t,r,h)}}function ki(t,r){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){Je(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,r,h)}else a.current=null}function Nv(t){var r=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function _m(t,r,a){try{var u=t.stateNode;R1(u,t.type,a,r),u[zt]=r}catch(h){Je(t,t.return,h)}}function Dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fs(t.type)||t.tag===4}function vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&fs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Em(t,r,a),t=t.sibling;t!==null;)Em(t,r,a),t=t.sibling}function af(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(u===27&&fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(af(t,r,a),t=t.sibling;t!==null;)af(t,r,a),t=t.sibling}function Ov(t){var r=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Wt(r,u,a),r[Ct]=t,r[zt]=a}catch(d){Je(t,t.return,d)}}var hr=!1,Mt=!1,Tm=!1,xv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function s1(t,r){if(t=t.containerInfo,qm=Cf,t=Fy(t),md(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,H=0,X=0,ne=t,F=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(S=v+h),ne!==d||u!==0&&ne.nodeType!==3||(O=v+u),ne.nodeType===3&&(v+=ne.nodeValue.length),(K=ne.firstChild)!==null;)F=ne,ne=K;for(;;){if(ne===t)break t;if(F===a&&++H===h&&(S=v),F===d&&++X===u&&(O=v),(K=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:t,selectionRange:a},Cf=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var de=ha(a.type,h);t=u.getSnapshotBeforeUpdate(de,d),u.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)$m(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function Mv(t,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),u&4&&Fl(5,a);break;case 1:if(mr(t,a),u&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=ha(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}u&64&&Cv(a),u&512&&Gl(a,a.return);break;case 3:if(mr(t,a),u&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{y_(t,r)}catch(v){Je(a,a.return,v)}}break;case 27:r===null&&u&4&&Ov(a);case 26:case 5:mr(t,a),r===null&&u&4&&Nv(a),u&512&&Gl(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),u&4&&kv(t,a);break;case 13:mr(t,a),u&4&&Pv(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=m1.bind(null,a),V1(t,a))));break;case 22:if(u=a.memoizedState!==null||hr,!u){r=r!==null&&r.memoizedState!==null||Mt,h=hr;var d=Mt;hr=u,(Mt=r)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),hr=h,Mt=d}break;case 30:break;default:mr(t,a)}}function Vv(t){var r=t.alternate;r!==null&&(t.alternate=null,Vv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&La(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,hn=!1;function dr(t,r,a){for(a=a.child;a!==null;)Lv(t,r,a),a=a.sibling}function Lv(t,r,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Mt||ki(a,r),dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||ki(a,r);var u=mt,h=hn;fs(a.type)&&(mt=a.stateNode,hn=!1),dr(t,r,a),eu(a.stateNode),mt=u,hn=h;break;case 5:Mt||ki(a,r);case 6:if(u=mt,h=hn,mt=null,dr(t,r,a),mt=u,hn=h,mt!==null)if(hn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{mt.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:mt!==null&&(hn?(t=mt,CE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):CE(mt,a.stateNode));break;case 4:u=mt,h=hn,mt=a.stateNode.containerInfo,hn=!0,dr(t,r,a),mt=u,hn=h;break;case 0:case 11:case 14:case 15:rs(2,a,r),Mt||rs(4,a,r),dr(t,r,a);break;case 1:Mt||(ki(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Iv(a,r,u)),dr(t,r,a);break;case 21:dr(t,r,a);break;case 22:Mt=(u=Mt)||a.memoizedState!==null,dr(t,r,a),Mt=u;break;default:dr(t,r,a)}}function kv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){Je(r,r.return,a)}}}function Pv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){Je(r,r.return,a)}}function a1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new xv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new xv),r;default:throw Error(s(435,t.tag))}}function of(t,r){var a=a1(t);r.forEach(function(u){if(!a.has(u)){a.add(u);var h=p1.bind(null,t,u);u.then(h,h)}})}function dn(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],d=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(fs(S.type)){mt=S.stateNode,hn=!1;break e}break;case 5:mt=S.stateNode,hn=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(mt===null)throw Error(s(160));Lv(d,v,h),mt=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Uv(r,t),r=r.sibling}var ai=null;function Uv(t,r){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),u&4&&(rs(3,t,t.return),Fl(3,t),rs(5,t,t.return));break;case 1:dn(r,t),mn(t),u&512&&(Mt||a===null||ki(a,a.return)),u&64&&hr&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=ai;if(dn(r,t),mn(t),u&512&&(Mt||a===null||ki(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Si]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(u),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,u,a),d[Ct]=t,It(d),u=d;break e;case"link":var v=UE("link","href",h).get(u+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(u),Wt(d,u,a),h.head.appendChild(d);break;case"meta":if(v=UE("meta","content",h).get(u+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(u),Wt(d,u,a),h.head.appendChild(d);break;default:throw Error(s(468,u))}d[Ct]=t,It(d),u=d}t.stateNode=u}else jE(h,t.type,t.stateNode);else t.stateNode=PE(h,u,t.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?jE(h,t.type,t.stateNode):PE(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&_m(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),u&512&&(Mt||a===null||ki(a,a.return)),a!==null&&u&4&&_m(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),u&512&&(Mt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(de){Je(t,t.return,de)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,_m(t,h,a!==null?a.memoizedProps:h)),u&1024&&(Tm=!0);break;case 6:if(dn(r,t),mn(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(de){Je(t,t.return,de)}}break;case 3:if(Af=null,h=ai,ai=Tf(r.containerInfo),dn(r,t),ai=h,mn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(de){Je(t,t.return,de)}Tm&&(Tm=!1,jv(t));break;case 4:u=ai,ai=Tf(t.stateNode.containerInfo),dn(r,t),mn(t),ai=u;break;case 12:dn(r,t),mn(t);break;case 31:dn(r,t),mn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,of(t,u)));break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uf=an()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,of(t,u)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=hr,X=Mt;if(hr=H||h,Mt=X||O,dn(r,t),Mt=X,hr=H,mn(t),u&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||hr||Mt||da(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var ne=O.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Je(O,O.return,de)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(de){Je(O,O.return,de)}}}else if(r.tag===18){if(a===null){O=r;try{var K=O.stateNode;h?IE(K,!0):IE(O.stateNode,!1)}catch(de){Je(O,O.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,of(t,a))));break;case 19:dn(r,t),mn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,of(t,u)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,u=t.return;u!==null;){if(Dv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vm(t);af(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var S=vm(t);af(t,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,H=vm(t);Em(t,H,O);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function jv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;jv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Mv(t,r.alternate,r),r=r.sibling}function da(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:rs(4,r,r.return),da(r);break;case 1:ki(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Iv(r,r.return,a),da(r);break;case 27:eu(r.stateNode);case 26:case 5:ki(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),Fl(4,d);break;case 1:if(pr(h,d,a),u=d,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(u,u.return,H)}if(u=d,h=u.updateQueue,h!==null){var S=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)g_(O[h],S)}catch(H){Je(u,u.return,H)}}a&&v&64&&Cv(d),Gl(d,d.return);break;case 27:Ov(d);case 26:case 5:pr(h,d,a),a&&u===null&&v&4&&Nv(d),Gl(d,d.return);break;case 12:pr(h,d,a);break;case 31:pr(h,d,a),a&&v&4&&kv(h,d);break;case 13:pr(h,d,a),a&&v&4&&Pv(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Gl(d,d.return);break;case 30:break;default:pr(h,d,a)}r=r.sibling}}function Sm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ol(a))}function Am(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ol(t))}function oi(t,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(t,r,a,u),r=r.sibling}function zv(t,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:oi(t,r,a,u),h&2048&&Fl(9,r);break;case 1:oi(t,r,a,u);break;case 3:oi(t,r,a,u),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ol(t)));break;case 12:if(h&2048){oi(t,r,a,u),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Je(r,r.return,O)}}else oi(t,r,a,u);break;case 31:oi(t,r,a,u);break;case 13:oi(t,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?oi(t,r,a,u):$l(t,r):d._visibility&2?oi(t,r,a,u):(d._visibility|=2,lo(t,r,a,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Sm(v,r);break;case 24:oi(t,r,a,u),h&2048&&Am(r.alternate,r);break;default:oi(t,r,a,u)}}function lo(t,r,a,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,S=a,O=u,H=v.flags;switch(v.tag){case 0:case 11:case 15:lo(d,v,S,O,h),Fl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?lo(d,v,S,O,h):$l(d,v):(X._visibility|=2,lo(d,v,S,O,h)),h&&H&2048&&Sm(v.alternate,v);break;case 24:lo(d,v,S,O,h),h&&H&2048&&Am(v.alternate,v);break;default:lo(d,v,S,O,h)}r=r.sibling}}function $l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,u=r,h=u.flags;switch(u.tag){case 22:$l(a,u),h&2048&&Sm(u.alternate,u);break;case 24:$l(a,u),h&2048&&Am(u.alternate,u);break;default:$l(a,u)}r=r.sibling}}var Kl=8192;function uo(t,r,a){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)Bv(t,r,a),t=t.sibling}function Bv(t,r,a){switch(t.tag){case 26:uo(t,r,a),t.flags&Kl&&t.memoizedState!==null&&$1(a,ai,t.memoizedState,t.memoizedProps);break;case 5:uo(t,r,a);break;case 3:case 4:var u=ai;ai=Tf(t.stateNode.containerInfo),uo(t,r,a),ai=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Kl,Kl=16777216,uo(t,r,a),Kl=u):uo(t,r,a));break;default:uo(t,r,a)}}function qv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ql(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];qt=u,Fv(u,t)}qv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hv(t),t=t.sibling}function Hv(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,lf(t)):Ql(t);break;default:Ql(t)}}function lf(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];qt=u,Fv(u,t)}qv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:rs(8,r,r.return),lf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,lf(r));break;default:lf(r)}t=t.sibling}}function Fv(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:rs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,qt=u;else e:for(a=t;qt!==null;){u=qt;var h=u.sibling,d=u.return;if(Vv(u),u===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var o1={getCacheForType:function(t){var r=Yt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(Dt).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Ve=null,Pe=0,We=0,In=null,ss=!1,co=!1,bm=!1,gr=0,_t=0,as=0,ma=0,wm=0,Nn=0,fo=0,Yl=null,pn=null,Rm=!1,uf=0,Gv=0,cf=1/0,ff=null,os=null,Ut=0,ls=null,ho=null,yr=0,Cm=0,Im=null,$v=null,Xl=0,Nm=null;function Dn(){return(Qe&2)!==0&&Pe!==0?Pe&-Pe:Q.T!==null?Lm():fc()}function Kv(){if(Nn===0)if((Pe&536870912)===0||qe){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function gn(t,r,a){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(mo(t,0),us(t,Pe,Nn,!1)),qs(t,a),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(ma|=a),_t===4&&us(t,Pe,Nn,!1)),Pi(t))}function Qv(t,r,a){if((Qe&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Wn(t,r),h=u?f1(t,r):Om(t,r,!0),d=u;do{if(h===0){co&&!u&&us(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!u1(a)){h=Om(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var S=t;h=Yl;var O=S.current.memoizedState.isDehydrated;if(O&&(mo(S,v).flags|=256),v=Om(S,v,!1),v!==2){if(bm&&!O){S.errorRecoveryDisabledLanes|=d,ma|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){mo(t,0),us(t,r,0,!0);break}e:{switch(u=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:us(u,r,Nn,!ss);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=uf+300-an(),10<h)){if(us(u,r,Nn,!ss),vi(u,0,!0)!==0)break e;yr=r,u.timeoutHandle=wE(Yv.bind(null,u,a,pn,ff,Rm,r,Nn,ma,fo,ss,d,"Throttled",-0,0),h);break e}Yv(u,a,pn,ff,Rm,r,Nn,ma,fo,ss,d,null,-0,0)}}break}while(!0);Pi(t)}function Yv(t,r,a,u,h,d,v,S,O,H,X,ne,F,K){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Bv(r,d,ne);var de=(d&62914560)===d?uf-an():(d&4194048)===d?Gv-an():0;if(de=K1(ne,de),de!==null){yr=d,t.cancelPendingCommit=de(iE.bind(null,t,r,d,a,u,h,v,S,O,X,ne,null,F,K)),us(t,d,v,!H);return}}iE(t,r,d,a,u,h,v,S,O)}function u1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function us(t,r,a,u){r&=~wm,r&=~ma,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var h=r;0<h;){var d=31-Et(h),v=1<<d;u[d]=-1,h&=~v}a!==0&&Hs(t,a,r)}function hf(){return(Qe&6)===0?(Wl(0),!1):!0}function Dm(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,ar=sa=null,$d(t),io=null,Ml=0,t=Ve;for(;t!==null;)Rv(t.alternate,t),t=t.return;Ve=null}}function mo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,Dm(),at=t,Ve=a=rr(t.current,null),Pe=r,We=0,In=null,ss=!1,co=Wn(t,r),bm=!1,fo=Nn=wm=ma=as=_t=0,pn=Yl=null,Rm=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var h=31-Et(u),d=1<<h;r|=t[h],u&=~d}return gr=r,xc(),a}function Xv(t,r){De=null,Q.H=Bl,r===no||r===zc?(r=h_(),We=3):r===Vd?(r=h_(),We=4):We=r===lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Ve===null&&(_t=1,ef(t,jn(r,t.current)))}function Wv(){var t=Rn.current;return t===null?!0:(Pe&4194048)===Pe?Hn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Hn:!1}function Jv(){var t=Q.H;return Q.H=Bl,t===null?Bl:t}function Zv(){var t=Q.A;return Q.A=o1,t}function df(){_t=4,ss||(Pe&4194048)!==Pe&&Rn.current!==null||(co=!0),(as&134217727)===0&&(ma&134217727)===0||at===null||us(at,Pe,Nn,!1)}function Om(t,r,a){var u=Qe;Qe|=2;var h=Jv(),d=Zv();(at!==t||Pe!==r)&&(ff=null,mo(t,r)),r=!1;var v=_t;e:do try{if(We!==0&&Ve!==null){var S=Ve,O=In;switch(We){case 8:Dm(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var H=We;if(We=0,In=null,po(t,S,O,H),a&&co){v=0;break e}break;default:H=We,We=0,In=null,po(t,S,O,H)}}c1(),v=_t;break}catch(X){Xv(t,X)}while(!0);return r&&t.shellSuspendCounter++,ar=sa=null,Qe=u,Q.H=h,Q.A=d,Ve===null&&(at=null,Pe=0,xc()),v}function c1(){for(;Ve!==null;)eE(Ve)}function f1(t,r){var a=Qe;Qe|=2;var u=Jv(),h=Zv();at!==t||Pe!==r?(ff=null,cf=an()+500,mo(t,r)):co=Wn(t,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var d=In;t:switch(We){case 1:We=0,In=null,po(t,r,d,1);break;case 2:case 9:if(c_(d)){We=0,In=null,tE(r);break}r=function(){We!==2&&We!==9||at!==t||(We=7),Pi(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:c_(d)?(We=0,In=null,tE(r)):(We=0,In=null,po(t,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var S=Ve;if(v?zE(v):S.stateNode.complete){We=0,In=null;var O=S.sibling;if(O!==null)Ve=O;else{var H=S.return;H!==null?(Ve=H,mf(H)):Ve=null}break t}}We=0,In=null,po(t,r,d,5);break;case 6:We=0,In=null,po(t,r,d,6);break;case 8:Dm(),_t=6;break e;default:throw Error(s(462))}}h1();break}catch(X){Xv(t,X)}while(!0);return ar=sa=null,Q.H=u,Q.A=h,Qe=a,Ve!==null?0:(at=null,Pe=0,xc(),_t)}function h1(){for(;Ve!==null&&!od();)eE(Ve)}function eE(t){var r=bv(t.alternate,t,gr);t.memoizedProps=t.pendingProps,r===null?mf(t):Ve=r}function tE(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=_v(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=_v(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:$d(r);default:Rv(a,r),r=Ve=Zy(r,gr),r=bv(a,r,gr)}t.memoizedProps=t.pendingProps,r===null?mf(t):Ve=r}function po(t,r,a,u){ar=sa=null,$d(r),io=null,Ml=0;var h=r.return;try{if(e1(t,h,r,a,Pe)){_t=1,ef(t,jn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;_t=1,ef(t,jn(a,t.current)),Ve=null;return}r.flags&32768?(qe||u===1?t=!0:co||(Pe&536870912)!==0?t=!1:(ss=t=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),nE(r,t)):mf(r)}function mf(t){var r=t;do{if((r.flags&32768)!==0){nE(r,ss);return}t=r.return;var a=i1(r.alternate,r,gr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);_t===0&&(_t=5)}function nE(t,r){do{var a=r1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);_t=6,Ve=null}function iE(t,r,a,u,h,d,v,S,O){t.cancelPendingCommit=null;do pf();while(Ut!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=vd,cd(t,a,d,v,S,O),t===at&&(Ve=at=null,Pe=0),ho=r,ls=t,yr=a,Cm=d,Im=h,$v=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g1(jr,function(){return lE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,h=te.p,te.p=2,v=Qe,Qe|=4;try{s1(t,r,a)}finally{Qe=v,te.p=h,Q.T=u}}Ut=1,rE(),sE(),aE()}}function rE(){if(Ut===1){Ut=0;var t=ls,r=ho,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var u=te.p;te.p=2;var h=Qe;Qe|=4;try{Uv(r,t);var d=Hm,v=Fy(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Hy(S.ownerDocument.documentElement,S)){if(O!==null&&md(S)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var ne=S.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var K=F.getSelection(),de=S.textContent.length,ve=Math.min(O.start,de),it=O.end===void 0?ve:Math.min(O.end,de);!K.extend&&ve>it&&(v=it,it=ve,ve=v);var j=qy(S,ve),L=qy(S,it);if(j&&L&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var q=ne.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),ve>it?(K.addRange(q),K.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),K.addRange(q))}}}}for(ne=[],K=S;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var Z=ne[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Cf=!!qm,Hm=qm=null}finally{Qe=h,te.p=u,Q.T=a}}t.current=r,Ut=2}}function sE(){if(Ut===2){Ut=0;var t=ls,r=ho,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var u=te.p;te.p=2;var h=Qe;Qe|=4;try{Mv(t,r.alternate,r)}finally{Qe=h,te.p=u,Q.T=a}}Ut=3}}function aE(){if(Ut===4||Ut===3){Ut=0,rc();var t=ls,r=ho,a=yr,u=$v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,ho=ls=null,oE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(os=null),er(a),r=r.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Xn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,h=te.p,te.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<u.length;v++){var S=u[v];d(S.value,{componentStack:S.stack})}}finally{Q.T=r,te.p=h}}(yr&3)!==0&&pf(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Nm?Xl++:(Xl=0,Nm=t):Xl=0,Wl(0)}}function oE(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ol(r)))}function pf(){return rE(),sE(),aE(),lE()}function lE(){if(Ut!==5)return!1;var t=ls,r=Cm;Cm=0;var a=er(yr),u=Q.T,h=te.p;try{te.p=32>a?32:a,Q.T=null,a=Im,Im=null;var d=ls,v=yr;if(Ut=0,ho=ls=null,yr=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,Hv(d.current),zv(d,d.current,v,a),Qe=S,Wl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{te.p=h,Q.T=u,oE(t,r)}}function uE(t,r,a){r=jn(a,r),r=om(t.stateNode,r,2),t=ts(t,r,2),t!==null&&(qs(t,2),Pi(t))}function Je(t,r,a){if(t.tag===3)uE(t,t,a);else for(;r!==null;){if(r.tag===3){uE(r,t,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(os===null||!os.has(u))){t=jn(a,t),a=cv(2),u=ts(r,a,2),u!==null&&(fv(a,u,r,t),qs(u,2),Pi(u));break}}r=r.return}}function xm(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new l1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(bm=!0,h.add(a),t=d1.bind(null,t,r,a),r.then(t,t))}function d1(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(Pe&a)===a&&(_t===4||_t===3&&(Pe&62914560)===Pe&&300>an()-uf?(Qe&2)===0&&mo(t,0):wm|=a,fo===Pe&&(fo=0)),Pi(t)}function cE(t,r){r===0&&(r=cc()),t=na(t,r),t!==null&&(qs(t,r),Pi(t))}function m1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),cE(t,a)}function p1(t,r){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),cE(t,a)}function g1(t,r){return Pt(t,r)}var gf=null,go=null,Mm=!1,yf=!1,Vm=!1,cs=0;function Pi(t){t!==go&&t.next===null&&(go===null?gf=go=t:go=go.next=t),yf=!0,Mm||(Mm=!0,_1())}function Wl(t,r){if(!Vm&&yf){Vm=!0;do for(var a=!1,u=gf;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var d=0;else{var v=u.suspendedLanes,S=u.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mE(u,d))}else d=Pe,d=vi(u,u===at?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Wn(u,d)||(a=!0,mE(u,d));u=u.next}while(a);Vm=!1}}function y1(){fE()}function fE(){yf=Mm=!1;var t=0;cs!==0&&I1()&&(t=cs);for(var r=an(),a=null,u=gf;u!==null;){var h=u.next,d=hE(u,r);d===0?(u.next=null,a===null?gf=h:a.next=h,h===null&&(go=a)):(a=u,(t!==0||(d&3)!==0)&&(yf=!0)),u=h}Ut!==0&&Ut!==5||Wl(t),cs!==0&&(cs=0)}function hE(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Et(d),S=1<<v,O=h[v];O===-1?((S&a)===0||(S&u)!==0)&&(h[v]=ud(S,r)):O<=r&&(t.expiredLanes|=S),d&=~S}if(r=at,a=Pe,a=vi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Ur(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(u!==null&&Ur(u),er(a)){case 2:case 8:a=ol;break;case 32:a=jr;break;case 268435456:a=sc;break;default:a=jr}return u=dE.bind(null,t),a=Pt(a,u),t.callbackPriority=r,t.callbackNode=a,r}return u!==null&&u!==null&&Ur(u),t.callbackPriority=2,t.callbackNode=null,2}function dE(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pf()&&t.callbackNode!==a)return null;var u=Pe;return u=vi(t,t===at?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Qv(t,u,r),hE(t,an()),t.callbackNode!=null&&t.callbackNode===a?dE.bind(null,t):null)}function mE(t,r){if(pf())return null;Qv(t,r,!0)}function _1(){D1(function(){(Qe&6)!==0?Pt(al,y1):fE()})}function Lm(){if(cs===0){var t=eo;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),cs=t}return cs}function pE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function gE(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function v1(t,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var d=pE((h[zt]||null).action),v=u.submitter;v&&(r=(r=v[zt]||null)?pE(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var S=new Di("action","action",null,u,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(cs!==0){var O=v?gE(h,v):new FormData(h);tm(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=v?gE(h,v):new FormData(h),tm(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var km=0;km<_d.length;km++){var Pm=_d[km],E1=Pm.toLowerCase(),T1=Pm[0].toUpperCase()+Pm.slice(1);si(E1,"on"+T1)}si(Ky,"onAnimationEnd"),si(Qy,"onAnimationIteration"),si(Yy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(PR,"onTransitionRun"),si(UR,"onTransitionStart"),si(jR,"onTransitionCancel"),si(Xy,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function yE(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],h=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Oc(X)}h.currentTarget=null,d=O}else for(v=0;v<u.length;v++){if(S=u[v],O=S.instance,H=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Oc(X)}h.currentTarget=null,d=O}}}}function Le(t,r){var a=r[Va];a===void 0&&(a=r[Va]=new Set);var u=t+"__bubble";a.has(u)||(_E(r,t,2,!1),a.add(u))}function Um(t,r,a){var u=0;r&&(u|=4),_E(a,t,u,r)}var _f="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[_f]){t[_f]=!0,cl.forEach(function(a){a!=="selectionchange"&&(S1.has(a)||Um(a,!1,t),Um(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[_f]||(r[_f]=!0,Um("selectionchange",!1,r))}}function _E(t,r,a,u){switch(KE(r)){case 2:var h=X1;break;case 8:h=W1;break;default:h=ep}a=h.bind(null,r,a,t),h=void 0,!Qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zm(t,r,a,u,h){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=u.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Ai(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){u=d=v;continue e}S=S.parentNode}}u=u.return}Gr(function(){var H=d,X=Ln(a),ne=[];e:{var F=Wy.get(t);if(F!==void 0){var K=Di,de=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":K=Ic;break;case"focusin":de="focus",K=Js;break;case"focusout":de="blur",K=Js;break;case"beforeblur":case"afterblur":K=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Ky:case Qy:case Yy:K=Tc;break;case Xy:K=w;break;case"scroll":case"scrollend":K=Sl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ir;break;case"toggle":case"beforetoggle":K=Ne}var ve=(r&4)!==0,it=!ve&&(t==="scroll"||t==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var L=H,q;L!==null;){var Z=L;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=ti(L,j),Z!=null&&ve.push(Zl(L,Z,q))),it)break;L=L.return}0<ve.length&&(F=new K(F,de,null,a,X),ne.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==vl&&(de=a.relatedTarget||a.fromElement)&&(Ai(de)||de[Ti]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=H,de=de?Ai(de):null,de!==null&&(it=l(de),ve=de.tag,de!==it||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(K=null,de=H),K!==de)){if(ve=Al,Z="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ir,Z="onPointerLeave",j="onPointerEnter",L="pointer"),it=K==null?F:Sn(K),q=de==null?F:Sn(de),F=new ve(Z,L+"leave",K,a,X),F.target=it,F.relatedTarget=q,Z=null,Ai(X)===H&&(ve=new ve(j,L+"enter",de,a,X),ve.target=q,ve.relatedTarget=it,Z=ve),it=Z,K&&de)t:{for(ve=A1,j=K,L=de,q=0,Z=j;Z;Z=ve(Z))q++;Z=0;for(var _e=L;_e;_e=ve(_e))Z++;for(;0<q-Z;)j=ve(j),q--;for(;0<Z-q;)L=ve(L),Z--;for(;q--;){if(j===L||L!==null&&j===L.alternate){ve=j;break t}j=ve(j),L=ve(L)}ve=null}else ve=null;K!==null&&vE(ne,F,K,ve,!1),de!==null&&it!==null&&vE(ne,it,de,ve,!0)}}e:{if(F=H?Sn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ge=ky;else if(Vy(F))if(Py)Ge=VR;else{Ge=xR;var pe=OR}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ua(H.elementType)&&(Ge=ky):Ge=MR;if(Ge&&(Ge=Ge(t,H))){Ly(ne,Ge,a,X);break e}pe&&pe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&gl(F,"number",F.value)}switch(pe=H?Sn(H):window,t){case"focusin":(Vy(pe)||pe.contentEditable==="true")&&($a=pe,pd=H,Il=null);break;case"focusout":Il=pd=$a=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Gy(ne,a,X);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":Gy(ne,a,X)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ga?Zs(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Mi&&a.locale!=="ko"&&(Ga||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ga&&(Oe=Tl()):(Ni=X,El="value"in Ni?Ni.value:Ni.textContent,Ga=!0)),pe=vf(H,Ue),0<pe.length&&(Ue=new xi(Ue,t,null,a,X),ne.push({event:Ue,listeners:pe}),Oe?Ue.data=Oe:(Oe=Fa(a),Oe!==null&&(Ue.data=Oe)))),(Oe=Pn?CR(t,a):IR(t,a))&&(Ue=vf(H,"onBeforeInput"),0<Ue.length&&(pe=new xi("onBeforeInput","beforeinput",null,a,X),ne.push({event:pe,listeners:Ue}),pe.data=Oe)),v1(ne,t,H,a,X)}yE(ne,r)})}function Zl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function vf(t,r){for(var a=r+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&u.unshift(Zl(t,h,d)),h=ti(t,r),h!=null&&u.push(Zl(t,h,d))),t.tag===3)return u;t=t.return}return[]}function A1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vE(t,r,a,u,h){for(var d=r._reactName,v=[];a!==null&&a!==u;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||H===null||(O=H,h?(H=ti(a,d),H!=null&&v.unshift(Zl(a,H,O))):h||(H=ti(a,d),H!=null&&v.push(Zl(a,H,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var b1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function EE(t){return(typeof t=="string"?t:""+t).replace(b1,`
`).replace(w1,"")}function TE(t,r){return r=EE(r),EE(t)===r}function nt(t,r,a,u,h,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||fn(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&fn(t,""+u);break;case"className":An(t,"class",u);break;case"tabIndex":An(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,u);break;case"style":_l(t,u,d);break;case"data":if(r!=="object"){An(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=ja(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=ja(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=ei);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ka(t,"popover",u);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ka(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_c.get(a)||a,ka(t,a,u))}}function Bm(t,r,a,u,h,d){switch(a){case"style":_l(t,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof u=="string"?fn(t,u):(typeof u=="number"||typeof u=="bigint")&&fn(t,""+u);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof u=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,u,h);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):ka(t,a,u)}}}function Wt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var u=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,v,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),u&&nt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=d=v=h=null,O=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":h=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:nt(t,r,u,X,a,null)}}pc(t,d,S,O,H,v,h,!1);return;case"select":Le("invalid",t),u=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:nt(t,r,h,S,a,null)}r=d,a=v,t.multiple=!!u,r!=null?Br(t,!!u,r,!1):a!=null&&Br(t,!!u,a,!0);return;case"textarea":Le("invalid",t),d=h=u=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(t,r,v,S,a,null)}qr(t,u,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(t,r,O,u,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(u=0;u<Jl.length;u++)Le(Jl[u],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,H,u,a,null)}return;default:if(Ua(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&Bm(t,r,X,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&nt(t,r,S,u,a,null))}function R1(t,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,O=null,H=null,X=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ne;default:u.hasOwnProperty(K)||nt(t,r,K,null,u,ne)}}for(var F in u){var K=u[F];if(ne=a[F],u.hasOwnProperty(F)&&(K!=null||ne!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ne&&nt(t,r,F,K,u,ne)}}Pa(t,v,S,O,H,X,d,h);return;case"select":K=v=S=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:u.hasOwnProperty(d)||nt(t,r,d,null,u,O)}for(h in u)if(d=u[h],O=a[h],u.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==O&&nt(t,r,h,d,u,O)}r=S,a=v,u=K,F!=null?Br(t,!!a,F,!1):!!u!=!!a&&(r!=null?Br(t,!!a,r,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(t,r,S,null,u,h)}for(v in u)if(h=u[v],d=a[v],u.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,r,v,h,u,d)}gc(t,F,K);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!u.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:nt(t,r,de,null,u,F)}for(O in u)if(F=u[O],K=a[O],u.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(t,r,O,F,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!u.hasOwnProperty(ve)&&nt(t,r,ve,null,u,F);for(H in u)if(F=u[H],K=a[H],u.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:nt(t,r,H,F,u,K)}return;default:if(Ua(r)){for(var it in a)F=a[it],a.hasOwnProperty(it)&&F!==void 0&&!u.hasOwnProperty(it)&&Bm(t,r,it,void 0,u,F);for(X in u)F=u[X],K=a[X],!u.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||Bm(t,r,X,F,u,K);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!u.hasOwnProperty(j)&&nt(t,r,j,null,u,F);for(ne in u)F=u[ne],K=a[ne],!u.hasOwnProperty(ne)||F===K||F==null&&K==null||nt(t,r,ne,F,u,K)}function SE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&SE(v)){for(v=0,S=h.responseEnd,u+=1;u<a.length;u++){var O=a[u],H=O.startTime;if(H>S)break;var X=O.transferSize,ne=O.initiatorType;X&&SE(ne)&&(O=O.responseEnd,v+=X*(O<S?1:(S-H)/(O-H)))}if(--u,r+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qm=null,Hm=null;function Ef(t){return t.nodeType===9?t:t.ownerDocument}function AE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bE(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Fm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function I1(){var t=window.event;return t&&t.type==="popstate"?t===Gm?!1:(Gm=t,!0):(Gm=null,!1)}var wE=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof RE<"u"?function(t){return RE.resolve(null).then(t).catch(O1)}:wE;function O1(t){setTimeout(function(){throw t})}function fs(t){return t==="head"}function CE(t,r){var a=r,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(h),Eo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")eu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,eu(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Si]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&eu(t.ownerDocument.body);a=h}while(a);Eo(r)}function IE(t,r){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function $m(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$m(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function x1(t,r,a,u){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Si])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function M1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function NE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function Km(t){return t.data==="$?"||t.data==="$~"}function Qm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function V1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Ym=null;function DE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Fn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function OE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function xE(t,r,a){switch(r=Ef(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function eu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);La(t)}var Gn=new Map,ME=new Set;function Tf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=te.d;te.d={f:L1,r:k1,D:P1,C:U1,L:j1,m:z1,X:q1,S:B1,M:H1};function L1(){var t=_r.f(),r=hf();return t||r}function k1(t){var r=Vn(t);r!==null&&r.tag===5&&r.type==="form"?X_(r):_r.r(t)}var yo=typeof document>"u"?null:document;function VE(t,r,a){var u=yo;if(u&&typeof r=="string"&&r){var h=cn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ME.has(h)||(ME.add(h),t={rel:t,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Wt(r,"link",t),It(r),u.head.appendChild(r)))}}function P1(t){_r.D(t),VE("dns-prefetch",t,null)}function U1(t,r){_r.C(t,r),VE("preconnect",t,r)}function j1(t,r,a){_r.L(t,r,a);var u=yo;if(u&&t&&r){var h='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var d=h;switch(r){case"style":d=_o(t);break;case"script":d=vo(t)}Gn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Gn.set(d,t),u.querySelector(h)!==null||r==="style"&&u.querySelector(tu(d))||r==="script"&&u.querySelector(nu(d))||(r=u.createElement("link"),Wt(r,"link",t),It(r),u.head.appendChild(r)))}}function z1(t,r){_r.m(t,r);var a=yo;if(a&&t){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(t)+'"]',d=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Gn.set(d,t),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(d)))return}u=a.createElement("link"),Wt(u,"link",t),It(u),a.head.appendChild(u)}}}function B1(t,r,a){_r.S(t,r,a);var u=yo;if(u&&t){var h=bi(u).hoistableStyles,d=_o(t);r=r||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(tu(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Gn.get(d))&&Xm(t,a);var O=v=u.createElement("link");It(O),Wt(O,"link",t),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sf(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function q1(t,r){_r.X(t,r);var a=yo;if(a&&t){var u=bi(a).hoistableScripts,h=vo(t),d=u.get(h);d||(d=a.querySelector(nu(h)),d||(t=T({src:t,async:!0},r),(r=Gn.get(h))&&Wm(t,r),d=a.createElement("script"),It(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function H1(t,r){_r.M(t,r);var a=yo;if(a&&t){var u=bi(a).hoistableScripts,h=vo(t),d=u.get(h);d||(d=a.querySelector(nu(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Gn.get(h))&&Wm(t,r),d=a.createElement("script"),It(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function LE(t,r,a,u){var h=(h=be.current)?Tf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=bi(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var d=bi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(tu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||F1(h,t,a,v.state))),r&&u===null)throw Error(s(528,""));return v}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=bi(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+cn(t)+'"'}function tu(t){return'link[rel="stylesheet"]['+t+"]"}function kE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,r,a,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",a),It(r),t.head.appendChild(r))}function vo(t){return'[src="'+cn(t)+'"]'}function nu(t){return"script[async]"+t}function PE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(u)return r.instance=u,It(u),u;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),It(u),Wt(u,"style",h),Sf(u,a.precedence,t),r.instance=u;case"stylesheet":h=_o(a.href);var d=t.querySelector(tu(h));if(d)return r.state.loading|=4,r.instance=d,It(d),d;u=kE(a),(h=Gn.get(h))&&Xm(u,h),d=(t.ownerDocument||t).createElement("link"),It(d);var v=d;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Wt(d,"link",u),r.state.loading|=4,Sf(d,a.precedence,t),r.instance=d;case"script":return d=vo(a.src),(h=t.querySelector(nu(d)))?(r.instance=h,It(h),h):(u=a,(h=Gn.get(d))&&(u=T({},a),Wm(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Wt(h,"link",u),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Sf(u,a.precedence,t));return r.instance}function Sf(t,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,d=h,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Wm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Af=null;function UE(t,r,a){if(Af===null){var u=new Map,h=Af=new Map;h.set(a,u)}else h=Af,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Si]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var S=u.get(v);S?S.push(d):u.set(v,[d])}}return u}function jE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function G1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $1(t,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=_o(u.href),d=r.querySelector(tu(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=bf.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,It(d);return}d=r.ownerDocument||r,u=kE(u),(h=Gn.get(h))&&Xm(u,h),d=d.createElement("link"),It(d);var v=d;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Wt(d,"link",u),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bf.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Jm=0;function K1(t,r){return t.stylesheets&&t.count===0&&Rf(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Jm===0&&(Jm=62500*C1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wf=null;function Rf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wf=new Map,r.forEach(Q1,t),wf=null,bf.call(t))}function Q1(t,r){if(!(r.state.loading&4)){var a=wf.get(t);if(a)var u=a.get(null);else{a=new Map,wf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,h),a.set(v,h),this.count++,u=bf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var iu={$$typeof:re,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Y1(t,r,a,u,h,d,v,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function BE(t,r,a,u,h,d,v,S,O,H,X,ne){return t=new Y1(t,r,a,v,O,H,X,ne,S),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),t.current=d,d.stateNode=t,r=Od(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Ld(d),t}function qE(t){return t?(t=Ya,t):Ya}function HE(t,r,a,u,h,d){h=qE(h),u.context===null?u.context=h:u.pendingContext=h,u=es(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=ts(t,u,r),a!==null&&(gn(a,t,r),Ll(a,t,r))}function FE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Zm(t,r){FE(t,r),(t=t.alternate)&&FE(t,r)}function GE(t){if(t.tag===13||t.tag===31){var r=na(t,67108864);r!==null&&gn(r,t,67108864),Zm(t,67108864)}}function $E(t){if(t.tag===13||t.tag===31){var r=Dn();r=Fs(r);var a=na(t,r);a!==null&&gn(a,t,r),Zm(t,r)}}var Cf=!0;function X1(t,r,a,u){var h=Q.T;Q.T=null;var d=te.p;try{te.p=2,ep(t,r,a,u)}finally{te.p=d,Q.T=h}}function W1(t,r,a,u){var h=Q.T;Q.T=null;var d=te.p;try{te.p=8,ep(t,r,a,u)}finally{te.p=d,Q.T=h}}function ep(t,r,a,u){if(Cf){var h=tp(u);if(h===null)zm(t,r,u,If,a),QE(t,u);else if(Z1(h,t,r,a,u))u.stopPropagation();else if(QE(t,u),r&4&&-1<J1.indexOf(t)){for(;h!==null;){var d=Vn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_i(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-Et(v);S.entanglements[1]|=O,v&=~O}Pi(d),(Qe&6)===0&&(cf=an()+500,Wl(0))}}break;case 31:case 13:S=na(d,2),S!==null&&gn(S,d,2),hf(),Zm(d,2)}if(d=tp(u),d===null&&zm(t,r,u,If,a),d===h)break;h=d}h!==null&&u.stopPropagation()}else zm(t,r,u,null,a)}}function tp(t){return t=Ln(t),np(t)}var If=null;function np(t){if(If=null,t=Ai(t),t!==null){var r=l(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return If=t,null}function KE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case al:return 2;case ol:return 8;case jr:case ld:return 32;case sc:return 268435456;default:return 32}default:return 32}}var ip=!1,hs=null,ds=null,ms=null,ru=new Map,su=new Map,ps=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(t,r){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(r.pointerId)}}function au(t,r,a,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Vn(r),r!==null&&GE(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Z1(t,r,a,u,h){switch(r){case"focusin":return hs=au(hs,t,r,a,u,h),!0;case"dragenter":return ds=au(ds,t,r,a,u,h),!0;case"mouseover":return ms=au(ms,t,r,a,u,h),!0;case"pointerover":var d=h.pointerId;return ru.set(d,au(ru.get(d)||null,t,r,a,u,h)),!0;case"gotpointercapture":return d=h.pointerId,su.set(d,au(su.get(d)||null,t,r,a,u,h)),!0}return!1}function YE(t){var r=Ai(t.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,Jn(t.priority,function(){$E(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Jn(t.priority,function(){$E(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nf(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=tp(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);vl=u,a.target.dispatchEvent(u),vl=null}else return r=Vn(a),r!==null&&GE(r),t.blockedOn=a,!1;r.shift()}return!0}function XE(t,r,a){Nf(t)&&a.delete(r)}function eC(){ip=!1,hs!==null&&Nf(hs)&&(hs=null),ds!==null&&Nf(ds)&&(ds=null),ms!==null&&Nf(ms)&&(ms=null),ru.forEach(XE),su.forEach(XE)}function Df(t,r){t.blockedOn===r&&(t.blockedOn=null,ip||(ip=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eC)))}var Of=null;function WE(t){Of!==t&&(Of=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Of===t&&(Of=null);for(var r=0;r<t.length;r+=3){var a=t[r],u=t[r+1],h=t[r+2];if(typeof u!="function"){if(np(u||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(r,3),r-=3,tm(d,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function Eo(t){function r(O){return Df(O,t)}hs!==null&&Df(hs,t),ds!==null&&Df(ds,t),ms!==null&&Df(ms,t),ru.forEach(r),su.forEach(r);for(var a=0;a<ps.length;a++){var u=ps[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)YE(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],d=a[u+1],v=h[zt]||null;if(typeof d=="function")v||WE(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[zt]||null)S=v.formAction;else if(np(h)!==null)continue}else S=v.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),WE(a)}}}function JE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function rp(t){this._internalRoot=t}xf.prototype.render=rp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Dn();HE(a,u,t,r,null,null)},xf.prototype.unmount=rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;HE(t.current,2,null,t,null,null),hf(),r[Ti]=null}};function xf(t){this._internalRoot=t}xf.prototype.unstable_scheduleHydration=function(t){if(t){var r=fc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ps.length&&r!==0&&r<ps[a].priority;a++);ps.splice(a,0,t),a===0&&YE(t)}};var ZE=e.version;if(ZE!=="19.2.0")throw Error(s(527,ZE,"19.2.0"));te.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var tC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{Xn=Mf.inject(tC),$t=Mf}catch{}}return lu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,u="",h=av,d=ov,v=lv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=BE(t,1,!1,null,null,a,u,null,h,d,v,JE),t[Ti]=r.current,jm(t),new rp(r)},lu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var u=!1,h="",d=av,v=ov,S=lv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=BE(t,1,!0,r,a??null,u,h,O,d,v,S,JE),r.context=qE(null),a=r.current,u=Dn(),u=Fs(u),h=es(u),h.callback=null,ts(a,h,u),a=u,r.current.lanes=a,qs(r,a),Pi(r),t[Ti]=r.current,jm(t),new xf(r)},lu.version="19.2.0",lu}var uT;function cC(){if(uT)return op.exports;uT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),op.exports=uC(),op.exports}var fC=cC();const hC=Pu(fC);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cT="popstate";function dC(i={}){function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return Lp("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ru(o)}return pC(e,n,null,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mC(){return Math.random().toString(36).substring(2,10)}function fT(i,e){return{usr:i.state,key:i.key,idx:e}}function Lp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||s||mC()}}function Ru({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pC(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let P=_(),W=P==null?null:P-g;g=P,p&&p({action:m,location:G.location,delta:W})}function b(P,W){m="PUSH";let J=Lp(G.location,P,W);g=_()+1;let re=fT(J,g),ce=G.createHref(J);try{c.pushState(re,"",ce)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ce)}l&&p&&p({action:m,location:G.location,delta:1})}function x(P,W){m="REPLACE";let J=Lp(G.location,P,W);g=_();let re=fT(J,g),ce=G.createHref(J);c.replaceState(re,"",ce),l&&p&&p({action:m,location:G.location,delta:0})}function z(P){return gC(P)}let G={get action(){return m},get location(){return i(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cT,T),p=P,()=>{o.removeEventListener(cT,T),p=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let W=z(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:x,go(P){return c.go(P)}};return G}function gC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ru(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yS(i,e,n="/"){return yC(i,e,n,!1)}function yC(i,e,n,s){let o=typeof e=="string"?Go(e):e,l=Ir(o.pathname||"/",n);if(l==null)return null;let c=_S(i);_C(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=NC(l);m=CC(c[p],g,s)}return m}function _S(i,e=[],n=[],s="",o=!1){let l=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;pt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=br([s,_.relativePath]),b=n.concat(_);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),_S(c.children,e,b,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:wC(T,c.index),routesMeta:b})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let p of vS(c.path))l(c,m,!0,p)}),e}function vS(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=vS(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _C(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:RC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vC=/^:[\w-]+$/,EC=3,TC=2,SC=1,AC=10,bC=-2,hT=i=>i==="*";function wC(i,e){let n=i.split("/"),s=n.length;return n.some(hT)&&(s+=bC),e&&(s+=TC),n.filter(o=>!hT(o)).reduce((o,l)=>o+(vC.test(l)?EC:l===""?SC:AC),s)}function RC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function CC(i,e,n=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:br([l,T.pathname]),pathnameBase:MC(br([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=br([l,T.pathnameBase]))}return c}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=IC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let z=m[b]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const x=m[b];return T&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function IC(i,e=!1,n=!0){Gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function DC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:n?n.startsWith("/")?n:OC(n,e):e,search:VC(s),hash:LC(o)}}function OC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ES(i){let e=xC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function TS(i,e,n,s=!1){let o;typeof i=="string"?o=Go(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),fp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),fp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),fp("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=DC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var br=i=>i.join("/").replace(/\/\/+/g,"/"),MC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var PC=["GET",...SS];new Set(PC);var $o=A.createContext(null);$o.displayName="DataRouter";var Rh=A.createContext(null);Rh.displayName="DataRouterState";A.createContext(!1);var AS=A.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var UC=A.createContext(new Map);UC.displayName="Fetchers";var jC=A.createContext(null);jC.displayName="Await";var Yi=A.createContext(null);Yi.displayName="Navigation";var Uu=A.createContext(null);Uu.displayName="Location";var Xi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var _g=A.createContext(null);_g.displayName="RouteError";function zC(i,{relative:e}={}){pt(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=A.useContext(Yi),{hash:o,pathname:l,search:c}=zu(i,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:br([n,l])),s.createHref({pathname:m,search:c,hash:o})}function ju(){return A.useContext(Uu)!=null}function Da(){return pt(ju(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Uu).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wS(i){A.useContext(Yi).static||A.useLayoutEffect(i)}function vg(){let{isDataRoute:i}=A.useContext(Xi);return i?eI():BC()}function BC(){pt(ju(),"useNavigate() may be used only in the context of a <Router> component.");let i=A.useContext($o),{basename:e,navigator:n}=A.useContext(Yi),{matches:s}=A.useContext(Xi),{pathname:o}=Da(),l=JSON.stringify(ES(s)),c=A.useRef(!1);return wS(()=>{c.current=!0}),A.useCallback((p,g={})=>{if(Gi(c.current,bS),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=TS(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:br([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,o,i])}A.createContext(null);function qC(){let{matches:i}=A.useContext(Xi),e=i[i.length-1];return e?e.params:{}}function zu(i,{relative:e}={}){let{matches:n}=A.useContext(Xi),{pathname:s}=Da(),o=JSON.stringify(ES(n));return A.useMemo(()=>TS(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function HC(i,e){return RS(i,e)}function RS(i,e,n,s,o){pt(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Yi),{matches:c}=A.useContext(Xi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";CS(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let b=Da(),x;if(e){let J=typeof e=="string"?Go(e):e;pt(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),x=J}else x=b;let z=x.pathname||"/",G=z;if(_!=="/"){let J=_.replace(/^\//,"").split("/");G="/"+z.replace(/^\//,"").split("/").slice(J.length).join("/")}let P=yS(i,{pathname:G});Gi(T||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=QC(P&&P.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:br([_,l.encodeLocation?l.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:br([_,l.encodeLocation?l.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),c,n,s,o);return e&&W?A.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function FC(){let i=ZC(),e=kC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,c)}var GC=A.createElement(FC,null),$C=class extends A.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?A.createElement(Xi.Provider,{value:this.props.routeContext},A.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:i,match:e,children:n}){let s=A.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Xi.Provider,{value:i},n)}function QC(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,c=n?.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:b}=n,x=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||x){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let b,x=!1,z=null,G=null;n&&(b=c&&_.route.id?c[_.route.id]:void 0,z=_.route.errorElement||GC,m&&(p<0&&T===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,G=null):p===T&&(x=!0,G=_.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,T+1)),W=()=>{let J;return b?J=z:x?J=G:_.route.Component?J=A.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=g,A.createElement(KC,{match:_,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:J})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?A.createElement($C,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):W()},null)}function Eg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(i){let e=A.useContext($o);return pt(e,Eg(i)),e}function XC(i){let e=A.useContext(Rh);return pt(e,Eg(i)),e}function WC(i){let e=A.useContext(Xi);return pt(e,Eg(i)),e}function Tg(i){let e=WC(i),n=e.matches[e.matches.length-1];return pt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function JC(){return Tg("useRouteId")}function ZC(){let i=A.useContext(_g),e=XC("useRouteError"),n=Tg("useRouteError");return i!==void 0?i:e.errors?.[n]}function eI(){let{router:i}=YC("useNavigate"),e=Tg("useNavigate"),n=A.useRef(!1);return wS(()=>{n.current=!0}),A.useCallback(async(o,l={})=>{Gi(n.current,bS),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var dT={};function CS(i,e,n){!e&&!dT[i]&&(dT[i]=!0,Gi(!1,n))}A.memo(tI);function tI({routes:i,future:e,state:n,unstable_onError:s}){return RS(i,void 0,n,s,e)}function Ao(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nI({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){pt(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Go(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:b="default"}=n,x=A.useMemo(()=>{let z=Ir(p,c);return z==null?null:{location:{pathname:z,search:g,hash:_,state:T,key:b},navigationType:s}},[c,p,g,_,T,b,s]);return Gi(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:A.createElement(Yi.Provider,{value:m},A.createElement(Uu.Provider,{children:e,value:x}))}function iI({children:i,location:e}){return HC(kp(i),e)}function kp(i,e=[]){let n=[];return A.Children.forEach(i,(s,o)=>{if(!A.isValidElement(s))return;let l=[...e,o];if(s.type===A.Fragment){n.push.apply(n,kp(s.props.children,l));return}pt(s.type===Ao,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kp(s.props.children,l)),n.push(c)}),n}var Ff="get",Gf="application/x-www-form-urlencoded";function Ch(i){return i!=null&&typeof i.tagName=="string"}function rI(i){return Ch(i)&&i.tagName.toLowerCase()==="button"}function sI(i){return Ch(i)&&i.tagName.toLowerCase()==="form"}function aI(i){return Ch(i)&&i.tagName.toLowerCase()==="input"}function oI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lI(i,e){return i.button===0&&(!e||e==="_self")&&!oI(i)}var Vf=null;function uI(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(i){return i!=null&&!cI.has(i)?(Gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gf}"`),null):i}function fI(i,e){let n,s,o,l,c;if(sI(i)){let m=i.getAttribute("action");s=m?Ir(m,e):null,n=i.getAttribute("method")||Ff,o=hp(i.getAttribute("enctype"))||Gf,l=new FormData(i)}else if(rI(i)||aI(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ir(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ff,o=hp(i.getAttribute("formenctype"))||hp(m.getAttribute("enctype"))||Gf,l=new FormData(m,i),!uI()){let{name:g,type:_,value:T}=i;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(Ch(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ff,s=null,o=Gf,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hI(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ir(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function dI(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pI(i,e,n){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await dI(l,n);return c.links?c.links():[]}return[]}));return vI(s.flat(1).filter(mI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mT(i,e,n,s,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function gI(i,e,{includeHydrateFallback:n}={}){return yI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function yI(i){return[...new Set(i)]}function _I(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function vI(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(_I(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function IS(){let i=A.useContext($o);return Sg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function EI(){let i=A.useContext(Rh);return Sg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ag=A.createContext(void 0);Ag.displayName="FrameworkContext";function NS(){let i=A.useContext(Ag);return Sg(i,"You must render this element inside a <HydratedRouter> element"),i}function TI(i,e){let n=A.useContext(Ag),[s,o]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=A.useRef(null);A.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let G=W=>{W.forEach(J=>{c(J.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[i]),A.useEffect(()=>{if(s){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[s]);let x=()=>{o(!0)},z=()=>{o(!1),c(!1)};return n?i!=="intent"?[l,b,{}]:[l,b,{onFocus:uu(m,x),onBlur:uu(p,z),onMouseEnter:uu(g,x),onMouseLeave:uu(_,z),onTouchStart:uu(T,x)}]:[!1,b,{}]}function uu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function SI({page:i,...e}){let{router:n}=IS(),s=A.useMemo(()=>yS(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?A.createElement(bI,{page:i,matches:s,...e}):null}function AI(i){let{manifest:e,routeModules:n}=NS(),[s,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return pI(i,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,n]),s}function bI({page:i,matches:e,...n}){let s=Da(),{manifest:o,routeModules:l}=NS(),{basename:c}=IS(),{loaderData:m,matches:p}=EI(),g=A.useMemo(()=>mT(i,e,p,o,s,"data"),[i,e,p,o,s]),_=A.useMemo(()=>mT(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=A.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,G=!1;if(e.forEach(W=>{let J=o.routes[W.route.id];!J||!J.hasLoader||(!g.some(re=>re.route.id===W.route.id)&&W.route.id in m&&l[W.route.id]?.shouldRevalidate||J.hasClientLoader?G=!0:z.add(W.route.id))}),z.size===0)return[];let P=hI(i,c,"data");return G&&z.size>0&&P.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[c,m,s,o,g,e,i,l]),b=A.useMemo(()=>gI(_,o),[_,o]),x=AI(_);return A.createElement(A.Fragment,null,T.map(z=>A.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>A.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),x.map(({key:z,link:G})=>A.createElement("link",{key:z,nonce:n.nonce,...G})))}function wI(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.9.3")}catch{}function RI({basename:i,children:e,window:n}){let s=A.useRef();s.current==null&&(s.current=dC({window:n,v5Compat:!0}));let o=s.current,[l,c]=A.useState({action:o.action,location:o.location}),m=A.useCallback(p=>{A.startTransition(()=>c(p))},[c]);return A.useLayoutEffect(()=>o.listen(m),[o,m]),A.createElement(nI,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_a=A.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...b},x){let{basename:z}=A.useContext(Yi),G=typeof g=="string"&&OS.test(g),P,W=!1;if(typeof g=="string"&&G&&(P=g,DS))try{let N=new URL(window.location.href),k=g.startsWith("//")?new URL(N.protocol+g):new URL(g),M=Ir(k.pathname,z);k.origin===N.origin&&M!=null?g=M+k.search+k.hash:W=!0}catch{Gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=zC(g,{relative:o}),[re,ce,me]=TI(s,b),fe=DI(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function I(N){e&&e(N),N.defaultPrevented||fe(N)}let R=A.createElement("a",{...b,...me,href:P||J,onClick:W||l?e:I,ref:wI(x,ce),target:p,"data-discover":!G&&n==="render"?"true":void 0});return re&&!G?A.createElement(A.Fragment,null,R,A.createElement(SI,{page:J})):R});_a.displayName="Link";var CI=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},_){let T=zu(c,{relative:g.relative}),b=Da(),x=A.useContext(Rh),{navigator:z,basename:G}=A.useContext(Yi),P=x!=null&&LI(T)&&m===!0,W=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,J=b.pathname,re=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(J=J.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&G&&(re=Ir(re,G)||re);const ce=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let me=J===W||!o&&J.startsWith(W)&&J.charAt(ce)==="/",fe=re!=null&&(re===W||!o&&re.startsWith(W)&&re.charAt(W.length)==="/"),I={isActive:me,isPending:fe,isTransitioning:P},R=me?e:void 0,N;typeof s=="function"?N=s(I):N=[s,me?"active":null,fe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return A.createElement(_a,{...g,"aria-current":R,className:N,ref:_,style:k,to:c,viewTransition:m},typeof p=="function"?p(I):p)});CI.displayName="NavLink";var II=A.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=Ff,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...b},x)=>{let z=MI(),G=VI(m,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&OS.test(m),J=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,me=ce?.getAttribute("formmethod")||c;z(ce||re.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return A.createElement("form",{ref:x,method:P,action:G,onSubmit:s?p:J,...b,"data-discover":!W&&i==="render"?"true":void 0})});II.displayName="Form";function NI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xS(i){let e=A.useContext($o);return pt(e,NI(i)),e}function DI(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=vg(),p=Da(),g=zu(i,{relative:l});return A.useCallback(_=>{if(lI(_,e)){_.preventDefault();let T=n!==void 0?n:Ru(p)===Ru(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,n,s,e,i,o,l,c])}var OI=0,xI=()=>`__${String(++OI)}__`;function MI(){let{router:i}=xS("useSubmit"),{basename:e}=A.useContext(Yi),n=JC();return A.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=fI(s,e);if(o.navigate===!1){let _=o.fetcherKey||xI();await i.fetch(_,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function VI(i,{relative:e}={}){let{basename:n}=A.useContext(Yi),s=A.useContext(Xi);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...zu(i||".",{relative:e})},c=Da();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:br([n,l.pathname])),Ru(l)}function LI(i,{relative:e}={}){let n=A.useContext(AS);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xS("useViewTransitionState"),o=zu(i,{relative:e});if(!n.isTransitioning)return!1;let l=Ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,c)!=null||th(o.pathname,l)!=null}var kI=gS();const Io=Pu(kI);var dp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var pT;function PI(){return pT||(pT=1,(function(i){(function(){var e={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var m in l)e.call(l,m)&&l[m]&&(c=o(c,m));return c}function o(l,c){return c?l?l+" "+c:l+c:l}i.exports?(n.default=n,i.exports=n):window.classNames=n})()})(dp)),dp.exports}var UI=PI();const Se=Pu(UI);function Pp(){return Pp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Pp.apply(null,arguments)}function MS(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function gT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function jI(i){var e=zI(i,"string");return typeof e=="symbol"?e:String(e)}function zI(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function BI(i,e,n){var s=A.useRef(i!==void 0),o=A.useState(e),l=o[0],c=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==e&&c(e),[m?i:l,A.useCallback(function(g){for(var _=arguments.length,T=new Array(_>1?_-1:0),b=1;b<_;b++)T[b-1]=arguments[b];n&&n.apply(void 0,[g].concat(T)),c(g)},[n])]}function bg(i,e){return Object.keys(e).reduce(function(n,s){var o,l=n,c=l[gT(s)],m=l[s],p=MS(l,[gT(s),s].map(jI)),g=e[s],_=BI(m,c,i[g]),T=_[0],b=_[1];return Pp({},p,(o={},o[s]=T,o[g]=b,o))},i)}function Up(i,e){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Up(i,e)}function qI(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Up(i,e)}const VS=["xxl","xl","lg","md","sm","xs"],LS="xs",Ih=A.createContext({prefixes:{},breakpoints:VS,minBreakpoint:LS}),{Consumer:ok,Provider:lk}=Ih;function Ie(i,e){const{prefixes:n}=A.useContext(Ih);return i||n[e]||e}function wg(){const{breakpoints:i}=A.useContext(Ih);return i}function Rg(){const{minBreakpoint:i}=A.useContext(Ih);return i}function Cg(i){return i&&i.ownerDocument||document}function HI(i){var e=Cg(i);return e&&e.defaultView||window}function FI(i,e){return HI(i).getComputedStyle(i,e)}var GI=/([A-Z])/g;function $I(i){return i.replace(GI,"-$1").toLowerCase()}var KI=/^ms-/;function Lf(i){return $I(i).replace(KI,"-ms-")}var QI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function YI(i){return!!(i&&QI.test(i))}function wr(i,e){var n="",s="";if(typeof e=="string")return i.style.getPropertyValue(Lf(e))||FI(i).getPropertyValue(Lf(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(Lf(o)):YI(o)?s+=o+"("+l+") ":n+=Lf(o)+": "+l+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var mp={exports:{}},pp,yT;function XI(){if(yT)return pp;yT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pp=i,pp}var gp,_T;function WI(){if(_T)return gp;_T=1;var i=XI();function e(){}function n(){}return n.resetWarningCache=e,gp=function(){function s(c,m,p,g,_,T){if(T!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},gp}var vT;function JI(){return vT||(vT=1,mp.exports=WI()()),mp.exports}var ZI=JI();const Rr=Pu(ZI),ET={disabled:!1},kS=ji.createContext(null);var eN=function(e){return e.scrollTop},fu="unmounted",_s="exited",li="entering",vr="entered",Cu="exiting",Vr=(function(i){qI(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var c=o,m=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=_s,l.appearStatus=li):p=vr:s.unmountOnExit||s.mountOnEnter?p=fu:p=_s,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var c=o.in;return c&&l.status===fu?{status:_s}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var l=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==li&&c!==vr&&(l=li):(c===li||c===vr)&&(l=Cu)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,l,c,m;return l=c=m=o,o!=null&&typeof o!="number"&&(l=o.exit,c=o.enter,m=o.appear!==void 0?o.appear:c),{exit:l,enter:c,appear:m}},n.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===li){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Io.findDOMNode(this);c&&eN(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_s&&this.setState({status:fu})},n.performEnter=function(o){var l=this,c=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Io.findDOMNode(this),m],g=p[0],_=p[1],T=this.getTimeouts(),b=m?T.appear:T.enter;if(!o&&!c||ET.disabled){this.safeSetState({status:vr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:li},function(){l.props.onEntering(g,_),l.onTransitionEnd(b,function(){l.safeSetState({status:vr},function(){l.props.onEntered(g,_)})})})},n.performExit=function(){var o=this,l=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:Io.findDOMNode(this);if(!l||ET.disabled){this.safeSetState({status:_s},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Cu},function(){o.props.onExiting(m),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:_s},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},n.setNextCallback=function(o){var l=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(o,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Io.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===fu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=MS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ji.createElement(kS.Provider,{value:null},typeof c=="function"?c(o,m):ji.cloneElement(ji.Children.only(c),m))},e})(ji.Component);Vr.contextType=kS;Vr.propTypes={};function To(){}Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:To,onEntering:To,onEntered:To,onExit:To,onExiting:To,onExited:To};Vr.UNMOUNTED=fu;Vr.EXITED=_s;Vr.ENTERING=li;Vr.ENTERED=vr;Vr.EXITING=Cu;function tN(i){return i.code==="Escape"||i.keyCode===27}function nN(){const i=A.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Ko(i){if(!i||typeof i=="function")return null;const{major:e}=nN();return e>=19?i.props.ref:i.ref}const Nh=!!(typeof window<"u"&&window.document&&window.document.createElement);var jp=!1,zp=!1;try{var yp={get passive(){return jp=!0},get once(){return zp=jp=!0}};Nh&&(window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,!0))}catch{}function iN(i,e,n,s){if(s&&typeof s!="boolean"&&!zp){var o=s.once,l=s.capture,c=n;!zp&&o&&(c=n.__once||function m(p){this.removeEventListener(e,m,l),n.call(this,p)},n.__once=c),i.addEventListener(e,c,jp?s:l)}i.addEventListener(e,n,s)}function rN(i,e,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,n,o),n.__once&&i.removeEventListener(e,n.__once,o)}function nh(i,e,n,s){return iN(i,e,n,s),function(){rN(i,e,n,s)}}function sN(i,e,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,s),i.dispatchEvent(o)}}function aN(i){var e=wr(i,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function oN(i,e,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||sN(i,"transitionend",!0)},e+n),l=nh(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function lN(i,e,n,s){n==null&&(n=aN(i)||0);var o=oN(i,n,s),l=nh(i,"transitionend",e);return function(){o(),l()}}function TT(i,e){const n=wr(i,e)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Ig(i,e){const n=TT(i,"transitionDuration"),s=TT(i,"transitionDelay"),o=lN(i,l=>{l.target===i&&(o(),e(l))},n+s)}function cu(...i){return i.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...o){e.apply(this,o),n.apply(this,o)}},null)}function PS(i){i.offsetHeight}const ST=i=>!i||typeof i=="function"?i:e=>{i.current=e};function uN(i,e){const n=ST(i),s=ST(e);return o=>{n&&n(o),s&&s(o)}}function cN(i,e){return A.useMemo(()=>uN(i,e),[i,e])}function fN(i){return i&&"setState"in i?Io.findDOMNode(i):i??null}const Dh=ji.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,onExited:l,addEndListener:c,children:m,childRef:p,...g},_)=>{const T=A.useRef(null),b=cN(T,p),x=fe=>{b(fN(fe))},z=fe=>I=>{fe&&T.current&&fe(T.current,I)},G=A.useCallback(z(i),[i]),P=A.useCallback(z(e),[e]),W=A.useCallback(z(n),[n]),J=A.useCallback(z(s),[s]),re=A.useCallback(z(o),[o]),ce=A.useCallback(z(l),[l]),me=A.useCallback(z(c),[c]);return C.jsx(Vr,{ref:_,...g,onEnter:G,onEntered:W,onEntering:P,onExit:J,onExited:ce,onExiting:re,addEndListener:me,nodeRef:T,children:typeof m=="function"?(fe,I)=>m(fe,{...I,ref:x}):ji.cloneElement(m,{ref:x})})});Dh.displayName="TransitionWrapper";const hN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function dN(i,e){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[n],o=hN[i];return s+parseInt(wr(e,o[0]),10)+parseInt(wr(e,o[1]),10)}const mN={[_s]:"collapse",[Cu]:"collapsing",[li]:"collapsing",[vr]:"collapse show"},US=ji.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,className:l,children:c,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:T=!1,appear:b=!1,getDimensionValue:x=dN,...z},G)=>{const P=typeof m=="function"?m():m,W=A.useMemo(()=>cu(fe=>{fe.style[P]="0"},i),[P,i]),J=A.useMemo(()=>cu(fe=>{const I=`scroll${P[0].toUpperCase()}${P.slice(1)}`;fe.style[P]=`${fe[I]}px`},e),[P,e]),re=A.useMemo(()=>cu(fe=>{fe.style[P]=null},n),[P,n]),ce=A.useMemo(()=>cu(fe=>{fe.style[P]=`${x(P,fe)}px`,PS(fe)},s),[s,x,P]),me=A.useMemo(()=>cu(fe=>{fe.style[P]=null},o),[P,o]);return C.jsx(Dh,{ref:G,addEndListener:Ig,...z,"aria-expanded":z.role?p:null,onEnter:W,onEntering:J,onEntered:re,onExit:ce,onExiting:me,childRef:Ko(c),in:p,timeout:g,mountOnEnter:_,unmountOnExit:T,appear:b,children:(fe,I)=>ji.cloneElement(c,{...I,className:Se(l,c.props.className,mN[fe],P==="width"&&"collapse-horizontal")})})});US.displayName="Collapse";function pN(i){const e=A.useRef(i);return A.useEffect(()=>{e.current=i},[i]),e}function Bu(i){const e=pN(i);return A.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Oh=(i=>A.forwardRef((e,n)=>C.jsx("div",{...e,ref:n,className:Se(e.className,i)}))),jS=Oh("h4");jS.displayName="DivStyledAsH4";const zS=A.forwardRef(({className:i,bsPrefix:e,as:n=jS,...s},o)=>(e=Ie(e,"alert-heading"),C.jsx(n,{ref:o,className:Se(i,e),...s})));zS.displayName="AlertHeading";function gN(i){const e=A.useRef(i);return A.useEffect(()=>{e.current=i},[i]),e}function Er(i){const e=gN(i);return A.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function yN(){const i=A.useRef(!0),e=A.useRef(()=>i.current);return A.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function _N(i){const e=A.useRef(null);return A.useEffect(()=>{e.current=i}),e.current}const vN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",EN=typeof document<"u",AT=EN||vN?A.useLayoutEffect:A.useEffect,TN=["as","disabled"];function SN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function AN(i){return!i||i.trim()==="#"}function Ng({tagName:i,disabled:e,href:n,target:s,rel:o,role:l,onClick:c,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const _=b=>{if((e||i==="a"&&AN(n))&&b.preventDefault(),e){b.stopPropagation();return}c?.(b)},T=b=>{b.key===" "&&(b.preventDefault(),_(b))};return i==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:T},g]}const BS=A.forwardRef((i,e)=>{let{as:n,disabled:s}=i,o=SN(i,TN);const[l,{tagName:c}]=Ng(Object.assign({tagName:n,disabled:s},o));return C.jsx(c,Object.assign({},o,l,{ref:e}))});BS.displayName="Button";const bN=["onKeyDown"];function wN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function RN(i){return!i||i.trim()==="#"}const Dg=A.forwardRef((i,e)=>{let{onKeyDown:n}=i,s=wN(i,bN);const[o]=Ng(Object.assign({tagName:"a"},s)),l=Er(c=>{o.onKeyDown(c),n?.(c)});return RN(s.href)||s.role==="button"?C.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):C.jsx("a",Object.assign({ref:e},s,{onKeyDown:n}))});Dg.displayName="Anchor";const qS=A.forwardRef(({className:i,bsPrefix:e,as:n=Dg,...s},o)=>(e=Ie(e,"alert-link"),C.jsx(n,{ref:o,className:Se(i,e),...s})));qS.displayName="AlertLink";const CN={[li]:"show",[vr]:"show"},ih=A.forwardRef(({className:i,children:e,transitionClasses:n={},onEnter:s,...o},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=A.useCallback((p,g)=>{PS(p),s?.(p,g)},[s]);return C.jsx(Dh,{ref:l,addEndListener:Ig,...c,onEnter:m,childRef:Ko(e),children:(p,g)=>A.cloneElement(e,{...g,className:Se("fade",i,e.props.className,CN[p],n[p])})})});ih.displayName="Fade";const IN={"aria-label":Rr.string,onClick:Rr.func,variant:Rr.oneOf(["white"])},xh=A.forwardRef(({className:i,variant:e,"aria-label":n="Close",...s},o)=>C.jsx("button",{ref:o,type:"button",className:Se("btn-close",e&&`btn-close-${e}`,i),"aria-label":n,...s}));xh.displayName="CloseButton";xh.propTypes=IN;const HS=A.forwardRef((i,e)=>{const{bsPrefix:n,show:s=!0,closeLabel:o="Close alert",closeVariant:l,className:c,children:m,variant:p="primary",onClose:g,dismissible:_,transition:T=ih,...b}=bg(i,{show:"onClose"}),x=Ie(n,"alert"),z=Bu(W=>{g&&g(!1,W)}),G=T===!0?ih:T,P=C.jsxs("div",{role:"alert",...G?void 0:b,ref:e,className:Se(c,x,p&&`${x}-${p}`,_&&`${x}-dismissible`),children:[_&&C.jsx(xh,{onClick:z,"aria-label":o,variant:l}),m]});return G?C.jsx(G,{unmountOnExit:!0,...b,ref:void 0,in:s,children:P}):s?P:null});HS.displayName="Alert";const NN=Object.assign(HS,{Link:qS,Heading:zS}),_u=A.forwardRef(({bsPrefix:i,bg:e="primary",pill:n=!1,text:s,className:o,as:l="span",...c},m)=>{const p=Ie(i,"badge");return C.jsx(l,{ref:m,...c,className:Se(o,p,n&&"rounded-pill",s&&`text-${s}`,e&&`bg-${e}`)})});_u.displayName="Badge";const bs=A.forwardRef(({as:i,bsPrefix:e,variant:n="primary",size:s,active:o=!1,disabled:l=!1,className:c,...m},p)=>{const g=Ie(e,"btn"),[_,{tagName:T}]=Ng({tagName:i,disabled:l,...m}),b=T;return C.jsx(b,{..._,...m,ref:p,disabled:l,className:Se(c,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});bs.displayName="Button";const Og=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"card-body"),C.jsx(n,{ref:o,className:Se(i,e),...s})));Og.displayName="CardBody";const FS=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"card-footer"),C.jsx(n,{ref:o,className:Se(i,e),...s})));FS.displayName="CardFooter";const xg=A.createContext(null);xg.displayName="CardHeaderContext";const GS=A.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Ie(i,"card-header"),c=A.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return C.jsx(xg.Provider,{value:c,children:C.jsx(n,{ref:o,...s,className:Se(e,l)})})});GS.displayName="CardHeader";const $S=A.forwardRef(({bsPrefix:i,className:e,variant:n,as:s="img",...o},l)=>{const c=Ie(i,"card-img");return C.jsx(s,{ref:l,className:Se(n?`${c}-${n}`:c,e),...o})});$S.displayName="CardImg";const KS=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"card-img-overlay"),C.jsx(n,{ref:o,className:Se(i,e),...s})));KS.displayName="CardImgOverlay";const QS=A.forwardRef(({className:i,bsPrefix:e,as:n="a",...s},o)=>(e=Ie(e,"card-link"),C.jsx(n,{ref:o,className:Se(i,e),...s})));QS.displayName="CardLink";const DN=Oh("h6"),YS=A.forwardRef(({className:i,bsPrefix:e,as:n=DN,...s},o)=>(e=Ie(e,"card-subtitle"),C.jsx(n,{ref:o,className:Se(i,e),...s})));YS.displayName="CardSubtitle";const XS=A.forwardRef(({className:i,bsPrefix:e,as:n="p",...s},o)=>(e=Ie(e,"card-text"),C.jsx(n,{ref:o,className:Se(i,e),...s})));XS.displayName="CardText";const ON=Oh("h5"),WS=A.forwardRef(({className:i,bsPrefix:e,as:n=ON,...s},o)=>(e=Ie(e,"card-title"),C.jsx(n,{ref:o,className:Se(i,e),...s})));WS.displayName="CardTitle";const JS=A.forwardRef(({bsPrefix:i,className:e,bg:n,text:s,border:o,body:l=!1,children:c,as:m="div",...p},g)=>{const _=Ie(i,"card");return C.jsx(m,{ref:g,...p,className:Se(e,_,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:l?C.jsx(Og,{children:c}):c})});JS.displayName="Card";const Cr=Object.assign(JS,{Img:$S,Title:WS,Subtitle:YS,Body:Og,Link:QS,Text:XS,Header:GS,Footer:FS,ImgOverlay:KS});function xN(i,e){return A.Children.toArray(i).some(n=>A.isValidElement(n)&&n.type===e)}function MN({as:i,bsPrefix:e,className:n,...s}){e=Ie(e,"col");const o=wg(),l=Rg(),c=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,T,b;typeof g=="object"&&g!=null?{span:_,offset:T,order:b}=g:_=g;const x=p!==l?`-${p}`:"";_&&c.push(_===!0?`${e}${x}`:`${e}${x}-${_}`),b!=null&&m.push(`order${x}-${b}`),T!=null&&m.push(`offset${x}-${T}`)}),[{...s,className:Se(n,...c,...m)},{as:i,bsPrefix:e,spans:c}]}const $n=A.forwardRef((i,e)=>{const[{className:n,...s},{as:o="div",bsPrefix:l,spans:c}]=MN(i);return C.jsx(o,{...s,ref:e,className:Se(n,!c.length&&l)})});$n.displayName="Col";const Bp=A.forwardRef(({bsPrefix:i,fluid:e=!1,as:n="div",className:s,...o},l)=>{const c=Ie(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(n,{ref:l,...o,className:Se(s,e?`${c}${m}`:c)})});Bp.displayName="Container";var VN=Function.prototype.bind.call(Function.prototype.call,[].slice);function pa(i,e){return VN(i.querySelectorAll(e))}function LN(){const[,i]=A.useReducer(e=>e+1,0);return i}function bT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const rh=A.createContext(null),Mg=(i,e=null)=>i!=null?String(i):e||null,Vg=A.createContext(null);Vg.displayName="NavContext";const kN="data-rr-ui-",PN="rrUi";function Mh(i){return`${kN}${i}`}function UN(i){return`${PN}${i}`}const ZS=A.createContext(Nh?window:void 0);ZS.Provider;function Lg(){return A.useContext(ZS)}const jN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zN=typeof document<"u",BN=zN||jN?A.useLayoutEffect:A.useEffect,Qo=A.createContext(null);Qo.displayName="NavbarContext";const qN={type:Rr.string,tooltip:Rr.bool,as:Rr.elementType},Vh=A.forwardRef(({as:i="div",className:e,type:n="valid",tooltip:s=!1,...o},l)=>C.jsx(i,{...o,ref:l,className:Se(e,`${n}-${s?"tooltip":"feedback"}`)}));Vh.displayName="Feedback";Vh.propTypes=qN;const Nr=A.createContext({}),kg=A.forwardRef(({id:i,bsPrefix:e,className:n,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...m},p)=>{const{controlId:g}=A.useContext(Nr);return e=Ie(e,"form-check-input"),C.jsx(c,{...m,ref:p,type:s,id:i||g,className:Se(n,e,o&&"is-valid",l&&"is-invalid")})});kg.displayName="FormCheckInput";const sh=A.forwardRef(({bsPrefix:i,className:e,htmlFor:n,...s},o)=>{const{controlId:l}=A.useContext(Nr);return i=Ie(i,"form-check-label"),C.jsx("label",{...s,ref:o,htmlFor:n||l,className:Se(e,i)})});sh.displayName="FormCheckLabel";const eA=A.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:T,style:b,title:x="",type:z="checkbox",label:G,children:P,as:W="input",...J},re)=>{e=Ie(e,"form-check"),n=Ie(n,"form-switch");const{controlId:ce}=A.useContext(Nr),me=A.useMemo(()=>({controlId:i||ce}),[ce,i]),fe=!P&&G!=null&&G!==!1||xN(P,sh),I=C.jsx(kg,{...J,type:z==="switch"?"checkbox":z,ref:re,isValid:c,isInvalid:m,disabled:l,as:W});return C.jsx(Nr.Provider,{value:me,children:C.jsx("div",{style:b,className:Se(T,fe&&e,s&&`${e}-inline`,o&&`${e}-reverse`,z==="switch"&&n),children:P||C.jsxs(C.Fragment,{children:[I,fe&&C.jsx(sh,{title:x,children:G}),g&&C.jsx(Vh,{type:_,tooltip:p,children:g})]})})})});eA.displayName="FormCheck";const ah=Object.assign(eA,{Input:kg,Label:sh}),tA=A.forwardRef(({bsPrefix:i,type:e,size:n,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:_="input",...T},b)=>{const{controlId:x}=A.useContext(Nr);return i=Ie(i,"form-control"),C.jsx(_,{...T,type:e,size:s,ref:b,readOnly:g,id:o||x,className:Se(l,p?`${i}-plaintext`:i,n&&`${i}-${n}`,e==="color"&&`${i}-color`,c&&"is-valid",m&&"is-invalid")})});tA.displayName="FormControl";const HN=Object.assign(tA,{Feedback:Vh}),nA=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"form-floating"),C.jsx(n,{ref:o,className:Se(i,e),...s})));nA.displayName="FormFloating";const Pg=A.forwardRef(({controlId:i,as:e="div",...n},s)=>{const o=A.useMemo(()=>({controlId:i}),[i]);return C.jsx(Nr.Provider,{value:o,children:C.jsx(e,{...n,ref:s})})});Pg.displayName="FormGroup";const iA=A.forwardRef(({as:i="label",bsPrefix:e,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c},m)=>{const{controlId:p}=A.useContext(Nr);e=Ie(e,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const _=Se(o,e,s&&"visually-hidden",n&&g);return l=l||p,n?C.jsx($n,{ref:m,as:"label",className:_,htmlFor:l,...c}):C.jsx(i,{ref:m,className:_,htmlFor:l,...c})});iA.displayName="FormLabel";const rA=A.forwardRef(({bsPrefix:i,className:e,id:n,...s},o)=>{const{controlId:l}=A.useContext(Nr);return i=Ie(i,"form-range"),C.jsx("input",{...s,type:"range",ref:o,className:Se(e,i),id:n||l})});rA.displayName="FormRange";const sA=A.forwardRef(({bsPrefix:i,size:e,htmlSize:n,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...m},p)=>{const{controlId:g}=A.useContext(Nr);return i=Ie(i,"form-select"),C.jsx("select",{...m,size:n,ref:p,className:Se(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:c||g})});sA.displayName="FormSelect";const aA=A.forwardRef(({bsPrefix:i,className:e,as:n="small",muted:s,...o},l)=>(i=Ie(i,"form-text"),C.jsx(n,{...o,ref:l,className:Se(e,i,s&&"text-muted")})));aA.displayName="FormText";const oA=A.forwardRef((i,e)=>C.jsx(ah,{...i,ref:e,type:"switch"}));oA.displayName="Switch";const FN=Object.assign(oA,{Input:ah.Input,Label:ah.Label}),lA=A.forwardRef(({bsPrefix:i,className:e,children:n,controlId:s,label:o,...l},c)=>(i=Ie(i,"form-floating"),C.jsxs(Pg,{ref:c,className:Se(e,i),controlId:s,...l,children:[n,C.jsx("label",{htmlFor:s,children:o})]})));lA.displayName="FloatingLabel";const GN={_ref:Rr.any,validated:Rr.bool,as:Rr.elementType},Ug=A.forwardRef(({className:i,validated:e,as:n="form",...s},o)=>C.jsx(n,{...s,ref:o,className:Se(i,e&&"was-validated")}));Ug.displayName="Form";Ug.propTypes=GN;const Ae=Object.assign(Ug,{Group:Pg,Control:HN,Floating:nA,Check:ah,Switch:FN,Label:iA,Text:aA,Range:rA,Select:sA,FloatingLabel:lA}),wT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function $N(i,e){const n=wT(i),s=wT(e);return o=>{n&&n(o),s&&s(o)}}function Lh(i,e){return A.useMemo(()=>$N(i,e),[i,e])}const uA=A.createContext(null),KN=["as","active","eventKey"];function QN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function cA({key:i,onClick:e,active:n,id:s,role:o,disabled:l}){const c=A.useContext(rh),m=A.useContext(Vg),p=A.useContext(uA);let g=n;const _={role:o};if(m){!o&&m.role==="tablist"&&(_.role="tab");const T=m.getControllerId(i??null),b=m.getControlledId(i??null);_[Mh("event-key")]=i,_.id=T||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=b)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Er(T=>{l||(e?.(T),i!=null&&c&&!T.isPropagationStopped()&&c(i,T))}),[_,{isActive:g}]}const fA=A.forwardRef((i,e)=>{let{as:n=BS,active:s,eventKey:o}=i,l=QN(i,KN);const[c,m]=cA(Object.assign({key:Mg(o,l.href),active:s},l));return c[Mh("active")]=m.isActive,C.jsx(n,Object.assign({},l,c,{ref:e}))});fA.displayName="NavItem";const YN=["as","onSelect","activeKey","role","onKeyDown"];function XN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const RT=()=>{},CT=Mh("event-key"),hA=A.forwardRef((i,e)=>{let{as:n="div",onSelect:s,activeKey:o,role:l,onKeyDown:c}=i,m=XN(i,YN);const p=LN(),g=A.useRef(!1),_=A.useContext(rh),T=A.useContext(uA);let b,x;T&&(l=l||"tablist",o=T.activeKey,b=T.getControlledId,x=T.getControllerId);const z=A.useRef(null),G=re=>{const ce=z.current;if(!ce)return null;const me=pa(ce,`[${CT}]:not([aria-disabled=true])`),fe=ce.querySelector("[aria-selected=true]");if(!fe||fe!==document.activeElement)return null;const I=me.indexOf(fe);if(I===-1)return null;let R=I+re;return R>=me.length&&(R=0),R<0&&(R=me.length-1),me[R]},P=(re,ce)=>{re!=null&&(s?.(re,ce),_?.(re,ce))},W=re=>{if(c?.(re),!T)return;let ce;switch(re.key){case"ArrowLeft":case"ArrowUp":ce=G(-1);break;case"ArrowRight":case"ArrowDown":ce=G(1);break;default:return}ce&&(re.preventDefault(),P(ce.dataset[UN("EventKey")]||null,re),g.current=!0,p())};A.useEffect(()=>{if(z.current&&g.current){const re=z.current.querySelector(`[${CT}][aria-selected=true]`);re?.focus()}g.current=!1});const J=Lh(e,z);return C.jsx(rh.Provider,{value:P,children:C.jsx(Vg.Provider,{value:{role:l,activeKey:Mg(o),getControlledId:b||RT,getControllerId:x||RT},children:C.jsx(n,Object.assign({},m,{onKeyDown:W,ref:J,role:l}))})})});hA.displayName="Nav";const WN=Object.assign(hA,{Item:fA});function _p(i){i===void 0&&(i=Cg());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function JN(i){const e=A.useRef(i);return e.current=i,e}function ZN(i){const e=JN(i);A.useEffect(()=>()=>e.current(),[])}function eD(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const IT=Mh("modal-open");class jg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return eD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(wr(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(IT,""),wr(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(IT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const vp=(i,e)=>Nh?i==null?(e||Cg()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function tD(i,e){const n=Lg(),[s,o]=A.useState(()=>vp(i,n?.document));if(!s){const l=vp(i);l&&o(l)}return A.useEffect(()=>{},[e,s]),A.useEffect(()=>{const l=vp(i);l!==s&&o(l)},[i,s]),s}function nD({children:i,in:e,onExited:n,mountOnEnter:s,unmountOnExit:o}){const l=A.useRef(null),c=A.useRef(e),m=Er(n);A.useEffect(()=>{e?c.current=!0:m(l.current)},[e,m]);const p=Lh(l,Ko(i)),g=A.cloneElement(i,{ref:p});return e?g:o||!c.current&&s?null:g}const iD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rD(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function sD(i){let{onEnter:e,onEntering:n,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:m,children:p}=i,g=rD(i,iD);const _=A.useRef(null),T=Lh(_,Ko(p)),b=ce=>me=>{ce&&_.current&&ce(_.current,me)},x=A.useCallback(b(e),[e]),z=A.useCallback(b(n),[n]),G=A.useCallback(b(s),[s]),P=A.useCallback(b(o),[o]),W=A.useCallback(b(l),[l]),J=A.useCallback(b(c),[c]),re=A.useCallback(b(m),[m]);return Object.assign({},g,{nodeRef:_},e&&{onEnter:x},n&&{onEntering:z},s&&{onEntered:G},o&&{onExit:P},l&&{onExiting:W},c&&{onExited:J},m&&{addEndListener:re},{children:typeof p=="function"?(ce,me)=>p(ce,Object.assign({},me,{ref:T})):A.cloneElement(p,{ref:T})})}const aD=["component"];function oD(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const lD=A.forwardRef((i,e)=>{let{component:n}=i,s=oD(i,aD);const o=sD(s);return C.jsx(n,Object.assign({ref:e},o))});function uD({in:i,onTransition:e}){const n=A.useRef(null),s=A.useRef(!0),o=Er(e);return AT(()=>{if(!n.current)return;let l=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),AT(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function cD({children:i,in:e,onExited:n,onEntered:s,transition:o}){const[l,c]=A.useState(!e);e&&l&&c(!1);const m=uD({in:!!e,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(c(!0),n?.(g.element)))};Promise.resolve(o(g)).then(_,T=>{throw g.in||c(!0),T})}}),p=Lh(m,Ko(i));return l&&!e?null:A.cloneElement(i,{ref:p})}function NT(i,e,n){return i?C.jsx(lD,Object.assign({},n,{component:i})):e?C.jsx(cD,Object.assign({},n,{transition:e})):C.jsx(nD,Object.assign({},n))}const fD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hD(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}let Ep;function dD(i){return Ep||(Ep=new jg({ownerDocument:i?.document})),Ep}function mD(i){const e=Lg(),n=i||dD(e),s=A.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:A.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:A.useCallback(o=>{s.current.backdrop=o},[])})}const dA=A.forwardRef((i,e)=>{let{show:n=!1,role:s="dialog",className:o,style:l,children:c,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:T,runTransition:b,backdropTransition:x,runBackdropTransition:z,autoFocus:G=!0,enforceFocus:P=!0,restoreFocus:W=!0,restoreFocusOptions:J,renderDialog:re,renderBackdrop:ce=st=>C.jsx("div",Object.assign({},st)),manager:me,container:fe,onShow:I,onHide:R=()=>{},onExit:N,onExited:k,onExiting:M,onEnter:U,onEntering:D,onEntered:Fe}=i,rt=hD(i,fD);const Q=Lg(),te=tD(fe),oe=mD(me),xe=yN(),Me=_N(n),[V,Y]=A.useState(!n),se=A.useRef(null);A.useImperativeHandle(e,()=>oe,[oe]),Nh&&!Me&&n&&(se.current=_p(Q?.document)),n&&V&&Y(!1);const ae=Er(()=>{if(oe.add(),Yn.current=nh(document,"keydown",vt),Ze.current=nh(document,"focus",()=>setTimeout(be),!0),I&&I(),G){var st,gi;const Zi=_p((st=(gi=oe.dialog)==null?void 0:gi.ownerDocument)!=null?st:Q?.document);oe.dialog&&Zi&&!bT(oe.dialog,Zi)&&(se.current=Zi,oe.dialog.focus())}}),ge=Er(()=>{if(oe.remove(),Yn.current==null||Yn.current(),Ze.current==null||Ze.current(),W){var st;(st=se.current)==null||st.focus==null||st.focus(J),se.current=null}});A.useEffect(()=>{!n||!te||ae()},[n,te,ae]),A.useEffect(()=>{V&&ge()},[V,ge]),ZN(()=>{ge()});const be=Er(()=>{if(!P||!xe()||!oe.isTopModal())return;const st=_p(Q?.document);oe.dialog&&st&&!bT(oe.dialog,st)&&oe.dialog.focus()}),ke=Er(st=>{st.target===st.currentTarget&&(g?.(st),m===!0&&R())}),vt=Er(st=>{p&&tN(st)&&oe.isTopModal()&&(_?.(st),st.defaultPrevented||R())}),Ze=A.useRef(),Yn=A.useRef(),Pr=(...st)=>{Y(!0),k?.(...st)};if(!te)return null;const Ji=Object.assign({role:s,ref:oe.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},rt,{style:l,className:o,tabIndex:-1});let pi=re?re(Ji):C.jsx("div",Object.assign({},Ji,{children:A.cloneElement(c,{role:"document"})}));pi=NT(T,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:M,onExited:Pr,onEnter:U,onEntering:D,onEntered:Fe,children:pi});let sn=null;return m&&(sn=ce({ref:oe.setBackdropRef,onClick:ke}),sn=NT(x,z,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:sn})),C.jsx(C.Fragment,{children:Io.createPortal(C.jsxs(C.Fragment,{children:[sn,pi]}),te)})});dA.displayName="Modal";const pD=Object.assign(dA,{Manager:jg});function gD(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function yD(i,e){i.classList?i.classList.add(e):gD(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function DT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _D(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=DT(i.className,e):i.setAttribute("class",DT(i.className&&i.className.baseVal||"",e))}const So={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class mA extends jg{adjustAndStore(e,n,s){const o=n.style[e];n.dataset[e]=o,wr(n,{[e]:`${parseFloat(wr(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],wr(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(yD(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(n,So.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),pa(n,So.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),pa(n,So.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();_D(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(n,So.FIXED_CONTENT).forEach(l=>this.restore(s,l)),pa(n,So.STICKY_CONTENT).forEach(l=>this.restore(o,l)),pa(n,So.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Tp;function vD(i){return Tp||(Tp=new mA(i)),Tp}const pA=A.createContext({onHide(){}}),gA=A.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:o,...l},c)=>{const m=A.useContext(pA),p=Bu(()=>{m?.onHide(),s?.()});return C.jsxs("div",{ref:c,...l,children:[o,n&&C.jsx(xh,{"aria-label":i,variant:e,onClick:p})]})});gA.displayName="AbstractModalHeader";const yA=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"nav-item"),C.jsx(n,{ref:o,className:Se(i,e),...s})));yA.displayName="NavItem";const _A=A.forwardRef(({bsPrefix:i,className:e,as:n=Dg,active:s,eventKey:o,disabled:l=!1,...c},m)=>{i=Ie(i,"nav-link");const[p,g]=cA({key:Mg(o,c.href),active:s,disabled:l,...c});return C.jsx(n,{...c,...p,ref:m,disabled:l,className:Se(e,i,l&&"disabled",g.isActive&&"active")})});_A.displayName="NavLink";const vA=A.forwardRef((i,e)=>{const{as:n="div",bsPrefix:s,variant:o,fill:l=!1,justify:c=!1,navbar:m,navbarScroll:p,className:g,activeKey:_,...T}=bg(i,{activeKey:"onSelect"}),b=Ie(s,"nav");let x,z,G=!1;const P=A.useContext(Qo),W=A.useContext(xg);return P?(x=P.bsPrefix,G=m??!0):W&&({cardHeaderBsPrefix:z}=W),C.jsx(WN,{as:n,ref:e,activeKey:_,className:Se(g,{[b]:!G,[`${x}-nav`]:G,[`${x}-nav-scroll`]:G&&p,[`${z}-${o}`]:!!z,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:c}),...T})});vA.displayName="Nav";const kf=Object.assign(vA,{Item:yA,Link:_A}),EA=A.forwardRef(({bsPrefix:i,className:e,as:n,...s},o)=>{i=Ie(i,"navbar-brand");const l=n||(s.href?"a":"span");return C.jsx(l,{...s,ref:o,className:Se(e,i)})});EA.displayName="NavbarBrand";const TA=A.forwardRef(({children:i,bsPrefix:e,...n},s)=>{e=Ie(e,"navbar-collapse");const o=A.useContext(Qo);return C.jsx(US,{in:!!(o&&o.expanded),...n,children:C.jsx("div",{ref:s,className:e,children:i})})});TA.displayName="NavbarCollapse";const SA=A.forwardRef(({bsPrefix:i,className:e,children:n,label:s="Toggle navigation",as:o="button",onClick:l,...c},m)=>{i=Ie(i,"navbar-toggler");const{onToggle:p,expanded:g}=A.useContext(Qo)||{},_=Bu(T=>{l&&l(T),p&&p()});return o==="button"&&(c.type="button"),C.jsx(o,{...c,ref:m,onClick:_,"aria-label":s,className:Se(e,i,!g&&"collapsed"),children:n||C.jsx("span",{className:`${i}-icon`})})});SA.displayName="NavbarToggle";const qp=new WeakMap,OT=(i,e)=>{if(!i||!e)return;const n=qp.get(e)||new Map;qp.set(e,n);let s=n.get(i);return s||(s=e.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function ED(i,e=typeof window>"u"?void 0:window){const n=OT(i,e),[s,o]=A.useState(()=>n?n.matches:!1);return BN(()=>{let l=OT(i,e);if(!l)return o(!1);let c=qp.get(e);const m=()=>{o(l.matches)};return l.refCount++,l.addListener(m),m(),()=>{l.removeListener(m),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[i]),s}function TD(i){const e=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return e[Math.min(e.indexOf(m)+1,e.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(m,p,g){let _;typeof m=="object"?(_=m,g=p,p=!0):(p=p||!0,_={[m]:p});let T=A.useMemo(()=>Object.entries(_).reduce((b,[x,z])=>((z==="up"||z===!0)&&(b=n(b,l(x))),(z==="down"||z===!0)&&(b=n(b,o(x))),b),""),[JSON.stringify(_)]);return ED(T,g)}return c}const SD=TD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),AA=A.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Ie(e,"offcanvas-body"),C.jsx(n,{ref:o,className:Se(i,e),...s})));AA.displayName="OffcanvasBody";const AD={[li]:"show",[vr]:"show"},bA=A.forwardRef(({bsPrefix:i,className:e,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...m},p)=>(i=Ie(i,"offcanvas"),C.jsx(Dh,{ref:p,addEndListener:Ig,in:s,mountOnEnter:o,unmountOnExit:l,appear:c,...m,childRef:Ko(n),children:(g,_)=>A.cloneElement(n,{..._,className:Se(e,n.props.className,(g===li||g===Cu)&&`${i}-toggling`,AD[g])})})));bA.displayName="OffcanvasToggling";const wA=A.forwardRef(({bsPrefix:i,className:e,closeLabel:n="Close",closeButton:s=!1,...o},l)=>(i=Ie(i,"offcanvas-header"),C.jsx(gA,{ref:l,...o,className:Se(e,i),closeLabel:n,closeButton:s})));wA.displayName="OffcanvasHeader";const bD=Oh("h5"),RA=A.forwardRef(({className:i,bsPrefix:e,as:n=bD,...s},o)=>(e=Ie(e,"offcanvas-title"),C.jsx(n,{ref:o,className:Se(i,e),...s})));RA.displayName="OffcanvasTitle";function wD(i){return C.jsx(bA,{...i})}function RD(i){return C.jsx(ih,{...i})}const CA=A.forwardRef(({bsPrefix:i,className:e,children:n,"aria-labelledby":s,placement:o="start",responsive:l,show:c=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:T,onHide:b,container:x,autoFocus:z=!0,enforceFocus:G=!0,restoreFocus:P=!0,restoreFocusOptions:W,onEntered:J,onExit:re,onExiting:ce,onEnter:me,onEntering:fe,onExited:I,backdropClassName:R,manager:N,renderStaticNode:k=!1,...M},U)=>{const D=A.useRef();i=Ie(i,"offcanvas");const[Fe,rt]=A.useState(!1),Q=Bu(b),te=SD(l||"xs","up");A.useEffect(()=>{rt(l?c&&!te:c)},[c,l,te]);const oe=A.useMemo(()=>({onHide:Q}),[Q]);function xe(){return N||(g?(D.current||(D.current=new mA({handleContainerOverflow:!1})),D.current):vD())}const Me=(ae,...ge)=>{ae&&(ae.style.visibility="visible"),me?.(ae,...ge)},V=(ae,...ge)=>{ae&&(ae.style.visibility=""),I?.(...ge)},Y=A.useCallback(ae=>C.jsx("div",{...ae,className:Se(`${i}-backdrop`,R)}),[R,i]),se=ae=>C.jsx("div",{...ae,...M,className:Se(e,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return C.jsxs(C.Fragment,{children:[!Fe&&(l||k)&&se({}),C.jsx(pA.Provider,{value:oe,children:C.jsx(pD,{show:Fe,ref:U,backdrop:m,container:x,keyboard:p,autoFocus:z,enforceFocus:G&&!g,restoreFocus:P,restoreFocusOptions:W,onEscapeKeyDown:_,onShow:T,onHide:Q,onEnter:Me,onEntering:fe,onEntered:J,onExit:re,onExiting:ce,onExited:V,manager:xe(),transition:wD,backdropTransition:RD,renderBackdrop:Y,renderDialog:se})})]})});CA.displayName="Offcanvas";const CD=Object.assign(CA,{Body:AA,Header:wA,Title:RA}),IA=A.forwardRef(({onHide:i,...e},n)=>{const s=A.useContext(Qo),o=Bu(()=>{s==null||s.onToggle==null||s.onToggle(),i?.()});return C.jsx(CD,{ref:n,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});IA.displayName="NavbarOffcanvas";const NA=A.forwardRef(({className:i,bsPrefix:e,as:n="span",...s},o)=>(e=Ie(e,"navbar-text"),C.jsx(n,{ref:o,className:Se(i,e),...s})));NA.displayName="NavbarText";const DA=A.forwardRef((i,e)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:l,fixed:c,sticky:m,className:p,as:g="nav",expanded:_,onToggle:T,onSelect:b,collapseOnSelect:x=!1,...z}=bg(i,{expanded:"onToggle"}),G=Ie(n,"navbar"),P=A.useCallback((...re)=>{b?.(...re),x&&_&&T?.(!1)},[b,x,_,T]);z.role===void 0&&g!=="nav"&&(z.role="navigation");let W=`${G}-expand`;typeof s=="string"&&(W=`${W}-${s}`);const J=A.useMemo(()=>({onToggle:()=>T?.(!_),bsPrefix:G,expanded:!!_,expand:s}),[G,_,s,T]);return C.jsx(Qo.Provider,{value:J,children:C.jsx(rh.Provider,{value:P,children:C.jsx(g,{ref:e,...z,className:Se(p,G,s&&W,o&&`${G}-${o}`,l&&`bg-${l}`,m&&`sticky-${m}`,c&&`fixed-${c}`)})})})});DA.displayName="Navbar";const xT=Object.assign(DA,{Brand:EA,Collapse:TA,Offcanvas:IA,Text:NA,Toggle:SA}),ya=A.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Ie(i,"row"),c=wg(),m=Rg(),p=`${l}-cols`,g=[];return c.forEach(_=>{const T=s[_];delete s[_];let b;T!=null&&typeof T=="object"?{cols:b}=T:b=T;const x=_!==m?`-${_}`:"";b!=null&&g.push(`${p}${x}-${b}`)}),C.jsx(n,{ref:o,...s,className:Se(e,l,...g)})});ya.displayName="Row";function ID(i,e=VS,n=LS){const s=[];return Object.entries(i).forEach(([o,l])=>{l!=null&&(typeof l=="object"?e.forEach(c=>{const m=l[c];if(m!=null){const p=c!==n?`-${c}`:"";s.push(`${o}${p}-${m}`)}}):s.push(`${o}-${l}`))}),s}const ko=A.forwardRef(({as:i="div",bsPrefix:e,className:n,direction:s,gap:o,...l},c)=>{e=Ie(e,s==="horizontal"?"hstack":"vstack");const m=wg(),p=Rg();return C.jsx(i,{...l,ref:c,className:Se(n,e,...ID({gap:o},m,p))})});ko.displayName="Stack";const ND="modulepreload",DD=function(i){return"/"+i},MT={},VT=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(_){return Promise.all(_.map(T=>Promise.resolve(T).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");o=g(n.map(_=>{if(_=DD(_),_ in MT)return;MT[_]=!0;const T=_.endsWith(".css"),b=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const x=document.createElement("link");if(x.rel=T?"stylesheet":ND,T||(x.as="script"),x.crossOrigin="",x.href=_,p&&x.setAttribute("nonce",p),document.head.appendChild(x),T)return new Promise((z,G)=>{x.addEventListener("load",z),x.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},OD=()=>{};var LT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xD=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},xA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let b=(m&15)<<2|g>>6,x=g&63;p||(x=64,c||(b=64)),s.push(n[_],n[T],n[b],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(OA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):xD(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new MD;const b=l<<2|m>>4;if(s.push(b),g!==64){const x=m<<4&240|g>>2;if(s.push(x),T!==64){const z=g<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VD=function(i){const e=OA(i);return xA.encodeByteArray(e,!0)},oh=function(i){return VD(i).replace(/\./g,"")},MA=function(i){try{return xA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=()=>LD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof LT>"u")return;const i=LT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&MA(i[1]);return e&&JSON.parse(e)},kh=()=>{try{return OD()||kD()||PD()||UD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VA=i=>kh()?.emulatorHosts?.[i],jD=i=>{const e=VA(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LA=()=>kh()?.config,kA=i=>kh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[oh(JSON.stringify(n)),oh(JSON.stringify(c)),""].join(".")}const vu={};function qD(){const i={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?i.emulator.push(e):i.prod.push(e);return i}function HD(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kT=!1;function UA(i,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||vu[i]===e||vu[i]||kT)return;vu[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=qD().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kT=!0,c()},b}function _(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=HD(s),x=n("text"),z=document.getElementById(x)||document.createElement("span"),G=n("learnmore"),P=document.getElementById(G)||document.createElement("a"),W=n("preprendIcon"),J=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),_(P,G);const ce=g();p(J,W),re.append(J,z,P,ce),document.body.appendChild(re)}l?(z.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function GD(){const i=kh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KD(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XD(){return!GD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function JD(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="FirebaseError";class Lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZD,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?e2(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Lr(o,m,s)}}function e2(i,e){return i.replace(t2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const t2=/\{\$([^}]+)}/g;function n2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Sa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(PT(l)&&PT(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function PT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function du(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function i2(i,e){const n=new r2(i,e);return n.subscribe.bind(n)}class r2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sp),o.error===void 0&&(o.error=Sp),o.complete===void 0&&(o.complete=Sp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(i){return i&&i._delegate?i._delegate:i}class Aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(i){return i===ga?void 0:i}function l2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const c2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},f2=je.INFO,h2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},d2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=h2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=d2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const m2=(i,e)=>e.some(n=>i instanceof n);let UT,jT;function p2(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jA=new WeakMap,Hp=new WeakMap,zA=new WeakMap,Ap=new WeakMap,Bg=new WeakMap;function y2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{n(ws(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jA.set(n,i)}).catch(()=>{}),Bg.set(e,i),e}function _2(i){if(Hp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Hp.set(i,e)}let Fp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zA.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function v2(i){Fp=i(Fp)}function E2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(bp(this),e,...n);return zA.set(s,e.sort?e.sort():[e]),ws(s)}:g2().includes(i)?function(...e){return i.apply(bp(this),e),ws(jA.get(this))}:function(...e){return ws(i.apply(bp(this),e))}}function T2(i){return typeof i=="function"?E2(i):(i instanceof IDBTransaction&&_2(i),m2(i,p2())?new Proxy(i,Fp):i)}function ws(i){if(i instanceof IDBRequest)return y2(i);if(Ap.has(i))return Ap.get(i);const e=T2(i);return e!==i&&(Ap.set(i,e),Bg.set(e,i)),e}const bp=i=>Bg.get(i);function S2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=ws(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ws(c.result),p.oldVersion,p.newVersion,ws(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const A2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],wp=new Map;function zT(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=b2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||A2.includes(n)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return wp.set(e,l),l}v2(i=>({...i,get:(e,n,s)=>zT(e,n)||i.get(e,n,s),has:(e,n)=>!!zT(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function R2(i){return i.getComponent()?.type==="VERSION"}const Gp="@firebase/app",BT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new zg("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",N2="@firebase/analytics",D2="@firebase/app-check-compat",O2="@firebase/app-check",x2="@firebase/auth",M2="@firebase/auth-compat",V2="@firebase/database",L2="@firebase/data-connect",k2="@firebase/database-compat",P2="@firebase/functions",U2="@firebase/functions-compat",j2="@firebase/installations",z2="@firebase/installations-compat",B2="@firebase/messaging",q2="@firebase/messaging-compat",H2="@firebase/performance",F2="@firebase/performance-compat",G2="@firebase/remote-config",$2="@firebase/remote-config-compat",K2="@firebase/storage",Q2="@firebase/storage-compat",Y2="@firebase/firestore",X2="@firebase/ai",W2="@firebase/firestore-compat",J2="firebase",Z2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",eO={[Gp]:"fire-core",[C2]:"fire-core-compat",[N2]:"fire-analytics",[I2]:"fire-analytics-compat",[O2]:"fire-app-check",[D2]:"fire-app-check-compat",[x2]:"fire-auth",[M2]:"fire-auth-compat",[V2]:"fire-rtdb",[L2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[P2]:"fire-fn",[U2]:"fire-fn-compat",[j2]:"fire-iid",[z2]:"fire-iid-compat",[B2]:"fire-fcm",[q2]:"fire-fcm-compat",[H2]:"fire-perf",[F2]:"fire-perf-compat",[G2]:"fire-rc",[$2]:"fire-rc-compat",[K2]:"fire-gcs",[Q2]:"fire-gcs-compat",[Y2]:"fire-fst",[W2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,tO=new Map,Kp=new Map;function qT(i,e){try{i.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Po(i){const e=i.name;if(Kp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,i);for(const n of lh.values())qT(n,i);for(const n of tO.values())qT(n,i);return!0}function qg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new qu("app","Firebase",nO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=Z2;function BA(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:$p,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(n||(n=LA()),!n)throw Rs.create("no-options");const l=lh.get(o);if(l){if(Sa(n,l.options)&&Sa(s,l.config))return l;throw Rs.create("duplicate-app",{appName:o})}const c=new u2(o);for(const p of Kp.values())c.addComponent(p);const m=new iO(n,s,c);return lh.set(o,m),m}function qA(i=$p){const e=lh.get(i);if(!e&&i===$p&&LA())return BA();if(!e)throw Rs.create("no-app",{appName:i});return e}function Cs(i,e,n){let s=eO[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(c.join(" "));return}Po(new Aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firebase-heartbeat-database",sO=1,Iu="firebase-heartbeat-store";let Rp=null;function HA(){return Rp||(Rp=S2(rO,sO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Rs.create("idb-open",{originalErrorMessage:i.message})})),Rp}async function aO(i){try{const n=(await HA()).transaction(Iu),s=await n.objectStore(Iu).get(FA(i));return await n.done,s}catch(e){if(e instanceof Lr)Dr.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}}async function HT(i,e){try{const s=(await HA()).transaction(Iu,"readwrite");await s.objectStore(Iu).put(e,FA(i)),await s.done}catch(n){if(n instanceof Lr)Dr.warn(n.message);else{const s=Rs.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(s.message)}}}function FA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1024,lO=30;class uO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lO){const o=hO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FT(),{heartbeatsToSend:n,unsentEntries:s}=cO(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Dr.warn(e),""}}}function FT(){return new Date().toISOString().substring(0,10)}function cO(i,e=oO){const n=[];let s=i.slice();for(const o of i){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),GT(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),GT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?JD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GT(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function hO(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(i){Po(new Aa("platform-logger",e=>new w2(e),"PRIVATE")),Po(new Aa("heartbeat",e=>new uO(e),"PRIVATE")),Cs(Gp,BT,i),Cs(Gp,BT,"esm2020"),Cs("fire-js","")}dO("");var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,GA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,M,U){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return R.prototype[M].apply(k,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,N){N||(N=0);const k=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)k[M]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(M=0;M<16;++M)k[M]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],M=I.g[2];let U=I.g[3],D;D=R+(U^N&(M^U))+k[0]+3614090360&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(M^R&(N^M))+k[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(N^U&(R^N))+k[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=N+(R^M&(U^R))+k[3]+3250441966&4294967295,N=M+(D<<22&4294967295|D>>>10),D=R+(U^N&(M^U))+k[4]+4118548399&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(M^R&(N^M))+k[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(N^U&(R^N))+k[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=N+(R^M&(U^R))+k[7]+4249261313&4294967295,N=M+(D<<22&4294967295|D>>>10),D=R+(U^N&(M^U))+k[8]+1770035416&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(M^R&(N^M))+k[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(N^U&(R^N))+k[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=N+(R^M&(U^R))+k[11]+2304563134&4294967295,N=M+(D<<22&4294967295|D>>>10),D=R+(U^N&(M^U))+k[12]+1804603682&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(M^R&(N^M))+k[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(N^U&(R^N))+k[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=N+(R^M&(U^R))+k[15]+1236535329&4294967295,N=M+(D<<22&4294967295|D>>>10),D=R+(M^U&(N^M))+k[1]+4129170786&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^M&(R^N))+k[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^N&(U^R))+k[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(M^U))+k[0]+3921069994&4294967295,N=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(N^M))+k[5]+3593408605&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^M&(R^N))+k[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^N&(U^R))+k[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(M^U))+k[4]+3889429448&4294967295,N=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(N^M))+k[9]+568446438&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^M&(R^N))+k[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^N&(U^R))+k[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(M^U))+k[8]+1163531501&4294967295,N=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(N^M))+k[13]+2850285829&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^M&(R^N))+k[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^N&(U^R))+k[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(M^U))+k[12]+2368359562&4294967295,N=M+(D<<20&4294967295|D>>>12),D=R+(N^M^U)+k[5]+4294588738&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^M)+k[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^N)+k[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=N+(M^U^R)+k[14]+4259657740&4294967295,N=M+(D<<23&4294967295|D>>>9),D=R+(N^M^U)+k[1]+2763975236&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^M)+k[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^N)+k[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=N+(M^U^R)+k[10]+3200236656&4294967295,N=M+(D<<23&4294967295|D>>>9),D=R+(N^M^U)+k[13]+681279174&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^M)+k[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^N)+k[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=N+(M^U^R)+k[6]+76029189&4294967295,N=M+(D<<23&4294967295|D>>>9),D=R+(N^M^U)+k[9]+3654602809&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^M)+k[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^N)+k[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=N+(M^U^R)+k[2]+3299628645&4294967295,N=M+(D<<23&4294967295|D>>>9),D=R+(M^(N|~U))+k[0]+4096336452&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~M))+k[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~N))+k[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=N+(U^(M|~R))+k[5]+4237533241&4294967295,N=M+(D<<21&4294967295|D>>>11),D=R+(M^(N|~U))+k[12]+1700485571&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~M))+k[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~N))+k[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=N+(U^(M|~R))+k[1]+2240044497&4294967295,N=M+(D<<21&4294967295|D>>>11),D=R+(M^(N|~U))+k[8]+1873313359&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~M))+k[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~N))+k[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=N+(U^(M|~R))+k[13]+1309151649&4294967295,N=M+(D<<21&4294967295|D>>>11),D=R+(M^(N|~U))+k[4]+4149444226&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~M))+k[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~N))+k[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=N+(U^(M|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,k=this.C;let M=this.h,U=0;for(;U<R;){if(M==0)for(;U<=N;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(k[M++]=I.charCodeAt(U++),M==this.blockSize){o(this,k),M=0;break}}else for(;U<R;)if(k[M++]=I[U++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[R++]=this.g[N]>>>k&255;return I};function l(I,R){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function c(I,R){this.h=R;const N=[];let k=!0;for(let M=I.length-1;M>=0;M--){const U=I[M]|0;k&&U==R||(N[M]=U,k=!1)}this.g=N}var m={};function p(I){return-128<=I&&I<128?l(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return P(g(-I));const R=[];let N=1;for(let k=0;I>=N;k++)R[k]=I/N|0,N*=4294967296;return new c(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(R,8));let k=T;for(let U=0;U<I.length;U+=8){var M=Math.min(8,I.length-U);const D=parseInt(I.substring(U,U+M),R);M<8?(M=g(Math.pow(R,M)),k=k.j(M).add(g(D))):(k=k.j(N),k=k.add(g(D)))}return k}var T=p(0),b=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(G(this))return-P(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(G(this))return"-"+P(this).toString(I);const R=g(Math.pow(I,6));var N=this;let k="";for(;;){const M=ce(N,R).g;N=W(N,M.j(R));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=M,z(N))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function G(I){return I.h==-1}i.l=function(I){return I=W(this,I),G(I)?-1:z(I)?0:1};function P(I){const R=I.g.length,N=[];for(let k=0;k<R;k++)N[k]=~I.g[k];return new c(N,~I.h).add(b)}i.abs=function(){return G(this)?P(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let M=0;M<=R;M++){let U=k+(this.i(M)&65535)+(I.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);k=D>>>16,U&=65535,D&=65535,N[M]=D<<16|U}return new c(N,N[N.length-1]&-2147483648?-1:0)};function W(I,R){return I.add(P(R))}i.j=function(I){if(z(this)||z(I))return T;if(G(this))return G(I)?P(this).j(P(I)):P(P(this).j(I));if(G(I))return P(this.j(P(I)));if(this.l(x)<0&&I.l(x)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var k=0;k<2*R;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<I.g.length;M++){const U=this.i(k)>>>16,D=this.i(k)&65535,Fe=I.i(M)>>>16,rt=I.i(M)&65535;N[2*k+2*M]+=D*rt,J(N,2*k+2*M),N[2*k+2*M+1]+=U*rt,J(N,2*k+2*M+1),N[2*k+2*M+1]+=D*Fe,J(N,2*k+2*M+1),N[2*k+2*M+2]+=U*Fe,J(N,2*k+2*M+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new c(N,0)};function J(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function re(I,R){this.g=I,this.h=R}function ce(I,R){if(z(R))throw Error("division by zero");if(z(I))return new re(T,T);if(G(I))return R=ce(P(I),R),new re(P(R.g),P(R.h));if(G(R))return R=ce(I,P(R)),new re(P(R.g),R.h);if(I.g.length>30){if(G(I)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var N=b,k=R;k.l(I)<=0;)N=me(N),k=me(k);var M=fe(N,1),U=fe(k,1);for(k=fe(k,2),N=fe(N,2);!z(k);){var D=U.add(k);D.l(I)<=0&&(M=M.add(N),U=D),k=fe(k,1),N=fe(N,1)}return R=W(I,M.j(R)),new re(M,R)}for(M=T;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=g(N),D=U.j(R);G(D)||D.l(I)>0;)N-=k,U=g(N),D=U.j(R);z(U)&&(U=b),M=M.add(U),I=W(I,D)}return new re(M,I)}i.B=function(I){return ce(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)&I.i(k);return new c(N,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)|I.i(k);return new c(N,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)^I.i(k);return new c(N,this.h^I.h)};function me(I){const R=I.g.length+1,N=[];for(let k=0;k<R;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(N,I.h)}function fe(I,R){const N=R>>5;R%=32;const k=I.g.length-N,M=[];for(let U=0;U<k;U++)M[U]=R>0?I.i(U+N)>>>R|I.i(U+N+1)<<32-R:I.i(U+N);return new c(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Is=c}).apply(typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,mu,KA,$f,Qp,QA,YA,XA;(function(){var i,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(f,y){if(y)e:{var E=s;f=f.split(".");for(var w=0;w<f.length-1;w++){var B=f[w];if(!(B in E))break e;E=E[B]}f=f[f.length-1],w=E[f],y=y(w),y!=w&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,E){return f.call.apply(f.bind,arguments)}function g(f,y,E){return g=p,g.apply(null,arguments)}function _(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function T(f,y){function E(){}E.prototype=y.prototype,f.Z=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(w,B,$){for(var le=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)le[Ne-2]=arguments[Ne];return y.prototype[B].apply(w,le)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const y=f.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=f[w];return E}return[]}function z(f,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=f.length||0;const $=B.length||0;f.length=E+$;for(let le=0;le<$;le++)f[E+le]=B[le]}else f.push(B)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){c.setTimeout(()=>{throw f},0)}function W(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,E){const w=re.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new G(()=>new ce,f=>f.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,fe=!1,I=new J,R=()=>{const f=Promise.resolve(void 0);me=()=>{f.then(N)}};function N(){for(var f;f=W();){try{f.h.call(f.g)}catch(E){P(E)}var y=re;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}fe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,y){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}T(Fe,M),Fe.prototype.init=function(f,y){const E=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function te(f,y,E,w,B){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=B,this.key=++Q,this.da=this.fa=!1}function oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f,y,E){for(const w in f)y.call(E,f[w],w,f)}function Me(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function V(f){const y={};for(const E in f)y[E]=f[E];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,y){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)f[E]=w[E];for(let $=0;$<Y.length;$++)E=Y[$],Object.prototype.hasOwnProperty.call(w,E)&&(f[E]=w[E])}}function ae(f){this.src=f,this.g={},this.h=0}ae.prototype.add=function(f,y,E,w,B){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const le=be(f,y,w,B);return le>-1?(y=f[le],E||(y.fa=!1)):(y=new te(y,this.src,$,!!w,B),y.fa=E,f.push(y)),y};function ge(f,y){const E=y.type;if(E in f.g){var w=f.g[E],B=Array.prototype.indexOf.call(w,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(w,B,1),$&&(oe(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function be(f,y,E,w){for(let B=0;B<f.length;++B){const $=f[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==w)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),vt={};function Ze(f,y,E,w,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Ze(f,y[$],E,w,B);return null}return E=sl(E),f&&f[rt]?f.J(y,E,m(w)?!!w.capture:!1,B):Yn(f,y,E,!1,w,B)}function Yn(f,y,E,w,B,$){if(!y)throw Error("Invalid event type");const le=m(B)?!!B.capture:!!B;let Ne=gi(f);if(Ne||(f[ke]=Ne=new ae(f)),E=Ne.add(y,E,w,le,$),E.proxy)return E;if(w=Pr(),E.proxy=w,w.src=f,w.listener=E,f.addEventListener)U||(B=le),B===void 0&&(B=!1),f.addEventListener(y.toString(),w,B);else if(f.attachEvent)f.attachEvent(sn(y.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pr(){function f(E){return y.call(f.src,f.listener,E)}const y=st;return f}function Ji(f,y,E,w,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ji(f,y[$],E,w,B);else w=m(w)?!!w.capture:!!w,E=sl(E),f&&f[rt]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],E=be(y,E,w,B),E>-1&&(oe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=gi(f))&&(y=f.g[y.toString()],f=-1,y&&(f=be(y,E,w,B)),(E=f>-1?y[f]:null)&&pi(E))}function pi(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[rt])ge(y.i,f);else{var E=f.type,w=f.proxy;y.removeEventListener?y.removeEventListener(E,w,f.capture):y.detachEvent?y.detachEvent(sn(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=gi(y))?(ge(E,f),E.h==0&&(E.src=null,y[ke]=null)):oe(f)}}}function sn(f){return f in vt?vt[f]:vt[f]="on"+f}function st(f,y){if(f.da)f=!0;else{y=new Fe(y,this);const E=f.listener,w=f.ha||f.src;f.fa&&pi(f),f=E.call(w,y)}return f}function gi(f){return f=f[ke],f instanceof ae?f:null}var Zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function sl(f){return typeof f=="function"?f:(f[Zi]||(f[Zi]=function(y){return f.handleEvent(y)}),f[Zi])}function wt(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}T(wt,k),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(f,y,E,w){Ji(this,f,y,E,w)};function Pt(f,y){var E,w=f.G;if(w)for(E=[];w;w=w.G)E.push(w);if(f=f.M,w=y.type||y,typeof y=="string")y=new M(y,f);else if(y instanceof M)y.target=y.target||f;else{var B=y;y=new M(w,f),se(y,B)}B=!0;let $,le;if(E)for(le=E.length-1;le>=0;le--)$=y.g=E[le],B=Ur($,w,!0,y)&&B;if($=y.g=f,B=Ur($,w,!0,y)&&B,B=Ur($,w,!1,y)&&B,E)for(le=0;le<E.length;le++)$=y.g=E[le],B=Ur($,w,!1,y)&&B}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const E=f.g[y];for(let w=0;w<E.length;w++)oe(E[w]);delete f.g[y],f.h--}}this.G=null},wt.prototype.J=function(f,y,E,w){return this.i.add(String(f),y,!1,E,w)},wt.prototype.K=function(f,y,E,w){return this.i.add(String(f),y,!0,E,w)};function Ur(f,y,E,w){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const le=y[$];if(le&&!le.da&&le.capture==E){const Ne=le.listener,Tt=le.ha||le.src;le.fa&&ge(f.i,le),B=Ne.call(Tt,w)!==!1&&B}}return B&&!w.defaultPrevented}function od(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function rc(f){f.g=od(()=>{f.g=null,f.i&&(f.i=!1,rc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class an extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(f){k.call(this),this.h=f,this.g={}}T(zs,k);var al=[];function ol(f){xe(f.g,function(y,E){this.g.hasOwnProperty(E)&&pi(y)},f),f.g={}}zs.prototype.N=function(){zs.Z.N.call(this),ol(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=c.JSON.stringify,ld=c.JSON.parse,sc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ac(){}function oc(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){M.call(this,"d")}T($t,M);function Mn(){M.call(this,"c")}T(Mn,M);var Et={},lc=null;function Ma(){return lc=lc||new wt}Et.Ia="serverreachability";function uc(f){M.call(this,Et.Ia,f)}T(uc,M);function yi(f){const y=Ma();Pt(y,new uc(y))}Et.STAT_EVENT="statevent";function Bs(f,y){M.call(this,Et.STAT_EVENT,f),this.stat=y}T(Bs,M);function Rt(f){const y=Ma();Pt(y,new Bs(y,f))}Et.Ja="timingevent";function _i(f,y){M.call(this,Et.Ja,f),this.size=y}T(_i,M);function vi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function ud(f,y,E,w,B,$){f.info(function(){if(f.g)if($){var le="",Ne=$.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var Tt=Ne[Ke].split("=");if(Tt.length>1){const dt=Tt[0];Tt=Tt[1];const Pn=dt.split("_");le=Pn.length>=2&&Pn[1]=="type"?le+(dt+"="+Tt+"&"):le+(dt+"=redacted&")}}}else le=null;else le=$;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+E+`
`+le})}function cc(f,y,E,w,B,$,le){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+le})}function Ei(f,y,E,w){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+cd(f,E)+(w?" "+w:"")})}function qs(f,y){f.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function cd(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<w.length;le++)w[le]=""}}}}return jr($)}catch{return y}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ul;function Fs(){}T(Fs,ac),Fs.prototype.g=function(){return new XMLHttpRequest},ul=new Fs;function er(f){return encodeURIComponent(String(f))}function fc(f){var y=1;f=f.split(":");const E=[];for(;y>0&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function Jn(f,y,E,w){this.j=f,this.i=y,this.l=E,this.S=w||1,this.V=new zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Ct={},zt={};function Ti(f,y,E){f.M=1,f.A=Gs(Nt(y)),f.u=E,f.R=!0,Va(f,null)}function Va(f,y){f.F=Date.now(),Si(f),f.B=Nt(f.A);var E=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),Ua(E.i,"t",w),f.C=0,E=f.j.L,f.h=new Zn,f.g=Rc(f.j,E?y:null,!f.u),f.P>0&&(f.O=new an(g(f.Y,f,f.g),f.P)),y=f.V,E=f.g,w=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(al[0]=B.toString()),B=al);for(let $=0;$<B.length;$++){const le=Ze(E,B[$],w||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=f.J?V(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),yi(),ud(f.i,f.v,f.B,f.l,f.S,f.u)}Jn.prototype.ba=function(f){f=f.target;const y=this.O;y&&ni(f)==3?y.j():this.Y(f)},Jn.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=ni(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ne!=4||Tt==7||(Tt==8||Ke<=0?yi(3):yi(2)),Ai(this);var y=this.g.ca();this.X=y;var E=fd(this);if(this.o=y==200,cc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var $=w;break t}}$=null}if(f=$)Ei(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,f);else{this.o=!1,this.m=3,Rt(12),Sn(this),Vn(this);break e}}if(this.R){f=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=dc(this,E),dt==zt){Ne==4&&(this.m=4,Rt(14),f=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,Rt(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Ei(this.i,this.l,dt,null),bi(this,dt);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),bl(le),le.P=!0,Rt(11))}}else Ei(this.i,this.l,E,null),bi(this,E);Ne==4&&Sn(this),this.o&&!this.K&&(Ne==4?Sc(this.j,this):(this.o=!1,Si(this)))}else nr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Sn(this),Vn(this)}}}catch{}finally{}};function fd(f){if(!hc(f))return f.g.la();const y=Kt(f.g);if(y==="")return"";let E="";const w=y.length,B=ni(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Sn(f),Vn(f),"";f.h.i=new c.TextDecoder}for(let $=0;$<w;$++)f.h.h=!0,E+=f.h.i.decode(y[$],{stream:!(B&&$==w-1)});return y.length=0,f.h.g+=E,f.C=0,f.h.g}function hc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function dc(f,y){var E=f.C,w=y.indexOf(`
`,E);return w==-1?zt:(E=Number(y.substring(E,w)),isNaN(E)?Ct:(w+=1,w+E>y.length?zt:(y=y.slice(w,w+E),f.C=w+E,y)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Si(f){f.T=Date.now()+f.H,La(f,f.H)}function La(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=vi(g(f.aa,f),y)}function Ai(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Jn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(qs(this.i,this.B),this.M!=2&&(yi(),Rt(17)),Sn(this),this.m=2,Vn(this)):La(this,this.T-f)};function Vn(f){f.j.I==0||f.K||Sc(f.j,f)}function Sn(f){Ai(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,ol(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function bi(f,y){try{var E=f.j;if(E.I!=0&&(E.g==f||Ri(E.h,f))){if(!f.L&&Ri(E.h,f)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Ha(E),Kr(E);else break e;Js(E),Rt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(g(E.Va,E),6e3));wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((f.L||E.g==f)&&Ha(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ke=B[y];const dt=Ke[0];if(!(dt<=E.K))if(E.K=dt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Pn=Ke[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Mi=Ke[4];Mi!=null&&(E.za=Mi,E.j.info("SVER="+E.za));const ii=Ke[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ri=f.g;if(ri){const Zs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var $=w.h;$.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(hl($,$.h),$.h=null))}if(w.G){const Fa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(w.wa=Fa,Xe(w.J,w.G,Fa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var le=f;if(w.na=wc(w,w.L?w.ba:null,w.W),le.L){dl(w.h,le);var Ne=le,Tt=w.O;Tt&&(Ne.H=Tt),Ne.D&&(Ai(Ne),Si(Ne)),w.g=le}else Ec(w);E.i.length>0&&Oi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||xi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xi(E,7):Sl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}yi(4)}catch{}}var It=class{constructor(f,y){this.g=f,this.map=y}};function cl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wi(f){return f.h?1:f.g?f.g.size:0}function Ri(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function hl(f,y){f.g?f.g.add(y):f.h=y}function dl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}cl.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ml(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.G);return y}return x(f.i)}var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(f,y){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const w=f[E].indexOf("=");let B,$=null;w>=0?(B=f[E].substring(0,w),$=f[E].substring(w+1)):B=f[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function An(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof An?(this.l=f.l,Bt(this,f.j),this.o=f.o,this.g=f.g,zr(this,f.u),this.h=f.h,pl(this,_c(f.i)),this.m=f.m):f&&(y=String(f).match(mc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),zr(this,y[4]),this.h=Ci(y[5]||"",!0),pl(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}An.prototype.toString=function(){const f=[];var y=this.j;y&&f.push($s(y,Pa,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push($s(y,Pa,!0),"@"),f.push(er(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push($s(E,E.charAt(0)=="/"?gl:pc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",$s(E,gc)),f.join("")},An.prototype.resolve=function(f){const y=Nt(this);let E=!!f.j;E?Bt(y,f.j):E=!!f.o,E?y.o=f.o:E=!!f.g,E?y.g=f.g:E=f.u!=null;var w=f.h;if(E)zr(y,f.u);else if(E=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let le=0;le<B.length;){const Ne=B[le++];Ne=="."?w&&le==B.length&&$.push(""):Ne==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&le==B.length&&$.push("")):($.push(Ne),w=!0)}w=$.join("/")}else w=B}return E?y.h=w:E=f.i.toString()!=="",E?pl(y,_c(f.i)):E=!!f.m,E&&(y.m=f.m),y};function Nt(f){return new An(f)}function Bt(f,y,E){f.j=E?Ci(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function zr(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function pl(f,y,E){y instanceof qr?(f.i=y,ja(f.i,f.l)):(E||(y=$s(y,Br)),f.i=new qr(y,f.l))}function Xe(f,y,E){f.i.set(y,E)}function Gs(f){return Xe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ci(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $s(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,cn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Pa=/[#\/\?@]/g,pc=/[#\?:]/g,gl=/[#\?]/g,Br=/[#\?@]/g,gc=/#/g;function qr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function fn(f){f.g||(f.g=new Map,f.h=0,f.i&&ka(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=qr.prototype,i.add=function(f,y){fn(this),this.i=null,f=Hr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function yc(f,y){fn(f),y=Hr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function yl(f,y){return fn(f),y=Hr(f,y),f.g.has(y)}i.forEach=function(f,y){fn(this),this.g.forEach(function(E,w){E.forEach(function(B){f.call(y,B,w,this)},this)},this)};function _l(f,y){fn(f);let E=[];if(typeof y=="string")yl(f,y)&&(E=E.concat(f.g.get(Hr(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)E=E.concat(f[y]);return E}i.set=function(f,y){return fn(this),this.i=null,f=Hr(this,f),yl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=_l(this,f),f.length>0?String(f[0]):y):y};function Ua(f,y,E){yc(f,y),E.length>0&&(f.i=null,f.g.set(Hr(f,y),x(E)),f.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const B=er(E);E=_l(this,E);for(let $=0;$<E.length;$++){let le=B;E[$]!==""&&(le+="="+er(E[$])),f.push(le)}}return this.i=f.join("&")};function _c(f){const y=new qr;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Hr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function ja(f,y){y&&!f.j&&(fn(f),f.i=null,f.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(yc(this,w),Ua(this,B,E))},f)),f.j=y}function ei(f,y){const E=new Wn;if(c.Image){const w=new Image;w.onload=_(Ln,E,"TestLoadImage: loaded",!0,y,w),w.onerror=_(Ln,E,"TestLoadImage: error",!1,y,w),w.onabort=_(Ln,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=_(Ln,E,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else y(!1)}function vl(f,y){const E=new Wn,w=new AbortController,B=setTimeout(()=>{w.abort(),Ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:w.signal}).then($=>{clearTimeout(B),$.ok?Ln(E,"TestPingServer: ok",!0,y):Ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Ln(E,"TestPingServer: error",!1,y)})}function Ln(f,y,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Fr(){this.g=new sc}function Ii(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Ii,ac),Ii.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(f,y){wt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ks,wt),i=Ks.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,ti(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Gr(this):ti(this),this.readyState==3&&za(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,Gr(this))},i.Na=function(f){this.g&&(this.response=f,Gr(this))},i.ga=function(){this.g&&Gr(this)};function Gr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ti(f)}i.setRequestHeader=function(f,y){this.A.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function kn(f){let y="";return xe(f,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Qs(f,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=kn(E),typeof f=="string"?E!=null&&er(E):Xe(f,y,E))}function et(f){wt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,wt);var Ni=/^https?$/i,El=["POST","PUT"];i=et.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ul.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){Ys(this,$);return}if(f=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of E)this.g.setRequestHeader($,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ys(this,$)}};function Ys(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Tl(f),tr(f)}function Tl(f){f.A||(f.A=!0,Pt(f,"complete"),Pt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Pt(this,"complete"),Pt(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},i.Xa=function(){Xs(this)};function Xs(f){if(f.h&&typeof l<"u"){if(f.v&&ni(f)==4)setTimeout(f.Ca.bind(f),0);else if(Pt(f,"readystatechange"),ni(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=$===0){let le=String(f.D).match(mc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),w=!Ni.test(le?le.toLowerCase():"")}E=w}if(E)Pt(f,"complete"),Pt(f,"success");else{f.o=6;try{var B=ni(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",Tl(f)}}finally{tr(f)}}}}function tr(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,y||Pt(f,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(f){return f.g?f.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ld(y)}};function Kt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(f){const y={};f=(f.g&&ni(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(D(f[w]))continue;var E=fc(f[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}Me(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function $r(f){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,f),this.Za=Di("retryDelaySeedMs",1e4,f),this.Ta=Di("forwardChannelMaxRetries",2,f),this.va=Di("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(f&&f.concurrentRequestLimit),this.Ba=new Fr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=$r.prototype,i.ka=8,i.I=1,i.connect=function(f,y,E,w){Rt(0),this.W=f,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=wc(this,null,this.W),Oi(this)};function Sl(f){if(Ba(f),f.I==3){var y=f.V++,E=Nt(f.J);if(Xe(E,"SID",f.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Ws(f,E),y=new Jn(f,f.j,y),y.M=2,y.A=Gs(Nt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Rc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Si(y)}bc(f)}function Kr(f){f.g&&(bl(f),f.g.cancel(),f.g=null)}function Ba(f){Kr(f),f.v&&(c.clearTimeout(f.v),f.v=null),Ha(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Oi(f){if(!fl(f.h)&&!f.m){f.m=!0;var y=f.Ea;me||R(),fe||(me(),fe=!0),I.add(y,f),f.D=0}}function qa(f,y){return wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=vi(g(f.Ea,f,y),Ac(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new Jn(this,this.j,f);let $=this.o;if(this.U&&($?($=V($),se($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=vc(this,B,y),E=Nt(this.J),Xe(E,"RID",f),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ws(this,E),$&&(this.R?y="headers="+er(kn($))+"&"+y:this.u&&Qs(E,this.u,$)),hl(this.h,B),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),B.U=!0,Ti(B,E,null)):Ti(B,E,y),this.I=2}}else this.I==3&&(f?Al(this,f):this.i.length==0||fl(this.h)||Al(this))};function Al(f,y){var E;y?E=y.l:E=f.V++;const w=Nt(f.J);Xe(w,"SID",f.M),Xe(w,"RID",E),Xe(w,"AID",f.K),Ws(f,w),f.u&&f.o&&Qs(w,f.u,f.o),E=new Jn(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),y&&(f.i=y.G.concat(f.i)),y=vc(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),hl(f.h,E),Ti(E,w,y)}function Ws(f,y){f.H&&xe(f.H,function(E,w){Xe(y,w,E)}),f.l&&xe({},function(E,w){Xe(y,w,E)})}function vc(f,y,E){E=Math.min(f.i.length,E);const w=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let Ne=-1;for(;;){const Tt=["count="+E];Ne==-1?E>0?(Ne=B[0].g,Tt.push("ofs="+Ne)):Ne=0:Tt.push("ofs="+Ne);let Ke=!0;for(let dt=0;dt<E;dt++){var $=B[dt].g;const Pn=B[dt].map;if($-=Ne,$<0)Ne=Math.max(0,B[dt].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var le=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Mi,ii]of le){let ri=ii;m(ii)&&(ri=jr(ii)),Tt.push($+Mi+"="+encodeURIComponent(ri))}}catch(Mi){throw Tt.push($+"type="+encodeURIComponent("_badmap")),Mi}}catch{w&&w(Pn)}}if(Ke){le=Tt.join("&");break e}}le=void 0}return f=f.i.splice(0,E),y.G=f,le}function Ec(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;me||R(),fe||(me(),fe=!0),I.add(y,f),f.A=0}}function Js(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=vi(g(f.Da,f),Ac(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=vi(g(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Kr(this),Tc(this))};function bl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Tc(f){f.g=new Jn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Nt(f.na);Xe(y,"RID","rpc"),Xe(y,"SID",f.M),Xe(y,"AID",f.K),Xe(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xe(y,"TO",f.ia),Xe(y,"TYPE","xmlhttp"),Ws(f,y),f.u&&f.o&&Qs(y,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Gs(Nt(y)),E.u=null,E.R=!0,Va(E,f)}i.Va=function(){this.C!=null&&(this.C=null,Kr(this),Js(this),Rt(19))};function Ha(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Sc(f,y){var E=null;if(f.g==y){Ha(f),bl(f),f.g=null;var w=2}else if(Ri(f.h,y))E=y.G,dl(f.h,y),w=1;else return;if(f.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;w=Ma(),Pt(w,new _i(w,E)),Oi(f)}else Ec(f);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&qa(f,y)||w==2&&Js(f)))switch(E&&E.length>0&&(y=f.h,y.i=y.i.concat(E)),B){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function Ac(f,y){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*y}function xi(f,y){if(f.j.info("Error code "+y),y==2){var E=g(f.bb,f),w=f.Ua;const B=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bt(w,"https"),Gs(w),B?ei(w.toString(),E):vl(w.toString(),E)}else Rt(2);f.I=0,f.l&&f.l.pa(y),bc(f),Ba(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function bc(f){if(f.I=0,f.ja=[],f.l){const y=ml(f.h);(y.length!=0||f.i.length!=0)&&(z(f.ja,y),z(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function wc(f,y,E){var w=E instanceof An?Nt(E):new An(E);if(w.g!="")y&&(w.g=y+"."+w.g),zr(w,w.u);else{var B=c.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new An(null);w&&Bt($,w),y&&($.g=y),B&&zr($,B),E&&($.h=E),w=$}return E=f.G,y=f.wa,E&&y&&Xe(w,E,y),Xe(w,"VER",f.ka),Ws(f,w),w}function Rc(f,y,E){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new et(new Ii({ab:E})):new et(f.ma),y.Fa(f.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}i=Cc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Qr(){}Qr.prototype.g=function(f,y){return new on(f,y)};function on(f,y){wt.call(this),this.g=new $r(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ir(this)}T(on,wt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Sl(this.g)},on.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=jr(f),f=E);y.i.push(new It(y.Ya++,f)),y.I==3&&Oi(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,on.Z.N.call(this)};function Ic(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}T(Ic,$t);function Nc(){Mn.call(this),this.status=1}T(Nc,Mn);function ir(f){this.g=f}T(ir,Cc),ir.prototype.ra=function(){Pt(this.g,"a")},ir.prototype.qa=function(f){Pt(this.g,new Ic(f))},ir.prototype.pa=function(f){Pt(this.g,new Nc)},ir.prototype.oa=function(){Pt(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,XA=function(){return new Qr},YA=function(){return Ma()},QA=Et,Qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,$f=Hs,ll.COMPLETE="complete",KA=ll,oc.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,mu=oc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,$A=et}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});const KT="@firebase/firestore",QT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new zg("@firebase/firestore");function bo(){return ba.logLevel}function he(i,...e){if(ba.logLevel<=je.DEBUG){const n=e.map(Hg);ba.debug(`Firestore (${Wo}): ${i}`,...n)}}function Or(i,...e){if(ba.logLevel<=je.ERROR){const n=e.map(Hg);ba.error(`Firestore (${Wo}): ${i}`,...n)}}function wa(i,...e){if(ba.logLevel<=je.WARN){const n=e.map(Hg);ba.warn(`Firestore (${Wo}): ${i}`,...n)}}function Hg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,WA(i,s,n)}function WA(i,e,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Or(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||WA(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class mO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pO{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ns,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ns)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new JA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class gO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _O{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vO(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function Yp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return Cp(o)===Cp(l)?ze(o,l):Cp(o)?1:-1}return ze(i.length,e.length)}const EO=55296,TO=57343;function Cp(i){const e=i.charCodeAt(0);return e>=EO&&e<=TO}function Uo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="__name__";class Ui{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=Ui.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ui.isNumericId(e),o=Ui.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):Yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class ot extends Ui{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const SO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ui{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return SO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XT}static keyField(){return new Ft([XT])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tb(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function WT(i){if(!ye.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function JT(i){if(ye.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Uh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Fu(i,e){if(!nb(i))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=-62135596800,e0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*e0);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ZT)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:kt("string",lt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function AO(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Os(o,ye.empty(),e)}function bO(i){return new Os(i.readTime,i.key,Nu)}class Os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Os(we.min(),ye.empty(),Nu)}static max(){return new Os(we.max(),ye.empty(),Nu)}}function wO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==RO)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===l&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function IO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function zh(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function NO(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="";function DO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=t0(e)),e=OO(i.get(n),e);return t0(e)}function OO(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":n+="";break;case ib:n+="";break;default:n+=l}}return n}function t0(i){return i+ib+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ps(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uf(this.root,e,this.comparator,!0)}}class Uf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new xn([])}unionWith(e){let n=new jt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sb("Invalid base64 string: "+l):l}})(e);return new Gt(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const xO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=xO.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ms(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="server_timestamp",ob="__type__",lb="__previous_value__",ub="__local_write_time__";function Gg(i){return(i?.mapValue?.fields||{})[ob]?.stringValue===ab}function Bh(i){const e=i.mapValue.fields[lb];return Gg(e)?Bh(e):e}function Du(i){const e=xs(i.mapValue.fields[ub].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,s,o,l,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ch="(default)";class jo{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__type__",VO="__max__",jf={mapValue:{}},fb="__vector__",fh="value";function Vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gg(i)?4:kO(i)?9007199254740991:LO(i)?10:11:Te(28295,{value:i})}function $i(i,e){if(i===e)return!0;const n=Vs(i);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Du(i).isEqual(Du(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=xs(o.timestampValue),m=xs(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Ms(o.bytesValue).isEqual(Ms(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return bt(o.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return bt(o.integerValue)===bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=bt(o.doubleValue),m=bt(l.doubleValue);return c===m?uh(c)===uh(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Uo(i.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(n0(c)!==n0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!$i(c[p],m[p])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Ou(i,e){return(i.values||[]).find((n=>$i(n,e)))!==void 0}function zo(i,e){if(i===e)return 0;const n=Vs(i),s=Vs(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=bt(l.integerValue||l.doubleValue),p=bt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return r0(i.timestampValue,e.timestampValue);case 4:return r0(Du(i),Du(e));case 5:return Yp(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=Ms(l),p=Ms(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=ze(m[g],p[g]);if(_!==0)return _}return ze(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=ze(bt(l.latitude),bt(c.latitude));return m!==0?m:ze(bt(l.longitude),bt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return s0(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},p=c.fields||{},g=m[fh]?.arrayValue,_=p[fh]?.arrayValue,T=ze(g?.values?.length||0,_?.values?.length||0);return T!==0?T:s0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===jf.mapValue&&c===jf.mapValue)return 0;if(l===jf.mapValue)return 1;if(c===jf.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=Yp(p[T],_[T]);if(b!==0)return b;const x=zo(m[p[T]],g[_[T]]);if(x!==0)return x}return ze(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function r0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const n=xs(i),s=xs(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function s0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=zo(n[o],s[o]);if(l)return l}return ze(n.length,s.length)}function Bo(i){return Xp(i)}function Xp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=xs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ms(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=Xp(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Xp(n.fields[c])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function Kf(i){switch(Vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(i);return e?16+Kf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Kf(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((l,c)=>{o+=l.length+Kf(c)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function a0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wp(i){return!!i&&"integerValue"in i}function $g(i){return!!i&&"arrayValue"in i}function o0(i){return!!i&&"nullValue"in i}function l0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qf(i){return!!i&&"mapValue"in i}function LO(i){return(i?.mapValue?.fields||{})[cb]?.stringValue===fb}function Eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ps(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Eu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(i.arrayValue.values[n]);return e}return{...i}}function kO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Eu(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ps(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new En(Eu(this.value))}}function hb(i){const e=[];return Ps(i.fields,((n,s)=>{const o=new Ft([n]);if(Qf(s)){const l=hb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function u0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=zo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function c0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$i(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{}class Lt extends db{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jO(e,n,s):n==="array-contains"?new qO(e,s):n==="in"?new HO(e,s):n==="not-in"?new FO(e,s):n==="array-contains-any"?new GO(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zO(e,s):new BO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends db{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return mb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mb(i){return i.op==="and"}function pb(i){return UO(i)&&mb(i)}function UO(i){for(const e of i.filters)if(e instanceof mi)return!1;return!0}function Jp(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+Bo(i.value);if(pb(i))return i.filters.map((e=>Jp(e))).join(",");{const e=i.filters.map((n=>Jp(n))).join(",");return`${i.op}(${e})`}}function gb(i,e){return i instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&$i(s.value,o.value)})(i,e):i instanceof mi?(function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,m)=>l&&gb(c,o.filters[m])),!0):!1})(i,e):void Te(19439)}function yb(i){return i instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(i):i instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(yb).join(" ,")+"}"})(i):"Filter"}class jO extends Lt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class zO extends Lt{constructor(e,n){super(e,"in",n),this.keys=_b("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BO extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=_b("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _b(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class qO extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&Ou(n.arrayValue,this.value)}}class HO extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class FO extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class GO extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function f0(i,e=null,n=[],s=[],o=null,l=null,c=null){return new $O(i,e,n,s,o,l,c)}function Kg(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Bo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Bo(s))).join(",")),e.Te=n}return e.Te}function Qg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!PO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!c0(i.startAt,e.startAt)&&c0(i.endAt,e.endAt)}function Zp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KO(i,e,n,s,o,l,c,m){return new el(i,e,n,s,o,l,c,m)}function qh(i){return new el(i)}function h0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vb(i){return i.collectionGroup!==null}function Tu(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new jt(Ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xu(l,s))})),n.has(Ft.keyField().canonicalString())||e.Ie.push(new xu(Ft.keyField(),s))}return e.Ie}function Bi(i){const e=Ce(i);return e.Ee||(e.Ee=QO(e,Tu(i))),e.Ee}function QO(i,e){if(i.limitType==="F")return f0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new xu(o.field,l)}));const n=i.endAt?new hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new hh(i.startAt.position,i.startAt.inclusive):null;return f0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function eg(i,e){const n=i.filters.concat([e]);return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function tg(i,e,n){return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gu(i,e){return Qg(Bi(i),Bi(e))&&i.limitType===e.limitType}function Eb(i){return`${Kg(Bi(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>yb(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Bo(o))).join(",")),`Target(${s})`})(Bi(i))}; limitType=${i.limitType})`}function Hh(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of Tu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=u0(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Tu(s),o)||s.endAt&&!(function(c,m,p){const g=u0(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Tu(s),o))})(i,e)}function YO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Tb(i){return(e,n)=>{let s=!1;for(const o of Tu(i)){const l=XO(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function XO(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?zo(p,g):Te(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new gt(ye.comparator);function xr(){return WO}const Sb=new gt(ye.comparator);function pu(...i){let e=Sb;for(const n of i)e=e.insert(n.key,n);return e}function Ab(i){let e=Sb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function va(){return Su()}function bb(){return Su()}function Su(){return new Oa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const JO=new gt(ye.comparator),ZO=new jt(ye.comparator);function Be(...i){let e=ZO;for(const n of i)e=e.add(n);return e}const ex=new jt(ze);function tx(){return ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function wb(i){return{integerValue:""+i}}function nx(i,e){return NO(e)?wb(e):Yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function ix(i,e,n){return i instanceof Mu?(function(o,l){const c={fields:{[ob]:{stringValue:ab},[ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gg(l)&&(l=Bh(l)),l&&(c.fields[lb]=l),{mapValue:c}})(n,e):i instanceof Vu?Cb(i,e):i instanceof Lu?Ib(i,e):(function(o,l){const c=Rb(o,l),m=d0(c)+d0(o.Ae);return Wp(c)&&Wp(o.Ae)?wb(m):Yg(o.serializer,m)})(i,e)}function rx(i,e,n){return i instanceof Vu?Cb(i,e):i instanceof Lu?Ib(i,e):n}function Rb(i,e){return i instanceof dh?(function(s){return Wp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Mu extends Fh{}class Vu extends Fh{constructor(e){super(),this.elements=e}}function Cb(i,e){const n=Nb(e);for(const s of i.elements)n.some((o=>$i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Lu extends Fh{constructor(e){super(),this.elements=e}}function Ib(i,e){let n=Nb(e);for(const s of i.elements)n=n.filter((o=>!$i(o,s)));return{arrayValue:{values:n}}}class dh extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d0(i){return bt(i.integerValue||i.doubleValue)}function Nb(i){return $g(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.field=e,this.transform=n}}function ax(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Vu&&o instanceof Vu||s instanceof Lu&&o instanceof Lu?Uo(s.elements,o.elements,$i):s instanceof dh&&o instanceof dh?$i(s.Ae,o.Ae):s instanceof Mu&&o instanceof Mu})(i.transform,e.transform)}class ox{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Gh{}function Db(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $h(i.key,un.none()):new $u(i.key,i.data,un.none());{const n=i.data,s=En.empty();let o=new jt(Ft.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Us(i.key,s,new xn(o.toArray()),un.none())}}function lx(i,e,n){i instanceof $u?(function(o,l,c){const m=o.value.clone(),p=p0(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Us?(function(o,l,c){if(!Yf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=p0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Ob(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Au(i,e,n,s){return i instanceof $u?(function(l,c,m,p){if(!Yf(l.precondition,c))return m;const g=l.value.clone(),_=g0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Us?(function(l,c,m,p){if(!Yf(l.precondition,c))return m;const g=g0(l.fieldTransforms,p,c),_=c.data;return _.setAll(Ob(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(l,c,m){return Yf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function ux(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Rb(s.transform,o||null);l!=null&&(n===null&&(n=En.empty()),n.set(s.field,l))}return n||null}function m0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((l,c)=>ax(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class $u extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Gh{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ob(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function p0(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,rx(c,m,n[o]))}return s}function g0(i,e,n){const s=new Map;for(const o of i){const l=o.transform,c=n.data.field(o.field);s.set(o.field,ix(l,c,e))}return s}class $h extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cx extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&lx(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bb();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const p=Db(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((n,s)=>m0(n,s)))&&Uo(this.baseMutations,e.baseMutations,((n,s)=>m0(n,s)))}}class Xg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JO})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Xg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function mx(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function xb(i){if(i===void 0)return Or("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Is([4294967295,4294967295],0);function y0(i){const e=px().encode(i),n=new GA;return n.update(e),new Uint8Array(n.digest())}function _0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([n,s],0),new Is([o,l],0)]}class Wg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(s<0)throw new gu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Is.fromNumber(s)));return o.compare(gx)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=y0(e),[s,o]=_0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wg(l,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=y0(e),[s,o]=_0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kh(we.min(),o,new gt(ze),xr(),Be())}}class Ku{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ku(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Mb{constructor(e,n){this.targetId=e,this.Ce=n}}class Vb{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class v0{constructor(){this.ve=0,this.Fe=E0(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}})),new Ku(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=E0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yx{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=zf(),this.He=zf(),this.Ye=new gt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Zp(l))if(s===0){const c=new ye(l.path);this.et(n,c,nn.newNoDocument(c,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Ms(s).toUint8Array()}catch(p){if(p instanceof sb)return wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wg(c,o,l)}catch(p){return wa(p instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&Zp(m.target)){const p=new ye(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Kh(e,n,this.Ye,this.je,s);return this.je=xr(),this.Je=zf(),this.He=zf(),this.Ye=new gt(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zf(){return new gt(ye.comparator)}function E0(){return new gt(ye.comparator)}const _x={asc:"ASCENDING",desc:"DESCENDING"},vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"};class Tx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(i,e){return i.useProto3Json||zh(e)?e:{value:e}}function mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Sx(i,e){return mh(i,e.toTimestamp())}function qi(i){return Ye(!!i,49232),we.fromTimestamp((function(n){const s=xs(n);return new lt(s.seconds,s.nanos)})(i))}function Jg(i,e){return ig(i,e).canonicalString()}function ig(i,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function kb(i){const e=ot.fromString(i);return Ye(Bb(e),10190,{key:e.toString()}),e}function rg(i,e){return Jg(i.databaseId,e.path)}function Ip(i,e){const n=kb(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Ub(n))}function Pb(i,e){return Jg(i.databaseId,e)}function Ax(i){const e=kb(i);return e.length===4?ot.emptyPath():Ub(e)}function sg(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ub(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function T0(i,e,n){return{name:rg(i,e),fields:n.value.mapValue.fields}}function bx(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),Gt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:xb(g.code);return new ue(_,g.message||"")})(c);n=new Vb(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ip(i,s.document.name),l=qi(s.document.updateTime),c=s.document.createTime?qi(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,l,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Xf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ip(i,s.document),l=s.readTime?qi(s.readTime):we.min(),c=nn.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Xf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ip(i,s.document),l=s.removedTargetIds||[];n=new Xf([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new dx(o,l),m=s.targetId;n=new Mb(m,c)}}return n}function wx(i,e){let n;if(e instanceof $u)n={update:T0(i,e.key,e.value)};else if(e instanceof $h)n={delete:rg(i,e.key)};else if(e instanceof Us)n={update:T0(i,e.key,e.data),updateMask:Vx(e.fieldMask)};else{if(!(e instanceof cx))return Te(16599,{Vt:e.type});n={verify:rg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof dh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Sx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(i,e.precondition)),n}function Rx(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,l){let c=o.updateTime?qi(o.updateTime):qi(l);return c.isEqual(we.min())&&(c=qi(l)),new ox(c,o.transformResults||[])})(n,e)))):[]}function Cx(i,e){return{documents:[Pb(i,e.path)]}}function Ix(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pb(i,o);const l=(function(g){if(g.length!==0)return zb(mi.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:Ro(b.field),direction:Ox(b.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=ng(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Nx(i){let e=Ax(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(T){const b=jb(T);return b instanceof mi&&pb(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((b=>(function(z){return new xu(Co(z.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,zh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,x=T.values||[];return new hh(x,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,x=T.values||[];return new hh(x,b)})(n.endAt)),KO(e,o,c,l,m,"F",p,g)}function Dx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Co(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(n.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Lt.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((s=>jb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(i):Te(30097,{filter:i})}function Ox(i){return _x[i]}function xx(i){return vx[i]}function Mx(i){return Ex[i]}function Ro(i){return{fieldPath:i.canonicalString()}}function Co(i){return Ft.fromServerFormat(i.fieldPath)}function zb(i){return i instanceof Lt?(function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:xx(n.op),value:n.value}}})(i):i instanceof mi?(function(n){const s=n.getFilters().map((o=>zb(o)));return s.length===1?s[0]:{compositeFilter:{op:Mx(n.op),filters:s}}})(i):Te(54877,{filter:i})}function Vx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Bb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s,o,l=we.min(),c=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.yt=e}}function kx(i){const e=Nx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Cn=new Ux}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Os.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Ux{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(ot.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(qb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",jx=1048576;function b0([i,e],[n,s]){const o=ze(i,n);return o===0?ze(e,s):o}class zx{constructor(e){this.Ir=e,this.buffer=new jt(b0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();b0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(A0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?he(A0,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Vr(3e5)}))}}class qx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(jh.ce);const s=new zx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(S0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),bo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function Hx(i,e){return new qx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.changes=new Oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Au(s.mutation,o,xn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=va();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let c=pu();return l.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let l=xr();const c=Su(),m=(function(){return Su()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Us)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Au(_.mutation,g,_.mutation.getFieldMask(),lt.now())):c.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new Gx(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Su();let o=new gt(((c,m)=>c-m)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||xn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=bb();_.forEach((b=>{if(!l.has(b)){const x=Db(n.get(b),s.get(b));x!==null&&T.set(b,x),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ie.resolve(va());let m=Nu,p=l;return c.next((g=>ie.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Be()))).next((_=>({batchId:m,changes:Ab(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=pu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(e,l).next((m=>ie.forEach(m,(p=>{const g=(function(T,b){return new el(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))}));let m=pu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Au(_.mutation,g,xn.empty(),lt.now()),Hh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:kx(o.bundledQuery),readTime:qi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=va();return ie.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=va(),l=n.length+1,c=new ye(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new gt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=va(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=va(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new hx(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Qr=new jt(Ht.$r),this.Ur=new jt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ot([])),s=new Ht(n,e),o=new Ht(n,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),s=new Ht(n,e),o=new Ht(n,e+1);let l=Be();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Ht.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fx(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Fg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);l.push(m)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(ze);return n.forEach((o=>{const l=new Ht(o,0),c=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new ye(l),0);let m=new jt(ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const l=new Ht(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.ri=e,this.docs=(function(){return new gt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=xr();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=xr();const c=n.path,m=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||wO(bO(_),s)<=0||(o.has(_.key)||Hh(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Jx(this)}getSize(e){return ie.resolve(this.size)}}class Jx extends Fx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.persistence=e,this.si=new Oa((n=>Kg(n)),Qg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Zg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(l).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new Yx,this.referenceDelegate=e(this),this.Pi=new Zx(this),this.indexManager=new Px,this.remoteDocumentCache=(function(o){return new Wx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Lx(n),this.Ii=new Kx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Xx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new eM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class eM extends CO{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ri=new Zg,this.Vi=null}static mi(e){return new ey(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((l=>{l||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.pi=new Oa((s=>DO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Hx(this,n)}static mi(e,n){return new ph(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ty(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XD()?8:IO(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new tM;return this.Ss(e,n,c).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>l.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(bo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(bo()<=je.DEBUG&&he("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ie.resolve())}ys(e,n){if(h0(n))return ie.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tg(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,tg(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return h0(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?ie.resolve(null):(bo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.vs(e,c,n,AO(o,Nu)).next((m=>m)))}))}Ds(e,n){let s=new jt(Tb(e));return n.forEach(((o,l)=>{Hh(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return bo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(e,n,Os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LocalStore",iM=3e8;class rM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new gt(ze),this.xs=new Oa((l=>Kg(l)),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $x(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sM(i,e,n,s){return new rM(i,e,n,s)}async function Fb(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let p=Be();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function aM(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,b=T.keys();let x=ie.resolve();return b.forEach((z=>{x=x.next((()=>_.getEntry(p,z))).next((G=>{const P=g.docVersions.get(z);Ye(P!==null,48541),G.version.compareTo(P)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Gb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oM(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T))));let x=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(T,x),(function(G,P,W){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=iM?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(b,x,_)&&m.push(n.Pi.updateTargetData(l,x))}));let p=xr(),g=Be();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(lM(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function lM(i,e,n){let s=Be(),o=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=xr();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):he(ny,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function uM(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cM(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((l=>l?(o=l,ie.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Ss(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ag(i,e,n){const s=Ce(i),o=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Zo(c))throw c;he(ny,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function w0(i,e,n){const s=Ce(i);let o=we.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ce(p),b=T.xs.get(_);return b!==void 0?ie.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,_)})(s,c,Bi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:we.min(),n?l:Be()))).next((m=>(fM(s,YO(e),m),{documents:m,Qs:l})))))}function fM(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class R0{constructor(){this.activeTargetIds=tx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hM{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="ConnectivityMonitor";class I0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(C0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(C0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf=null;function og(){return Bf===null?Bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bf++,"0x"+Bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",mM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=og(),m=this.zo(e,n.toUriEncodedString());he(Np,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),_=Yo(g);return this.Jo(e,m,p,s,_).then((T=>(he(Np,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw wa(Np,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const s=mM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class yM extends pM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=og();return new Promise(((m,p)=>{const g=new $A;g.setWithCredentials(!0),g.listenOnce(KA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $f.NO_ERROR:const T=g.getResponseJson();he(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case $f.TIMEOUT:he(en,`RPC '${e}' ${c} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const b=g.getStatus();if(he(en,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const z=x?.error;if(z&&z.status&&z.message){const G=(function(W){const J=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(z.status);p(new ue(G,z.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);he(en,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=og(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XA(),m=YA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=l.join("");he(en,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let b=!1,x=!1;const z=new gM({Yo:P=>{x?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(b||(he(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),he(en,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),G=(P,W,J)=>{P.listen(W,(re=>{try{J(re)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return G(T,mu.EventType.OPEN,(()=>{x||(he(en,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),G(T,mu.EventType.CLOSE,(()=>{x||(x=!0,he(en,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),G(T,mu.EventType.ERROR,(P=>{x||(x=!0,wa(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),G(T,mu.EventType.MESSAGE,(P=>{if(!x){const W=P.data[0];Ye(!!W,16349);const J=W,re=J?.error||J[0]?.error;if(re){he(en,`RPC '${e}' stream ${o} received error:`,re);const ce=re.status;let me=(function(R){const N=Vt[R];if(N!==void 0)return xb(N)})(ce),fe=re.message;me===void 0&&(me=ee.INTERNAL,fe="Unknown error status: "+ce+" with message "+re.message),x=!0,z.a_(new ue(me,fe)),T.close()}else he(en,`RPC '${e}' stream ${o} received:`,W),z.u_(W)}})),G(m,QA.STAT_EVENT,(P=>{P.stat===Qp.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Qp.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return new Tx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class Kb{constructor(e,n,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _M extends Kb{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bx(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?qi(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sg(this.serializer),n.addTarget=(function(l,c){let m;const p=c.target;if(m=Zp(p)?{documents:Cx(l,p)}:{query:Ix(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Lb(l,c.resumeToken);const g=ng(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=mh(l,c.snapshotVersion.toTimestamp());const g=ng(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Dx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.q_(n)}}class vM extends Kb{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rx(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>wx(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{}class TM extends EM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ig(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ee.UNKNOWN,l.toString())}))}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,ig(n,s),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class AM{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(he(Ra,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Yh(g)})(this))}))})),this.Ra=new SM(s,o)}}async function Yh(i){if(xa(i))for(const e of i.da)await e(!0)}async function Qu(i){for(const e of i.da)await e(!1)}function Qb(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ay(n)?sy(n):tl(n).O_()&&ry(n,e))}function iy(i,e){const n=Ce(i),s=tl(n);n.Ia.delete(e),s.O_()&&Yb(n,e),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Ra.set("Unknown"))}function ry(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(i).Y_(e)}function Yb(i,e){i.Va.Ue(e),tl(i).Z_(e)}function sy(i){i.Va=new yx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),tl(i).start(),i.Ra.ua()}function ay(i){return xa(i)&&!tl(i).x_()&&i.Ia.size>0}function xa(i){return Ce(i).Ea.size===0}function Xb(i){i.Va=void 0}async function bM(i){i.Ra.set("Online")}async function wM(i){i.Ia.forEach(((e,n)=>{ry(i,e)}))}async function RM(i,e){Xb(i),ay(i)?(i.Ra.ha(e),sy(i)):i.Ra.set("Unknown")}async function CM(i,e,n){if(i.Ra.set("Online"),e instanceof Vb&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){he(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(i,s)}else if(e instanceof Xf?i.Va.Ze(e):e instanceof Mb?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await Gb(i.localStore);n.compareTo(s)>=0&&await(function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),Yb(l,p);const T=new Ss(_.target,p,g,_.sequenceNumber);ry(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){he(Ra,"Failed to raise snapshot:",s),await gh(i,s)}}async function gh(i,e,n){if(!Zo(e))throw e;i.Ea.add(1),await Qu(i),i.Ra.set("Offline"),n||(n=()=>Gb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(Ra,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Yh(i)}))}function Wb(i,e){return e().catch((n=>gh(i,n,e)))}async function Xh(i){const e=Ce(i),n=Ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fg;for(;IM(e);)try{const o=await uM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,NM(e,o)}catch(o){await gh(e,o)}Jb(e)&&Zb(e)}function IM(i){return xa(i)&&i.Ta.length<10}function NM(i,e){i.Ta.push(e);const n=Ls(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Jb(i){return xa(i)&&!Ls(i).x_()&&i.Ta.length>0}function Zb(i){Ls(i).start()}async function DM(i){Ls(i).ra()}async function OM(i){const e=Ls(i);for(const n of i.Ta)e.ea(n.mutations)}async function xM(i,e,n){const s=i.Ta.shift(),o=Xg.from(s,e,n);await Wb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Xh(i)}async function MM(i,e){e&&Ls(i).X_&&await(async function(s,o){if((function(c){return mx(c)&&c!==ee.ABORTED})(o.code)){const l=s.Ta.shift();Ls(s).B_(),await Wb(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Xh(s)}})(i,e),Jb(i)&&Zb(i)}async function D0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),he(Ra,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await Qu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function VM(i,e){const n=Ce(i);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await Qu(n),n.Ra.set("Unknown"))}function tl(i){return i.ma||(i.ma=(function(n,s,o){const l=Ce(n);return l.sa(),new _M(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:bM.bind(null,i),t_:wM.bind(null,i),r_:RM.bind(null,i),H_:CM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ay(i)?sy(i):i.Ra.set("Unknown")):(await i.ma.stop(),Xb(i))}))),i.ma}function Ls(i){return i.fa||(i.fa=(function(n,s,o){const l=Ce(n);return l.sa(),new vM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:DM.bind(null,i),r_:MM.bind(null,i),ta:OM.bind(null,i),na:xM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Xh(i)):(await i.fa.stop(),i.Ta.length>0&&(he(Ra,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new oy(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(i,e){if(Or("AsyncQueue",`${e}: ${i}`),Zo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=pu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ho{constructor(e,n,s,o,l,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Ho(e,n,xo.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kM{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),l=o.queries;o.queries=x0(),l.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function x0(){return new Oa((i=>Eb(i)),Gu)}async function ew(i,e){const n=Ce(i);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new LM,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=ly(c,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&uy(n)}async function tw(i,e){const n=Ce(i),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PM(i,e){const n=Ce(i);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&uy(n)}function UM(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(e)}function uy(i){i.Ca.forEach((e=>{e.next()}))}var lg,M0;(M0=lg||(lg={})).Ma="default",M0.Cache="cache";class nw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class rw{constructor(e){this.key=e}}class jM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Tb(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new O0,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const b=o.get(_),x=Hh(this.query,T)?T:null,z=!!b&&this.mutatedKeys.has(b.key),G=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;b&&x?b.data.isEqual(x.data)?z!==G&&(s.track({type:3,doc:x}),P=!0):this.su(b,x)||(s.track({type:2,doc:x}),P=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!b&&x?(s.track({type:0,doc:x}),P=!0):b&&!x&&(s.track({type:1,doc:b}),P=!0,(p||g)&&(m=!0)),P&&(x?(c=c.add(x),l=G?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(x,z){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:P})}};return G(x)-G(z)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Ho(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new iw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class zM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BM{constructor(e){this.key=e,this.hu=!1}}class qM{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Oa((m=>Eb(m)),Gu),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new Zg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HM(i,e,n=!0){const s=cw(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await sw(s,e,n,!0),o}async function FM(i,e){const n=cw(i);await sw(n,e,!0,!1)}async function sw(i,e,n,s){const o=await cM(i.localStore,Bi(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,n);let m;return s&&(m=await GM(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&Qb(i.remoteStore,o),m}async function GM(i,e,n,s,o){i.pu=(T,b,x)=>(async function(G,P,W,J){let re=P.view.ru(W);re.Cs&&(re=await w0(G.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,re))));const ce=J&&J.targetChanges.get(P.targetId),me=J&&J.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges(re,G.isPrimaryClient,ce,me);return L0(G,P.targetId,fe.au),fe.snapshot})(i,T,b,x);const l=await w0(i.localStore,e,!0),c=new jM(e,l.Qs),m=c.ru(l.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);L0(i,n,g.au);const _=new zM(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function $M(i,e,n){const s=Ce(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Gu(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ag(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&iy(s.remoteStore,o.targetId),ug(s,o.targetId)})).catch(Jo)):(ug(s,o.targetId),await ag(s.localStore,o.targetId,!0))}async function KM(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),iy(n.remoteStore,s.targetId))}async function QM(i,e,n){const s=tV(i);try{const o=await(function(c,m){const p=Ce(c),g=lt.now(),_=m.reduce(((x,z)=>x.add(z.key)),Be());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let z=xr(),G=Be();return p.Ns.getEntries(x,_).next((P=>{z=P,z.forEach(((W,J)=>{J.isValidDocument()||(G=G.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,z))).next((P=>{T=P;const W=[];for(const J of m){const re=ux(J,T.get(J.key).overlayedDocument);re!=null&&W.push(new Us(J.key,re,hb(re.value.mapValue),un.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,W,m)})).next((P=>{b=P;const W=P.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(x,P.batchId,W)}))})).then((()=>({batchId:b.batchId,changes:Ab(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(ze)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Yu(s,o.changes),await Xh(s.remoteStore)}catch(o){const l=ly(o,"Failed to persist write");n.reject(l)}}async function aw(i,e){const n=Ce(i);try{const s=await oM(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ye(c.hu,14607):o.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Yu(n,s,e)}catch(s){await Jo(s)}}function V0(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&uy(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YM(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new gt(ye.comparator);c=c.insert(l,nn.newNoDocument(l,we.min()));const m=Be().add(l),p=new Kh(we.min(),new Map,new gt(ze),c,m);await aw(s,p),s.du=s.du.remove(l),s.Au.delete(e),fy(s)}else await ag(s.localStore,e,!1).then((()=>ug(s,e,n))).catch(Jo)}async function XM(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await aM(n.localStore,e);lw(n,s,null),ow(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(n,o)}catch(o){await Jo(o)}}async function WM(i,e,n){const s=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ye(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);lw(s,e,n),ow(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yu(s,o)}catch(o){await Jo(o)}}function ow(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function lw(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ug(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||uw(i,s)}))}function uw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(iy(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),fy(i))}function L0(i,e,n){for(const s of n)s instanceof iw?(i.Ru.addReference(s.key,e),JM(i,s)):s instanceof rw?(he(cy,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||uw(i,s.key)):Te(19791,{wu:s})}function JM(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(he(cy,"New document in limbo: "+n),i.Eu.add(s),fy(i))}function fy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(ot.fromString(e)),s=i.fu.next();i.Au.set(s,new BM(n)),i.du=i.du.insert(n,s),Qb(i.remoteStore,new Ss(Bi(qh(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function Yu(i,e,n){const s=Ce(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ty.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(b=>ie.forEach(b.Es,(x=>_.persistence.referenceDelegate.addReference(T,b.targetId,x))).next((()=>ie.forEach(b.ds,(x=>_.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))))))}catch(T){if(!Zo(T))throw T;he(ny,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const x=_.Ms.get(b),z=x.snapshotVersion,G=x.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(b,G)}}})(s.localStore,l))}async function ZM(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){he(cy,"User change. New user:",e.toKey());const s=await Fb(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ee.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yu(n,s.Ls)}}function eV(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function cw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YM.bind(null,e),e.Pu.H_=PM.bind(null,e.eventManager),e.Pu.yu=UM.bind(null,e.eventManager),e}function tV(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sM(this.persistence,new nM,e.initialUser,this.serializer)}Cu(e){return new Hb(ey.mi,this.serializer)}Du(e){return new hM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class nV extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Bx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Hb((s=>ph.mi(s,n)),this.serializer)}}class cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZM.bind(null,this.syncEngine),await VM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kM})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=(function(l){return new yM(l)})(e.databaseInfo);return(function(l,c,m,p){return new TM(l,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,c,m){return new AM(s,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>V0(this.syncEngine,n,0)),(function(){return I0.v()?new I0:new dM})())}createSyncEngine(e,n){return(function(o,l,c,m,p,g,_){const T=new qM(o,l,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);he(Ra,"RemoteStore shutting down."),s.Ea.add(5),await Qu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class iV{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ly(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Op(i,e){i.asyncQueue.verifyOperationInProgress(),he(ks,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Fb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function k0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await rV(i);he(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>D0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>D0(e.remoteStore,o))),i._onlineComponents=e}async function rV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ks,"Using user provided OfflineComponentProvider");try{await Op(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await Op(i,new yh)}}else he(ks,"Using default OfflineComponentProvider"),await Op(i,new nV(void 0));return i._offlineComponents}async function hw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ks,"Using user provided OnlineComponentProvider"),await k0(i,i._uninitializedComponentsProvider._online)):(he(ks,"Using default OnlineComponentProvider"),await k0(i,new cg))),i._onlineComponents}function sV(i){return hw(i).then((e=>e.syncEngine))}async function fg(i){const e=await hw(i),n=e.eventManager;return n.onListen=HM.bind(null,e.syncEngine),n.onUnlisten=$M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KM.bind(null,e.syncEngine),n}function aV(i,e,n={}){const s=new Ns;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new fw({next:b=>{_.Nu(),c.enqueueAndForget((()=>tw(l,T)));const x=b.docs.has(m);!x&&b.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new nw(qh(m.path),_,{includeMetadataChanges:!0,qa:!0});return ew(l,T)})(await fg(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firestore.googleapis.com",U0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mw,this.ssl=U0}else this.host=e.host,this.ssl=e.ssl??U0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jx)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZA;switch(s.type){case"firstParty":return new yO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=P0.get(n);s&&(he("ComponentProvider","Removing Datastore"),P0.delete(n),s.terminate())})(this),Promise.resolve()}}function pw(i,e,n,s={}){i=Tn(i,Wh);const o=Yo(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(PA(`https://${m}`),UA("Firestore",!0)),l.host!==mw&&l.host!==m&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!Sa(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=tn.MOCK_USER;else{g=BD(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(T)}i._authCredentials=new mO(new JA(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Fu(n,ht._jsonSchema))return new ht(e,s||null,new ye(ot.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:kt("string",ht._jsonSchemaVersion),referencePath:kt("string")};class ci extends Ki{constructor(e,n,s){super(e,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ye(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function Ca(i,e,...n){if(i=ut(i),eb("collection","path",e),i instanceof Wh){const s=ot.fromString(e,...n);return JT(s),new ci(i,null,s)}{if(!(i instanceof ht||i instanceof ci))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...n));return JT(s),new ci(i.firestore,null,s)}}function zi(i,e,...n){if(i=ut(i),arguments.length===1&&(e=Ph.newId()),eb("doc","path",e),i instanceof Wh){const s=ot.fromString(e,...n);return WT(s),new ht(i,null,new ye(s))}{if(!(i instanceof ht||i instanceof ci))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...n));return WT(s),new ht(i.firestore,i instanceof ci?i.converter:null,new ye(s))}}function gw(i,e){return i=ut(i),e=ut(e),(i instanceof ht||i instanceof ci)&&(e instanceof ht||e instanceof ci)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function yw(i,e){return i=ut(i),e=ut(e),i instanceof Ki&&e instanceof Ki&&i.firestore===e.firestore&&Gu(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $b(this,"async_queue_retry"),this._c=()=>{const s=Dp();s&&he(z0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;he(z0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=oy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(i,["next","error","complete"])}class Qi extends Wh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new B0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function _w(i,e){const n=typeof i=="object"?i:qA(),s=typeof i=="string"?i:ch,o=qg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=jD("firestore");l&&pw(o,...l)}return o}function Xu(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||oV(i),i._firestoreClient}function oV(i){const e=i._freezeSettings(),n=(function(o,l,c,m){return new MO(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,dw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new iV(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Gt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:kt("string",On._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:kt("string",fi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:kt("string",hi._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class uV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new $u(e,this.data,n,this.fieldTransforms)}}class vw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ew(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class hy{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ew(this.Ac)&&lV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}Cc(e,n,s,o=!1){return new hy({Ac:e,methodName:n,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(i){const e=i._freezeSettings(),n=Qh(i._databaseId);return new cV(i._databaseId,!!e.ignoreUndefinedProperties,n)}function dy(i,e,n,s,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,n,o);py("Data must be an object, but it was:",c,s);const m=Aw(s,c);let p,g;if(l.merge)p=new xn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const b=hg(e,T,n);if(!c.contains(b))throw new ue(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ww(_,b)||_.push(b)}p=new xn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new uV(new En(m),p,g)}class Jh extends Wu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}class my extends Wu{_toFieldTransform(e){return new sx(e.path,new Mu)}isEqual(e){return e instanceof my}}function Tw(i,e,n,s){const o=i.Cc(1,e,n);py("Data must be an object, but it was:",o,s);const l=[],c=En.empty();Ps(s,((p,g)=>{const _=gy(e,p,n);g=ut(g);const T=o.yc(_);if(g instanceof Jh)l.push(_);else{const b=Zu(g,T);b!=null&&(l.push(_),c.set(_,b))}}));const m=new xn(l);return new vw(c,m,o.fieldTransforms)}function Sw(i,e,n,s,o,l){const c=i.Cc(1,e,n),m=[hg(e,s,n)],p=[o];if(l.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(hg(e,l[b])),p.push(l[b+1]);const g=[],_=En.empty();for(let b=m.length-1;b>=0;--b)if(!ww(g,m[b])){const x=m[b];let z=p[b];z=ut(z);const G=c.yc(x);if(z instanceof Jh)g.push(x);else{const P=Zu(z,G);P!=null&&(g.push(x),_.set(x,P))}}const T=new xn(g);return new vw(_,T,c.fieldTransforms)}function fV(i,e,n,s=!1){return Zu(n,i.Cc(s?4:3,e))}function Zu(i,e){if(bw(i=ut(i)))return py("Unsupported field value:",e,i),Aw(i,e);if(i instanceof Wu)return(function(s,o){if(!Ew(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const m of s){let p=Zu(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:mh(o.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,l)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:Lb(o.serializer,s._byteString)};if(s instanceof ht){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(c,m){return{mapValue:{fields:{[cb]:{stringValue:fb},[fh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Yg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Uh(s)}`)})(i,e)}function Aw(i,e){const n={};return rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(i,((s,o)=>{const l=Zu(o,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function bw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof lt||i instanceof fi||i instanceof On||i instanceof ht||i instanceof Wu||i instanceof hi)}function py(i,e,n){if(!bw(n)||!nb(n)){const s=Uh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function hg(i,e,n){if((e=ut(e))instanceof nl)return e._internalPath;if(typeof e=="string")return gy(i,e);throw _h("Field path arguments must be of type string or ",i,!1,void 0,n)}const hV=new RegExp("[~\\*/\\[\\]]");function gy(i,e,n){if(e.search(hV)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _h(i,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+i+p)}function ww(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dV extends Rw{data(){return super.data()}}function yy(i,e){return typeof e=="string"?gy(i,e):e instanceof nl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class vy extends _y{}function Cw(i,e,...n){let s=[];e instanceof _y&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((p=>p instanceof ed)).length,m=l.filter((p=>p instanceof Zh)).length;if(c>1||c>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Zh extends vy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zh(e,n,s)}_apply(e){const n=this._parse(e);return Nw(e._query,n),new Ki(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=Ju(e.firestore);return(function(l,c,m,p,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){G0(T,_);const z=[];for(const G of T)z.push(F0(p,l,G));b={arrayValue:{values:z}}}else b=F0(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||G0(T,_),b=fV(m,c,T,_==="in"||_==="not-in");return Lt.create(g,_,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ed extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ed(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const p of m)Nw(c,p),c=eg(c,p)})(e._query,n),new Ki(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class td extends vy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new td(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(l,c)})(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new el(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Iw(i,e="asc"){const n=e,s=yy("orderBy",i);return td._create(s,n)}function F0(i,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!ye.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a0(i,new ye(s))}if(n instanceof ht)return a0(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function G0(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nw(i,e){const n=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dw{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ps(e,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new hi(n)}convertGeoPoint(e){return new fi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const n=xs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ye(Bb(s),9688,{name:e});const o=new jo(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return o.isEqual(n)||Or(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class No{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends Rw{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:kt("string",Ds._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class bu extends Ds{data(e={}){return super.data(e)}}class Ta{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new bu(this._firestore,this._userDataWriter,s.key,s,new No(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:pV(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ph.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i){i=Tn(i,ht);const e=Tn(i.firestore,Qi);return aV(Xu(e),i._key).then((n=>Vw(e,i,n)))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:kt("string",Ta._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class Ow extends Dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function vh(i,e,n){i=Tn(i,ht);const s=Tn(i.firestore,Qi),o=Ey(i.converter,e,n);return il(s,[dy(Ju(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,un.none())])}function xw(i,e,n,...s){i=Tn(i,ht);const o=Tn(i.firestore,Qi),l=Ju(o);let c;return c=typeof(e=ut(e))=="string"||e instanceof nl?Sw(l,"updateDoc",i._key,e,n,s):Tw(l,"updateDoc",i._key,e),il(o,[c.toMutation(i._key,un.exists(!0))])}function gV(i){return il(Tn(i.firestore,Qi),[new $h(i._key,un.none())])}function Mw(i,e){const n=Tn(i.firestore,Qi),s=zi(i),o=Ey(i.converter,e);return il(n,[dy(Ju(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,un.exists(!1))]).then((()=>s))}function Sy(i,...e){i=ut(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||H0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(H0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,m;if(i instanceof ht)c=Tn(i.firestore,Qi),m=qh(i._key.path),l={next:p=>{e[s]&&e[s](Vw(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(i,Ki);c=Tn(p.firestore,Qi),m=p._query;const g=new Ow(c);l={next:_=>{e[s]&&e[s](new Ta(c,g,p,_))},error:e[s+1],complete:e[s+2]},mV(i._query)}return(function(g,_,T,b){const x=new fw(b),z=new nw(_,x,T);return g.asyncQueue.enqueueAndForget((async()=>ew(await fg(g),z))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>tw(await fg(g),z)))}})(Xu(c),m,o,l)}function il(i,e){return(function(s,o){const l=new Ns;return s.asyncQueue.enqueueAndForget((async()=>QM(await sV(s),o,l))),l.promise})(Xu(i),e)}function Vw(i,e,n){const s=n.docs.get(e._key),o=new Ow(i);return new Ds(i,o,e._key,s,new No(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,n,s){this._verifyNotCommitted();const o=xp(e,this._firestore),l=Ey(o.converter,n,s),c=dy(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,un.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const l=xp(e,this._firestore);let c;return c=typeof(n=ut(n))=="string"||n instanceof nl?Sw(this._dataReader,"WriteBatch.update",l._key,n,s,o):Tw(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xp(e,this._firestore);return this._mutations=this._mutations.concat(new $h(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xp(i,e){if((i=ut(i)).firestore!==e)throw new ue(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function As(){return new my("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i){return Xu(i=Tn(i,Qi)),new Lw(i,(e=>il(i,e)))}(function(e,n=!0){(function(o){Wo=o})(Xo),Po(new Aa("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Qi(new pO(s.getProvider("auth-internal")),new _O(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(g.options.projectId,_)})(c,o),c);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Cs(KT,QT,e),Cs(KT,QT,"esm2020")})();const $0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Dw,Bytes:On,CollectionReference:ci,DocumentReference:ht,DocumentSnapshot:Ds,FieldPath:nl,FieldValue:Wu,Firestore:Qi,FirestoreError:ue,GeoPoint:fi,Query:Ki,QueryCompositeFilterConstraint:ed,QueryConstraint:vy,QueryDocumentSnapshot:bu,QueryFieldFilterConstraint:Zh,QueryOrderByConstraint:td,QuerySnapshot:Ta,SnapshotMetadata:No,Timestamp:lt,VectorValue:hi,WriteBatch:Lw,_AutoId:Ph,_ByteString:Gt,_DatabaseId:jo,_DocumentKey:ye,_EmptyAuthCredentialsProvider:ZA,_FieldPath:Ft,_cast:Tn,_logWarn:wa,_validateIsNotUsedTogether:tb,addDoc:Mw,collection:Ca,connectFirestoreEmulator:pw,deleteDoc:gV,doc:zi,ensureFirestoreConfigured:Xu,executeWrite:il,getDoc:Ty,getFirestore:_w,onSnapshot:Sy,orderBy:Iw,query:Cw,queryEqual:yw,refEqual:gw,serverTimestamp:As,setDoc:vh,updateDoc:xw,writeBatch:kw},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Do=function(){return Do=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Do.apply(this,arguments)},Pw=function(i){return{loading:i==null,value:i}},yV=function(){return function(i,e){switch(e.type){case"error":return Do(Do({},i),{error:e.error,loading:!1,value:void 0});case"reset":return Pw(e.defaultValue);case"value":return Do(Do({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},Uw=(function(i){var e=void 0,n=A.useReducer(yV(),Pw(e)),s=n[0],o=n[1],l=A.useCallback(function(){var p=void 0;o({type:"reset",defaultValue:p})},[i]),c=A.useCallback(function(p){o({type:"error",error:p})},[]),m=A.useCallback(function(p){o({type:"value",value:p})},[]);return A.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:c,setValue:m,value:s.value}},[s.error,s.loading,l,c,m,s.value])}),jw=function(i,e,n){var s=A.useRef(i);return A.useEffect(function(){e(i,s.current)||(s.current=i,n&&n())}),s},_V=function(i,e){var n=!i&&!e,s=!!i&&!!e&&gw(i,e);return n||s},vV=function(i,e){return jw(i,_V,e)},EV=function(i,e){var n=!i&&!e,s=!!i&&!!e&&yw(i,e);return n||s},TV=function(i,e){return jw(i,EV,e)},nd=function(i,e){var n=Uw(),s=n.error,o=n.loading,l=n.reset,c=n.setError,m=n.setValue,p=n.value,g=TV(i,l);return A.useEffect(function(){if(!g.current){m(void 0);return}var _=Sy(g.current,m,c);return function(){_()}},[g.current]),[p,o,s]},zw=function(i,e){var n=Uw(),s=n.error,o=n.loading,l=n.reset,c=n.setError,m=n.setValue,p=n.value,g=vV(i,l);return A.useEffect(function(){if(!g.current){m(void 0);return}var _=Sy(g.current,m,c);return function(){_()}},[g.current]),[p,o,s]};function yu(i=new Date,e="America/Regina"){return i.toLocaleDateString("en-CA",{timeZone:e})}var SV="firebase",AV="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(SV,AV,"app");function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bV=Bw,qw=new qu("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new zg("@firebase/auth");function wV(i,...e){Eh.logLevel<=je.WARN&&Eh.warn(`Auth (${Xo}): ${i}`,...e)}function Wf(i,...e){Eh.logLevel<=je.ERROR&&Eh.error(`Auth (${Xo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw by(i,...e)}function di(i,...e){return by(i,...e)}function Ay(i,e,n){const s={...bV(),[e]:n};return new qu("auth","Firebase",s).create(e,{appName:i.name})}function Hi(i){return Ay(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hw(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(i,"argument-error"),Ay(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function by(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return qw.create(i,...e)}function Ee(i,e,...n){if(!i)throw by(e,...n)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wf(e),new Error(e)}function Mr(i,e){i||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){return typeof self<"u"&&self.location?.href||""}function RV(){return K0()==="http:"||K0()==="https:"}function K0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RV()||KD()||"connection"in navigator)?navigator.onLine:!0}function IV(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=FD()||QD()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(i,e){Mr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OV=new ec(3e4,6e4);function js(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function kr(i,e,n,s,o={}){return Gw(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=Hu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return $D()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Yo(i.emulatorConfig.host)&&(g.credentials="include"),Fw.fetch()(await $w(i,i.config.apiHost,n,m),g)})}async function Gw(i,e,n){i._canInitEmulator=!1;const s={...NV,...e};try{const o=new MV(i),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw qf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw qf(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ay(i,_,g);Qn(i,_)}}catch(o){if(o instanceof Lr)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function tc(i,e,n,s,o={}){const l=await kr(i,e,n,s,o);return"mfaPendingCredential"in l&&Qn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function $w(i,e,n,s){const o=`${e}${n}?${s}`,l=i,c=l.config.emulator?wy(i.config,o):`${i.config.apiScheme}://${o}`;return DV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function xV(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),OV.get())})}}function qf(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(i,e,s);return o.customData._tokenResponse=n,o}function Q0(i){return i!==void 0&&i.enterprise!==void 0}class VV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LV(i,e){return kr(i,"GET","/v2/recaptchaConfig",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(i,e){return kr(i,"POST","/v1/accounts:delete",e)}async function Th(i,e){return kr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PV(i,e=!1){const n=ut(i),s=await n.getIdToken(e),o=Ry(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:wu(Mp(o.auth_time)),issuedAtTime:wu(Mp(o.iat)),expirationTime:wu(Mp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mp(i){return Number(i)*1e3}function Ry(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=MA(n);return o?JSON.parse(o):(Wf("Failed to decode base64 JWT payload"),null)}catch(o){return Wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y0(i){const e=Ry(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Lr&&UV(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UV({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(i){const e=i.auth,n=await i.getIdToken(),s=await Fo(i,Th(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?Kw(o.providerUserInfo):[],c=BV(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function zV(i){const e=ut(i);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BV(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Kw(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(i,e){const n=await Gw(i,{},async()=>{const s=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await $w(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Yo(i.emulatorConfig.host)&&(p.credentials="include"),Fw.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HV(i,e){return kr(i,"POST","/v2/accounts:revokeToken",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Y0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await qV(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Mo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PV(this,e)}reload(){return zV(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Fo(this,kV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:x,providerData:z,stsTokenManager:G}=n;Ee(T&&G,e,"internal-error");const P=Mo.fromJSON(this.name,G);Ee(typeof T=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof x=="boolean",e,"internal-error"),ys(l,e.name),ys(c,e.name),ys(m,e.name),ys(p,e.name),ys(g,e.name),ys(_,e.name);const W=new ui({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(W.providerData=z.map(J=>({...J}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new Mo;o.updateFromServerResponse(n);const l=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Kw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Mo;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new mg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function Ar(i){Mr(i instanceof Function,"Expected a class definition");let e=X0.get(i);return e?(Mr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,X0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qw.type="NONE";const W0=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(i,e,n){return`firebase:${i}:${e}:${n}`}class Vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Jf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Jf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vo(Ar(W0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ar(W0);const c=Jf(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const b=await Th(e,{idToken:_}).catch(()=>{});if(!b)break;T=await ui._fromGetAccountInfoResponse(e,b,_)}else T=ui._fromJSON(e,_);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Vo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Vo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(Xw(e))return"Safari";if((e.includes("chrome/")||Ww(e))&&!e.includes("edge/"))return"Chrome";if(Zw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Yw(i=rn()){return/firefox\//i.test(i)}function Xw(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ww(i=rn()){return/crios\//i.test(i)}function Jw(i=rn()){return/iemobile/i.test(i)}function Zw(i=rn()){return/android/i.test(i)}function eR(i=rn()){return/blackberry/i.test(i)}function tR(i=rn()){return/webos/i.test(i)}function Cy(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FV(i=rn()){return Cy(i)&&!!window.navigator?.standalone}function GV(){return YD()&&document.documentMode===10}function nR(i=rn()){return Cy(i)||Zw(i)||tR(i)||eR(i)||/windows phone/i.test(i)||Jw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(i,e=[]){let n;switch(i){case"Browser":n=J0(rn());break;case"Worker":n=`${J0(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(i,e={}){return kr(i,"GET","/v2/passwordPolicy",js(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=6;class YV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new $V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Hi(this));const n=e?ut(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KV(this),n=new YV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wi(i){return ut(i)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WV(i){id=i}function rR(i){return id.loadJS(i)}function JV(){return id.recaptchaEnterpriseScript}function ZV(){return id.gapiScript}function e4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class t4{constructor(){this.enterprise=new n4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const i4="recaptcha-enterprise",sR="NO_RECAPTCHA";class r4{constructor(e){this.type=i4,this.auth=Wi(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{LV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new VV(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;Q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(sR)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&Q0(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JV();p.length!==0&&(p+=m),rR(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function eS(i,e,n,s=!1,o=!1){const l=new r4(i);let c;if(o)c=sR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pg(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eS(i,e,n,n==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eS(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(i,e){const n=qg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Sa(l,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function a4(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function o4(i,e,n){const s=Wi(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=aR(e),{host:c,port:m}=l4(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Sa(g,s.config.emulator)&&Sa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Yo(c)?(PA(`${l}//${c}${p}`),UA("Auth",!0)):u4()}function aR(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function l4(i){const e=aR(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:tS(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:tS(c)}}}function tS(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function u4(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function c4(i,e){return kr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(i,e){return tc(i,"POST","/v1/accounts:signInWithPassword",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(i,e){return tc(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}async function d4(i,e){return tc(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Iy{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ku(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,n,"signInWithPassword",f4);case"emailLink":return h4(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,s,"signUpPassword",c4);case"emailLink":return d4(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(i,e){return tc(i,"POST","/v1/accounts:signInWithIdp",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="http://localhost";class Ia extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new Ia(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:m4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g4(i){const e=hu(du(i)).link,n=e?hu(du(e)).deep_link_id:null,s=hu(du(i)).deep_link_id;return(s?hu(du(s)).link:null)||s||n||e||i}class Ny{constructor(e){const n=hu(du(e)),s=n.apiKey??null,o=n.oobCode??null,l=p4(n.mode??null);Ee(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g4(e);try{return new Ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ny.parseLink(n);return Ee(s,"argument-error"),ku._fromEmailAndCode(e,s.code,s.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends rd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends nc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Tr.credential(n,s)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends nc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends nc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(i,e){return tc(i,"POST","/v1/accounts:signUp",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await ui._fromIdTokenResponse(e,s,o),c=nS(s);return new Na({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nS(s);return new Na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nS(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function oR(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,l,e,s):l})}async function _4(i,e,n=!1){const s=await Fo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Na._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(i,e,n=!1){const{auth:s}=i;if(vn(s.app))return Promise.reject(Hi(s));const o="reauthenticate";try{const l=await Fo(i,oR(s,o,e,i),n);Ee(l.idToken,s,"internal-error");const c=Ry(l.idToken);Ee(c,s,"internal-error");const{sub:m}=c;return Ee(i.uid===m,s,"user-mismatch"),Na._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(i,e,n=!1){if(vn(i.app))return Promise.reject(Hi(i));const s="signIn",o=await oR(i,s,e),l=await Na._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(l.user),l}async function E4(i,e){return lR(Wi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(i){const e=Wi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T4(i,e,n){if(vn(i.app))return Promise.reject(Hi(i));const s=Wi(i),c=await pg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&uR(i),p}),m=await Na._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function S4(i,e,n){return vn(i.app)?Promise.reject(Hi(i)):E4(ut(i),rl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uR(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(i,e){return kr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Fo(s,A4(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function w4(i,e,n,s){return ut(i).onIdTokenChanged(e,n,s)}function R4(i,e,n){return ut(i).beforeAuthStateChanged(e,n)}function C4(i,e,n,s){return ut(i).onAuthStateChanged(e,n,s)}function I4(i){return ut(i).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,D4=10;class fR extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);GV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fR.type="LOCAL";const O4=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hR.type="SESSION";const dR=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),p=await x4(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=Dy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function V4(i){Fi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function L4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k4(){return navigator?.serviceWorker?.controller||null}function P4(){return mR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebaseLocalStorageDb",U4=1,wh="firebaseLocalStorage",gR="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function j4(){const i=indexedDB.deleteDatabase(pR);return new ic(i).toPromise()}function gg(){const i=indexedDB.open(pR,U4);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(wh,{keyPath:gR})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await j4(),e(await gg()))})})}async function iS(i,e,n){const s=ad(i,!0).put({[gR]:e,value:n});return new ic(s).toPromise()}async function z4(i,e){const n=ad(i,!1).get(e),s=await new ic(n).toPromise();return s===void 0?null:s.value}function rS(i,e){const n=ad(i,!0).delete(e);return new ic(n).toPromise()}const B4=800,q4=3;class yR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>q4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(P4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L4(),!this.activeServiceWorker)return;this.sender=new M4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await iS(e,bh,"1"),await rS(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>z4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ad(o,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yR.type="LOCAL";const H4=yR;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i,e){return e?Ar(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F4(i){return lR(i.auth,new xy(i),i.bypassAuthState)}function G4(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),v4(n,new xy(i),i.bypassAuthState)}async function $4(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),_4(n,new xy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F4;case"linkViaPopup":case"linkViaRedirect":return $4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:Qn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new ec(2e3,1e4);async function Q4(i,e,n){if(vn(i.app))return Promise.reject(di(i,"operation-not-supported-in-this-environment"));const s=Wi(i);Hw(i,e,rd);const o=Oy(s,n);return new Ea(s,"signInViaPopup",e,o).executeNotNull()}class Ea extends _R{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K4.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",Zf=new Map;class X4 extends _R{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const s=await W4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W4(i,e){const n=ER(e),s=vR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function J4(i,e){return vR(i)._set(ER(e),"true")}function Z4(i,e){Zf.set(i._key(),e)}function vR(i){return Ar(i._redirectPersistence)}function ER(i){return Jf(Y4,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i,e,n){return eL(i,e,n)}async function eL(i,e,n){if(vn(i.app))return Promise.reject(Hi(i));const s=Wi(i);Hw(i,e,rd),await s._initializationPromise;const o=Oy(s,n);return await J4(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function tL(i,e){return await Wi(i)._initializationPromise,TR(i,e,!1)}async function TR(i,e,n=!1){if(vn(i.app))return Promise.reject(Hi(i));const s=Wi(i),o=Oy(s,e),c=await new X4(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=600*1e3;class iL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!SR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}}function aS(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function SR({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function rL(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SR(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(i,e={}){return kr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function lL(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sL(i);for(const n of e)try{if(uL(n))return}catch{}Qn(i,"unauthorized-domain")}function uL(i){const e=dg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!oL.test(n))return!1;if(aL.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new ec(3e4,6e4);function oS(){const i=Fi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fL(i){return new Promise((e,n)=>{function s(){oS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oS(),n(di(i,"network-request-failed"))},timeout:cL.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=e4("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(di(i,"network-request-failed"))},rR(`${ZV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw eh=null,e})}let eh=null;function hL(i){return eh=eh||fL(i),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new ec(5e3,15e3),mL="__/auth/iframe",pL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?wy(e,pL):`https://${i.config.authDomain}/${mL}`,s={apiKey:e.apiKey,appName:i.name,v:Xo},o=yL.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Hu(s).slice(1)}`}async function vL(i){const e=await hL(i),n=Fi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:_L(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=di(i,"network-request-failed"),m=Fi().setTimeout(()=>{l(c)},dL.get());function p(){Fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,SL=600,AL="_blank",bL="http://localhost";class lS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wL(i,e,n,s=TL,o=SL){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...EL,width:s.toString(),height:o.toString(),top:l,left:c},g=rn().toLowerCase();n&&(m=Ww(g)?AL:n),Yw(g)&&(e=e||bL,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[x,z])=>`${b}${x}=${z},`,"");if(FV(g)&&m!=="_self")return RL(e||"",m),new lS(null);const T=window.open(e||"",m,_);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new lS(T)}function RL(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="__/auth/handler",IL="emulator/auth/handler",NL=encodeURIComponent("fac");async function uS(i,e,n,s,o,l){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Xo,eventId:o};if(e instanceof rd){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",n2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof nc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${NL}=${encodeURIComponent(p)}`:"";return`${DL(i)}?${Hu(m).slice(1)}${g}`}function DL({config:i}){return i.emulator?wy(i,IL):`https://${i.authDomain}/${CL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class OL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dR,this._completeRedirectFn=TR,this._overrideRedirectResult=Z4}async _openPopup(e,n,s,o){Mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await uS(e,n,s,dg(),o);return wL(e,l,Dy())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await uS(e,n,s,dg(),o);return V4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Mr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vL(e),s=new iL(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},o=>{const l=o?.[0]?.[Vp];l!==void 0&&n(!!l),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nR()||Xw()||Cy()}}const xL=OL;var cS="@firebase/auth",fS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LL(i){Po(new Aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(i)},g=new XV(s,o,l,p);return a4(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new Aa("auth-internal",e=>{const n=Wi(e.getProvider("auth").getImmediate());return(s=>new ML(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(cS,fS,VL(i)),Cs(cS,fS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=300,PL=kA("authIdTokenMaxAge")||kL;let hS=null;const UL=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PL)return;const o=n?.token;hS!==o&&(hS=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jL(i=qA()){const e=qg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=s4(i,{popupRedirectResolver:xL,persistence:[H4,O4,dR]}),s=kA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=UL(l.toString());R4(n,c,()=>c(n.currentUser)),w4(n,m=>c(m))}}const o=VA("auth");return o&&o4(n,`http://${o}`),n}function zL(){return document.getElementsByTagName("head")?.[0]??document}WV({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=di("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",zL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LL("Browser");const BL={apiKey:"AIzaSyC1V0sjf8MbuLUAHXzeBvx8UkXkJ_uK0G4",authDomain:"bllk-bypass.firebaseapp.com",projectId:"bllk-bypass",storageBucket:"bllk-bypass.firebasestorage.app",messagingSenderId:"285336398327",appId:"1:285336398327:web:01872b871e88fb232526f2"},AR=BA(BL),_n=jL(AR),Kn=_w(AR);function Hf(i,e,n=bR){const[s,o,l]=i.split("-").map(Number),[c,m]=e.split(":").map(Number),p=Date.UTC(s,(o??1)-1,l??1,c??0,m??0,0),_=new Intl.DateTimeFormat("en-CA",{timeZone:n,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).formatToParts(new Date(p)).reduce((ce,me)=>(me.type!=="literal"&&(ce[me.type]=me.value),ce),{}),T=Number(_.year),b=Number(_.month),x=Number(_.day),z=Number(_.hour),G=Number(_.minute),P=Date.UTC(s,(o??1)-1,l??1,c??0,m??0,0),W=Date.UTC(T,(b??1)-1,x,z??0,G??0,0),J=(P-W)/6e4,re=p+J*6e4;return new Date(re)}function qL(i,e,n="America/Regina"){const s=[];let o=new Date(new Date(i+"T00:00:00").toLocaleString("en-CA",{timeZone:n}));const l=new Date(new Date(e+"T00:00:00").toLocaleString("en-CA",{timeZone:n}));for(;o<=l;){const c=o.getFullYear(),m=String(o.getMonth()+1).padStart(2,"0"),p=String(o.getDate()).padStart(2,"0");s.push(`${c}-${m}-${p}`),o.setDate(o.getDate()+1)}return s}const bR="America/Regina";function dS(i,e=bR,n={dateStyle:"medium",timeStyle:"short"}){let s=null;return i?i instanceof Date?s=i:typeof i=="string"?s=new Date(i):typeof i=="number"?s=new Date(i):typeof i.toDate=="function"?s=i.toDate():typeof i.seconds=="number"&&(s=new Date(i.seconds*1e3)):s=null,!s||isNaN(s.getTime())?"":new Intl.DateTimeFormat("en-CA",{timeZone:e,...n}).format(s)}function HL({dateKey:i,divertId:e}){const[n]=nd(Ca(Kn,"days",i,"diverts",e,"votes")),s=n?.size??0;return C.jsxs(_u,{bg:"light",text:"dark",children:[s," verified"]})}function FL(){const i=_n.currentUser,[e]=zw(i?zi(Kn,"users",i.uid):null);return!!e?.data()?.verified}function GL({dateKey:i,divertId:e,createdByUid:n}){const s=_n.currentUser,o=FL(),l=!!s&&(o||s.uid===n);async function c(){if(!l)return alert("Only verified users or the original reporter can clear a divert.");confirm("End this divert now?")&&await xw(zi(Kn,"days",i,"diverts",e),{status:"cleared",clearedAt:As()})}return C.jsx(bs,{variant:"outline-secondary",onClick:c,disabled:!l,title:l?"Mark divert as cleared now":"Need verification or be the original reporter",children:"End now"})}function $L(){const[i]=nd(Ca(Kn,"hospitals"));return i?.docs.map(e=>({id:e.id,...e.data()}))??[]}function KL({dateKey:i=yu()}){const e=$L(),[n]=nd(Cw(Ca(Kn,"days",i,"diverts"),Iw("startedAt","desc"))),s=(n?.docs??[]).map(l=>({id:l.id,...l.data()})),o=A.useMemo(()=>{const l=new Map;return s.forEach(c=>{const m=l.get(c.hospitalId)??[];m.push(c),l.set(c.hospitalId,m)}),l},[s]);return e.length===0?C.jsx("div",{children:"No hospitals seeded yet."}):C.jsx(ko,{gap:4,children:e.map(l=>{const c=o.get(l.id)??[],m=c.find(p=>p.status==="active")??c[0];return C.jsx(Cr,{children:C.jsxs(Cr.Body,{children:[C.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-3",children:[C.jsxs("div",{children:[C.jsxs(Cr.Title,{className:"mb-1",children:[l.name," ",C.jsx(_u,{bg:"secondary",children:l.shortCode})]}),m?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"mb-2",children:[C.jsx(_u,{bg:m.kind==="full"?"danger":"warning",text:m.kind==="full"?"light":"dark",className:"me-2",children:String(m.kind).toUpperCase()}),C.jsx(_u,{bg:"info",className:"me-2",children:m.status}),C.jsx(HL,{dateKey:i,divertId:m.id})]}),C.jsxs("div",{className:"text-muted",children:[m.startedAt&&C.jsxs("span",{children:[C.jsx("strong",{children:"Start:"})," ",dS(m.startedAt)]}),m.clearedAt&&C.jsxs("span",{className:"ms-3",children:[C.jsx("strong",{children:"End:"})," ",dS(m.clearedAt)]})]}),m.scope&&C.jsxs("div",{className:"mt-2",children:[C.jsx("strong",{children:"Scope:"})," ",m.scope]}),m.notes&&C.jsxs("div",{children:[C.jsx("strong",{children:"Notes:"})," ",m.notes]})]}):C.jsx("div",{className:"text-muted",children:"No diverts reported today."})]}),m&&C.jsxs("div",{className:"d-flex gap-2",children:[C.jsx(QL,{dateKey:i,divertId:m.id}),C.jsx(GL,{dateKey:i,divertId:m.id,createdByUid:m.createdByUid})]})]}),C.jsx("div",{className:"mt-3",children:C.jsxs("small",{className:"text-muted",children:["Today’s reports: ",c.length]})})]})},l.id)})})}function QL({dateKey:i,divertId:e}){const n=_n.currentUser,s=n?zi(Kn,"days",i,"diverts",e,"votes",n.uid):null,[o]=zw(s),l=!!o?.exists();async function c(){if(!n)return alert("Sign in to verify");l?await VT(async()=>{const{deleteDoc:m}=await Promise.resolve().then(()=>$0);return{deleteDoc:m}},[]).then(({deleteDoc:m})=>m(s)):await VT(async()=>{const{setDoc:m}=await Promise.resolve().then(()=>$0);return{setDoc:m}},void 0).then(({setDoc:m})=>m(s,{createdAt:new Date}))}return C.jsx(bs,{variant:l?"success":"outline-success",onClick:c,title:"Verified users can confirm",children:l?"👍 Verified":"👍 Verify"})}function YL({hospitals:i,onSubmitted:e}){if(i.length===0)return null;const[n,s]=A.useState(i[0].id),[o,l]=A.useState("full"),[c,m]=A.useState(""),[p,g]=A.useState(yu()),[_,T]=A.useState("07:00"),[b,x]=A.useState(""),[z,G]=A.useState(""),[P,W]=A.useState(!1),[J,re]=A.useState(yu()),[ce,me]=A.useState(yu()),[fe,I]=A.useState("07:00"),[R,N]=A.useState("19:00"),[k,M]=A.useState(!1),[U,D]=A.useState(""),[Fe,rt]=A.useState(!1);A.useEffect(()=>{const te=_n.currentUser;if(!te){rt(!1);return}Ty(zi(Kn,"users",te.uid)).then(oe=>rt(!!oe.data()?.verified)).catch(()=>rt(!1))},[_n.currentUser?.uid]);async function Q(te){te.preventDefault(),M(!0),D("");try{const oe=_n.currentUser,xe=oe?Fe?"verified":"user":"anonymous";if(P){const Me=qL(J,ce),V=kw(Kn);for(const Y of Me){const se=Hf(Y,fe),ae=R?Hf(Y,R):void 0,ge={hospitalId:n,kind:o,notes:c||void 0,status:"active",startedAt:se,clearedAt:ae,createdAt:As(),createdByUid:oe?.uid??"",reporterTier:xe,dateKey:Y,verifyCount:0,reportsCount:1},be=zi(Ca(Kn,"days",Y,"diverts"));V.set(be,ge),oe&&Fe&&V.set(zi(be,"votes",oe.uid),{createdAt:As()})}await V.commit()}else{const Me=p||yu(),V=Hf(Me,_||"00:00"),Y=b&&z?Hf(b,z):void 0,se={hospitalId:n,kind:o,notes:c||void 0,status:"active",startedAt:V,clearedAt:Y,createdAt:As(),createdByUid:oe?.uid??"",reporterTier:xe,dateKey:Me,verifyCount:0,reportsCount:1},ae=await Mw(Ca(Kn,"days",Me,"diverts"),se);oe&&Fe&&await vh(zi(ae,"votes",oe.uid),{createdAt:As()})}e?.()}catch(oe){console.error(oe),D(oe?.message??"Failed to submit divert")}finally{M(!1)}}return C.jsx(Ae,{onSubmit:Q,children:C.jsxs(ko,{gap:3,children:[U&&C.jsx(NN,{variant:"danger",children:U}),C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Hospital"}),C.jsx(Ae.Select,{value:n,onChange:te=>s(te.target.value),required:!0,children:i.map(te=>C.jsx("option",{value:te.id,children:te.name},te.id))})]}),C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Divert type"}),C.jsxs(Ae.Select,{value:o,onChange:te=>l(te.target.value),children:[C.jsx("option",{value:"full",children:"Full divert"}),C.jsx("option",{value:"partial",children:"Partial divert"}),C.jsx("option",{value:"ct-divert",children:"CT down"}),C.jsx("option",{value:"labs-xray-divert",children:"Labs/X-Ray unavailable"}),C.jsx("option",{value:"other",children:"Other"})]})]}),C.jsx(ya,{children:C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Single vs Recurring"}),C.jsx(Ae.Check,{type:"switch",id:"recurring-switch",label:"Recurring daily window",checked:P,onChange:te=>W(te.currentTarget.checked)}),C.jsx(Ae.Text,{children:"Enable to create one divert per day across a date range (e.g., 1st–7th, 07:00–19:00 daily)."})]})})}),P?C.jsxs(C.Fragment,{children:[C.jsxs(ya,{children:[C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"From date"}),C.jsx(Ae.Control,{type:"date",value:J,onChange:te=>re(te.target.value),required:!0})]})}),C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"To date"}),C.jsx(Ae.Control,{type:"date",value:ce,onChange:te=>me(te.target.value),required:!0})]})})]}),C.jsxs(ya,{children:[C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Daily start time"}),C.jsx(Ae.Control,{type:"time",value:fe,onChange:te=>I(te.target.value),required:!0})]})}),C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Daily end time"}),C.jsx(Ae.Control,{type:"time",value:R,onChange:te=>N(te.target.value),required:!0})]})})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs(ya,{children:[C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Start date"}),C.jsx(Ae.Control,{type:"date",value:p,onChange:te=>g(te.target.value),required:!0})]})}),C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Start time"}),C.jsx(Ae.Control,{type:"time",value:_,onChange:te=>T(te.target.value),required:!0})]})})]}),C.jsxs(ya,{children:[C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"End date (optional)"}),C.jsx(Ae.Control,{type:"date",value:b,onChange:te=>x(te.target.value)})]})}),C.jsx($n,{md:6,children:C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"End time (optional)"}),C.jsx(Ae.Control,{type:"time",value:z,onChange:te=>G(te.target.value)})]})})]})]}),C.jsx(Ae.Group,{children:C.jsx(Ae.Control,{className:"mt-2",as:"textarea",rows:2,placeholder:"Optional notes",value:c,onChange:te=>m(te.target.value)})}),C.jsx("div",{className:"d-flex gap-2",children:C.jsx(bs,{type:"submit",disabled:k,children:k?"Submitting...":"Report divert"})})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function XL(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function m(_){try{g(s.next(_))}catch(T){c(T)}}function p(_){try{g(s.throw(_))}catch(T){c(T)}}function g(_){_.done?l(_.value):o(_.value).then(m,p)}g((s=s.apply(i,[])).next())})}function WL(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(_){g=[6,_],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(){return Oo=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Oo.apply(this,arguments)},wR=function(i){return{loading:i==null,value:i}},JL=function(){return function(i,e){switch(e.type){case"error":return Oo(Oo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return wR(e.defaultValue);case"value":return Oo(Oo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},ZL=(function(i){var e=i?i():void 0,n=A.useReducer(JL(),wR(e)),s=n[0],o=n[1],l=A.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),c=A.useCallback(function(p){o({type:"error",error:p})},[]),m=A.useCallback(function(p){o({type:"value",value:p})},[]);return A.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:c,setValue:m,value:s.value}},[s.error,s.loading,l,c,m,s.value])}),ek=(function(i,e){var n=ZL(function(){return i.currentUser}),s=n.error,o=n.loading,l=n.setError,c=n.setValue,m=n.value;return A.useEffect(function(){var p=C4(i,function(g){return XL(void 0,void 0,void 0,function(){var _;return WL(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return c(g),[2]}})})},l);return function(){p()}},[i]),[m,o,s]});function tk(){if(typeof navigator>"u")return!1;const i=navigator.userAgent||"";return/Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(i)}async function mS(i){const e=zi(Kn,"users",i.uid),n=await Ty(e),s={displayName:i.displayName??"",email:i.email??"",photoURL:i.photoURL??null,providers:(i.providerData??[]).map(o=>o.providerId),updatedAt:As()};n.exists()?await vh(e,s,{merge:!0}):await vh(e,{...s,createdAt:As(),verified:!1})}const RR=A.createContext(null);function nk({children:i}){const[e,n]=ek(_n);A.useEffect(()=>{tL(_n).catch(()=>{})},[]),A.useEffect(()=>{e&&mS(e).catch(console.error)},[e?.uid]);const s=A.useMemo(()=>({user:e,loading:n,async signInEmail(o,l){await S4(_n,o,l)},async signUpEmail(o,l,c){const m=await T4(_n,o,l);c&&await b4(m.user,{displayName:c}),await mS(m.user)},async signInGoogle(){const o=new Tr;o.setCustomParameters({prompt:"select_account"});try{tk()?await sS(_n,o):await Q4(_n,o)}catch(l){if(String(l?.code||"").includes("popup-"))await sS(_n,o);else throw l}},async signOut(){await I4(_n)}}),[e,n]);return C.jsx(RR.Provider,{value:s,children:i})}function My(){const i=A.useContext(RR);if(!i)throw new Error("useAuth must be used within AuthProvider");return i}function ik(){const{signInEmail:i,signUpEmail:e,signInGoogle:n}=My(),[s,o]=A.useState("signin"),[l,c]=A.useState(""),[m,p]=A.useState(""),[g,_]=A.useState(""),[T,b]=A.useState(!1),[x,z]=A.useState(""),G=vg(),P="/";async function W(J){J.preventDefault(),b(!0),z("");try{s==="signin"?await i(l,m):await e(l,m,g||void 0),G(P)}catch(re){z(re?.message??"Authentication failed")}finally{b(!1)}}return C.jsx(ya,{className:"justify-content-center",children:C.jsx($n,{md:6,lg:5,children:C.jsx(Cr,{children:C.jsx(Cr.Body,{children:C.jsxs(ko,{gap:3,children:[C.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[C.jsx(Cr.Title,{className:"mb-0",children:s==="signin"?"Sign in":"Create account"}),C.jsx(bs,{variant:"link",onClick:()=>o(s==="signin"?"signup":"signin"),children:s==="signin"?"Need an account?":"Have an account?"})]}),C.jsx(Ae,{onSubmit:W,children:C.jsxs(ko,{gap:3,children:[s==="signup"&&C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Display name"}),C.jsx(Ae.Control,{value:g,onChange:J=>_(J.target.value)})]}),C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Email"}),C.jsx(Ae.Control,{type:"email",value:l,onChange:J=>c(J.target.value),required:!0})]}),C.jsxs(Ae.Group,{children:[C.jsx(Ae.Label,{children:"Password"}),C.jsx(Ae.Control,{type:"password",value:m,onChange:J=>p(J.target.value),required:!0})]}),x&&C.jsx("div",{className:"text-danger small",children:x}),C.jsx("div",{className:"d-grid",children:C.jsx(bs,{type:"submit",disabled:T,children:T?"Please wait…":s==="signin"?"Sign in":"Create account"})})]})}),C.jsx("div",{className:"text-center text-muted",children:"or"}),C.jsx("div",{className:"d-grid",children:C.jsx(bs,{variant:"outline-secondary",onClick:async()=>{await n(),G("/")},children:"Continue with Google"})}),C.jsx("div",{className:"text-center",children:C.jsxs("small",{children:["By continuing you agree to the ",C.jsx(_a,{to:"#",children:"terms"}),"."]})})]})})})})})}function rk(){const{user:i,signOut:e}=My(),n=vg();async function s(){await e(),n("/")}return C.jsx(Cr,{children:C.jsxs(Cr.Body,{children:[C.jsx(Cr.Title,{children:"My account"}),C.jsxs(ko,{gap:3,children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Name:"})," ",i?.displayName||"—"]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Email:"})," ",i?.email||"—"]}),C.jsxs("div",{children:[C.jsx("strong",{children:"UID:"})," ",C.jsx("code",{children:i?.uid})]}),C.jsx("div",{children:C.jsx(bs,{variant:"outline-danger",onClick:s,children:"Sign out"})})]})]})})}function pS(){const{dateKey:i}=qC();return C.jsx(KL,{dateKey:i})}function sk(){const{user:i}=My();return C.jsxs(C.Fragment,{children:[C.jsx(xT,{className:"mb-4",expand:"sm",children:C.jsxs(Bp,{children:[C.jsx(xT.Brand,{as:_a,to:"/",children:"EMS Diverts"}),C.jsxs(kf,{className:"me-auto",children:[C.jsx(kf.Link,{as:_a,to:"/report",children:"Report"}),i?C.jsx(kf.Link,{as:_a,to:"/account",children:"Account"}):C.jsx(kf.Link,{as:_a,to:"/signin",children:"Sign In"})]})]})}),C.jsx(Bp,{className:"pb-5",children:C.jsxs(iI,{children:[C.jsx(Ao,{path:"/",element:C.jsx(pS,{})}),C.jsx(Ao,{path:"/:dateKey",element:C.jsx(pS,{})}),C.jsx(Ao,{path:"/report",element:C.jsx(ak,{})}),C.jsx(Ao,{path:"/signin",element:C.jsx(ik,{})}),C.jsx(Ao,{path:"/account",element:C.jsx(rk,{})})]})})]})}function ak(){const[i]=nd(Ca(Kn,"hospitals")),e=i?.docs.map(n=>({id:n.id,...n.data()}))??[];return C.jsx(YL,{hospitals:e,onSubmitted:()=>history.back()})}hC.createRoot(document.getElementById("root")).render(C.jsx(ji.StrictMode,{children:C.jsx(RI,{children:C.jsx(nk,{children:C.jsx(sk,{})})})}));

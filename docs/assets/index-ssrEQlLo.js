(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ku(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var op={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function Y1(){if(uT)return au;uT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return au.Fragment=e,au.jsx=n,au.jsxs=n,au}var cT;function X1(){return cT||(cT=1,op.exports=Y1()),op.exports}var b=X1(),lp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function W1(){if(fT)return Ie;fT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function M(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,j={};function Y(L,W,oe){this.props=L,this.context=W,this.refs=j,this.updater=oe||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},Y.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function J(){}J.prototype=Y.prototype;function ie(L,W,oe){this.props=L,this.context=W,this.refs=j,this.updater=oe||U}var ae=ie.prototype=new J;ae.constructor=ie,F(ae,Y.prototype),ae.isPureReactComponent=!0;var re=Array.isArray;function se(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(L,W,oe){var ue=oe.ref;return{$$typeof:i,type:L,key:W,ref:ue!==void 0?ue:null,props:oe}}function V(L,W){return N(L.type,W,L.props)}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function P(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return W[oe]})}var D=/\/+/g;function ke(L,W){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):W.toString(36)}function at(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(se,se):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,W,oe,ue,_e){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case i:case e:Oe=!0;break;case _:return Oe=L._init,K(Oe(L._payload),W,oe,ue,_e)}}if(Oe)return _e=_e(L),Oe=ue===""?"."+ke(L,0):ue,re(_e)?(oe="",Oe!=null&&(oe=Oe.replace(D,"$&/")+"/"),K(_e,W,oe,"",function(Le){return Le})):_e!=null&&(x(_e)&&(_e=V(_e,oe+(_e.key==null||L&&L.key===_e.key?"":(""+_e.key).replace(D,"$&/")+"/")+Oe)),W.push(_e)),1;Oe=0;var yt=ue===""?".":ue+":";if(re(L))for(var me=0;me<L.length;me++)ue=L[me],be=yt+ke(ue,me),Oe+=K(ue,W,oe,be,_e);else if(me=M(L),typeof me=="function")for(L=me.call(L),me=0;!(ue=L.next()).done;)ue=ue.value,be=yt+ke(ue,me++),Oe+=K(ue,W,oe,be,_e);else if(be==="object"){if(typeof L.then=="function")return K(at(L),W,oe,ue,_e);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function le(L,W,oe){if(L==null)return L;var ue=[],_e=0;return K(L,ue,"","",function(be){return W.call(oe,be,_e++)}),ue}function fe(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Ve=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Pe={map:le,forEach:function(L,W,oe){le(L,function(){W.apply(this,arguments)},oe)},count:function(L){var W=0;return le(L,function(){W++}),W},toArray:function(L){return le(L,function(W){return W})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=T,Ie.Children=Pe,Ie.Component=Y,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ie,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,W,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=F({},L.props),_e=L.key;if(W!=null)for(be in W.key!==void 0&&(_e=""+W.key),W)!C.call(W,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&W.ref===void 0||(ue[be]=W[be]);var be=arguments.length-2;if(be===1)ue.children=oe;else if(1<be){for(var Oe=Array(be),yt=0;yt<be;yt++)Oe[yt]=arguments[yt+2];ue.children=Oe}return N(L.type,_e,ue)},Ie.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ie.createElement=function(L,W,oe){var ue,_e={},be=null;if(W!=null)for(ue in W.key!==void 0&&(be=""+W.key),W)C.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=W[ue]);var Oe=arguments.length-2;if(Oe===1)_e.children=oe;else if(1<Oe){for(var yt=Array(Oe),me=0;me<Oe;me++)yt[me]=arguments[me+2];_e.children=yt}if(L&&L.defaultProps)for(ue in Oe=L.defaultProps,Oe)_e[ue]===void 0&&(_e[ue]=Oe[ue]);return N(L,be,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:m,render:L}},Ie.isValidElement=x,Ie.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:fe}},Ie.memo=function(L,W){return{$$typeof:g,type:L,compare:W===void 0?null:W}},Ie.startTransition=function(L){var W=I.T,oe={};I.T=oe;try{var ue=L(),_e=I.S;_e!==null&&_e(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(se,Ve)}catch(be){Ve(be)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),I.T=W}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(L){return I.H.use(L)},Ie.useActionState=function(L,W,oe){return I.H.useActionState(L,W,oe)},Ie.useCallback=function(L,W){return I.H.useCallback(L,W)},Ie.useContext=function(L){return I.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,W){return I.H.useDeferredValue(L,W)},Ie.useEffect=function(L,W){return I.H.useEffect(L,W)},Ie.useEffectEvent=function(L){return I.H.useEffectEvent(L)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(L,W,oe){return I.H.useImperativeHandle(L,W,oe)},Ie.useInsertionEffect=function(L,W){return I.H.useInsertionEffect(L,W)},Ie.useLayoutEffect=function(L,W){return I.H.useLayoutEffect(L,W)},Ie.useMemo=function(L,W){return I.H.useMemo(L,W)},Ie.useOptimistic=function(L,W){return I.H.useOptimistic(L,W)},Ie.useReducer=function(L,W,oe){return I.H.useReducer(L,W,oe)},Ie.useRef=function(L){return I.H.useRef(L)},Ie.useState=function(L){return I.H.useState(L)},Ie.useSyncExternalStore=function(L,W,oe){return I.H.useSyncExternalStore(L,W,oe)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var hT;function _g(){return hT||(hT=1,lp.exports=W1()),lp.exports}var S=_g();const Gi=ku(S);var up={exports:{}},ou={},cp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function J1(){return dT||(dT=1,(function(i){function e(K,le){var fe=K.length;K.push(le);e:for(;0<fe;){var Ve=fe-1>>>1,Pe=K[Ve];if(0<o(Pe,le))K[Ve]=le,K[fe]=Pe,fe=Ve;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],fe=K.pop();if(fe!==le){K[0]=fe;e:for(var Ve=0,Pe=K.length,L=Pe>>>1;Ve<L;){var W=2*(Ve+1)-1,oe=K[W],ue=W+1,_e=K[ue];if(0>o(oe,fe))ue<Pe&&0>o(_e,oe)?(K[Ve]=_e,K[ue]=fe,Ve=ue):(K[Ve]=oe,K[W]=fe,Ve=W);else if(ue<Pe&&0>o(_e,fe))K[Ve]=_e,K[ue]=fe,Ve=ue;else break e}}return le}function o(K,le){var fe=K.sortIndex-le.sortIndex;return fe!==0?fe:K.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,w=3,M=!1,U=!1,F=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ae(K){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=K)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function re(K){if(F=!1,ae(K),!U)if(n(p)!==null)U=!0,se||(se=!0,P());else{var le=n(g);le!==null&&at(re,le.startTime-K)}}var se=!1,I=-1,C=5,N=-1;function V(){return j?!0:!(i.unstable_now()-N<C)}function x(){if(j=!1,se){var K=i.unstable_now();N=K;var le=!0;try{e:{U=!1,F&&(F=!1,J(I),I=-1),M=!0;var fe=w;try{t:{for(ae(K),T=n(p);T!==null&&!(T.expirationTime>K&&V());){var Ve=T.callback;if(typeof Ve=="function"){T.callback=null,w=T.priorityLevel;var Pe=Ve(T.expirationTime<=K);if(K=i.unstable_now(),typeof Pe=="function"){T.callback=Pe,ae(K),le=!0;break t}T===n(p)&&s(p),ae(K)}else s(p);T=n(p)}if(T!==null)le=!0;else{var L=n(g);L!==null&&at(re,L.startTime-K),le=!1}}break e}finally{T=null,w=fe,M=!1}le=void 0}}finally{le?P():se=!1}}}var P;if(typeof ie=="function")P=function(){ie(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ke=D.port2;D.port1.onmessage=x,P=function(){ke.postMessage(null)}}else P=function(){Y(x,0)};function at(K,le){I=Y(function(){K(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(K){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var fe=w;w=le;try{return K()}finally{w=fe}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return le()}finally{w=fe}},i.unstable_scheduleCallback=function(K,le,fe){var Ve=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,K){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=fe+Pe,K={id:_++,callback:le,priorityLevel:K,startTime:fe,expirationTime:Pe,sortIndex:-1},fe>Ve?(K.sortIndex=fe,e(g,K),n(p)===null&&K===n(g)&&(F?(J(I),I=-1):F=!0,at(re,fe-Ve))):(K.sortIndex=Pe,e(p,K),U||M||(U=!0,se||(se=!0,P()))),K},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(K){var le=w;return function(){var fe=w;w=le;try{return K.apply(this,arguments)}finally{w=fe}}}})(fp)),fp}var mT;function Z1(){return mT||(mT=1,cp.exports=J1()),cp.exports}var hp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function eC(){if(pT)return ln;pT=1;var i=_g();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},ln.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:M}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ln.requestFormReset=function(p){s.d.r(p)},ln.unstable_batchedUpdates=function(p,g){return p(g)},ln.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var gT;function RS(){if(gT)return hp.exports;gT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hp.exports=eC(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function tC(){if(yT)return ou;yT=1;var i=Z1(),e=_g(),n=RS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=l(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,u=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===u)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,u=d;break}if(A===u){v=!0,u=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,u=h;break}if(A===u){v=!0,u=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Y:return"Profiler";case j:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ie:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}var at=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],Pe=-1;function L(t){return{current:t}}function W(t){0>Pe||(t.current=Ve[Pe],Ve[Pe]=null,Pe--)}function oe(t,r){Pe++,Ve[Pe]=t.current,t.current=r}var ue=L(null),_e=L(null),be=L(null),Oe=L(null);function yt(t,r){switch(oe(be,r),oe(_e,t),oe(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?OE(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=OE(r),t=ME(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),oe(ue,t)}function me(){W(ue),W(_e),W(be)}function Le(t){t.memoizedState!==null&&oe(Oe,t);var r=ue.current,a=ME(r,t.type);r!==a&&(oe(_e,t),oe(ue,a))}function At(t){_e.current===t&&(W(ue),W(_e)),Oe.current===t&&(W(Oe),nu._currentValue=fe)}var Nt,Dt;function ht(t){if(Nt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Nt=r&&r[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+t+Dt}var Je=!1;function Ei(t,r){if(!t||Je)return"";Je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var O=v.split(`
`),q=A.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===q.length)for(u=O.length-1,h=q.length-1;1<=u&&0<=h&&O[u]!==q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==q[h]){var X=`
`+O[u].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=u&&0<=h);break}}}finally{Je=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ht(a):""}function nr(t,r){switch(t.tag){case 26:case 27:case 5:return ht(t.type);case 16:return ht("Lazy");case 13:return t.child!==r&&r!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return Ei(t.type,!1);case 11:return Ei(t.type.render,!1);case 1:return Ei(t.type,!0);case 31:return ht("Activity");default:return""}}function rl(t){try{var r="",a=null;do r+=nr(t,a),a=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xt=Object.prototype.hasOwnProperty,qt=i.unstable_scheduleCallback,zr=i.unstable_cancelCallback,ud=i.unstable_shouldYield,tc=i.unstable_requestPaint,dn=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,sl=i.unstable_ImmediatePriority,al=i.unstable_UserBlockingPriority,Br=i.unstable_NormalPriority,cd=i.unstable_LowPriority,nc=i.unstable_IdlePriority,ic=i.log,rc=i.unstable_setDisableYieldValue,ti=null,Jt=null;function zn(t){if(typeof ic=="function"&&rc(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ti,t)}catch{}}var wt=Math.clz32?Math.clz32:ac,sc=Math.log,Va=Math.LN2;function ac(t){return t>>>=0,t===0?32:31-(sc(t)/Va|0)|0}var Ti=256,qs=262144,Ot=4194304;function Si(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ai(t,r,a){var u=t.pendingLanes;if(u===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=u&134217727;return A!==0?(u=A&~d,u!==0?h=Si(u):(v&=A,v!==0?h=Si(v):a||(a=A&~t,a!==0&&(h=Si(a))))):(A=u&~d,A!==0?h=Si(A):v!==0?h=Si(v):a||(a=u&~t,a!==0&&(h=Si(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ni(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function fd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Fs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hd(t,r,a,u,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-wt(a),te=1<<X;A[X]=0,O[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~te}u!==0&&Gs(t,u,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Gs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-wt(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function ol(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-wt(a),h=1<<u;h&r|t[u]&r&&(t[u]|=r),a&=~h}}function ll(t,r){var a=r&-r;return a=(a&42)!==0?1:$s(a),(a&(t.suspendedLanes|r))!==0?0:a}function $s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lc(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:nT(t.type))}function ii(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var ri=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ri,Kt="__reactProps$"+ri,bi="__reactContainer$"+ri,La="__reactEvents$"+ri,dd="__reactListeners$"+ri,uc="__reactHandles$"+ri,cc="__reactResources$"+ri,Ri="__reactMarker$"+ri;function ka(t){delete t[Mt],delete t[Kt],delete t[La],delete t[dd],delete t[uc]}function Ci(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[bi]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zE(t);t!==null;){if(a=t[Mt])return a;t=zE(t)}return r}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Mt]||t[bi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Dn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ii(t){var r=t[cc];return r||(r=t[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(t){t[Ri]=!0}var ul=new Set,cl={};function Ni(t,r){Di(t,r),Di(t+"Capture",r)}function Di(t,r){for(cl[t]=r,t=0;t<r.length;t++)ul.add(r[t])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function fc(t){return xt.call(dl,t)?!0:xt.call(hl,t)?!1:fl.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function Pa(t,r,a){if(fc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function xn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+u)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ml(t,r,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,d=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Hr(t)?"checked":"value";t._valueTracker=ml(t,r,""+t[r])}}function Ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=Hr(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function yn(t){return t.replace(Qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(t,r,a,u,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Qt(r)):t.value!==""+Qt(r)&&(t.value=""+Qt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?pl(t,v,Qt(r)):a!=null?pl(t,v,Qt(a)):u!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Qt(A):t.removeAttribute("name")}function hc(t,r,a,u,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+Qt(a):"",r=r!=null?""+Qt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=A?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function pl(t,r,a){r==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qr(t,r,a,u){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function dc(t,r,a){if(r!=null&&(r=""+Qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Qt(a):""}function Fr(t,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(at(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Qt(r),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),Ze(t)}function _n(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,a):typeof a!="number"||a===0||mc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function yl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&gl(t,h,u)}else for(var d in r)r.hasOwnProperty(d)&&gl(t,d,r[d])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var _l=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $r=null,Oi=null;function Ys(t){var r=Bn(t);if(r&&(t=r.stateNode)){var a=t[Kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var h=u[Kt]||null;if(!h)throw Error(s(90));Ua(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===t.form&&Ks(u)}break e;case"textarea":dc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qr(t,!!a.multiple,r,!1)}}}var Ba=!1;function Kr(t,r,a){if(Ba)return t(r,a);Ba=!0;try{var u=t(r);return u}finally{if(Ba=!1,($r!==null||Oi!==null)&&(uf(),$r&&(r=$r,t=Oi,Oi=$r=null,Ys(r),t)))for(r=0;r<t.length;r++)Ys(t[r])}}function ai(t,r){var a=t.stateNode;if(a===null)return null;var u=a[Kt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Xs=!1}var Mi=null,vl=null,Ws=null;function El(){if(Ws)return Ws;var t,r=vl,a=r.length,u,h="value"in Mi?Mi.value:Mi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(u=1;u<=v&&r[a-u]===h[d-u];u++);return Ws=h.slice(t,1<u?1-u:void 0)}function Js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function oi(){return!1}function Zt(t){function r(a,u,h,d,v){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rr:oi,this.isPropagationStopped=oi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),r}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Zt(sr),Qr=T({},sr,{view:0,detail:0}),Tl=Zt(Qr),Yr,Ha,Li,qa=T({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Yr=t.screenX-Li.screenX,Ha=t.screenY-Li.screenY):Ha=Yr=0,Li=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Sl=Zt(qa),Zs=T({},qa,{dataTransfer:0}),gc=Zt(Zs),yc=T({},Qr,{relatedTarget:0}),ea=Zt(yc),Al=T({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=Zt(Al),Fa=T({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vc=Zt(Fa),Ec=T({},sr,{data:0}),ki=Zt(Ec),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ac[t])?!!r[t]:!1}function Xr(){return wc}var mn=T({},Qr,{key:function(t){if(t.key){var r=Tc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bc=Zt(mn),Rc=T({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Zt(Rc),f=T({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),y=Zt(f),E=T({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Zt(E),B=T({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Zt(B),ce=T({},sr,{newState:0,oldState:0}),De=Zt(ce),bt=[9,13,27,32],Ye=qn&&"CompositionEvent"in window,dt=null;qn&&"documentMode"in document&&(dt=document.documentMode);var Fn=qn&&"TextEvent"in window&&!dt,Pi=qn&&(!Ye||dt&&8<dt&&11>=dt),li=" ",ui=!1;function ta(t,r){switch(t){case"keyup":return bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function vR(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(ui=!0,li);case"textInput":return t=r.data,t===li&&ui?null:t;default:return null}}function ER(t,r){if($a)return t==="compositionend"||!Ye&&ta(t,r)?(t=El(),Ws=vl=Mi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!TR[t.type]:r==="textarea"}function Fy(t,r,a,u){$r?Oi?Oi.push(u):Oi=[u]:$r=u,r=gf(r,"onChange"),0<r.length&&(a=new Vi("onChange","change",null,a,u),t.push({event:a,listeners:r}))}var wl=null,bl=null;function SR(t){RE(t,0)}function Cc(t){var r=Dn(t);if(Ks(r))return t}function Gy(t,r){if(t==="change")return r}var $y=!1;if(qn){var md;if(qn){var pd="oninput"in document;if(!pd){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),pd=typeof Ky.oninput=="function"}md=pd}else md=!1;$y=md&&(!document.documentMode||9<document.documentMode)}function Qy(){wl&&(wl.detachEvent("onpropertychange",Yy),bl=wl=null)}function Yy(t){if(t.propertyName==="value"&&Cc(bl)){var r=[];Fy(r,bl,t,Hn(t)),Kr(SR,r)}}function AR(t,r,a){t==="focusin"?(Qy(),wl=r,bl=a,wl.attachEvent("onpropertychange",Yy)):t==="focusout"&&Qy()}function wR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(bl)}function bR(t,r){if(t==="click")return Cc(r)}function RR(t,r){if(t==="input"||t==="change")return Cc(r)}function CR(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var On=typeof Object.is=="function"?Object.is:CR;function Rl(t,r){if(On(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!xt.call(r,h)||!On(t[h],r[h]))return!1}return!0}function Xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wy(t,r){var a=Xy(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xy(a)}}function Jy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xi(t.document)}return r}function gd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var IR=qn&&"documentMode"in document&&11>=document.documentMode,Ka=null,yd=null,Cl=null,_d=!1;function e_(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_d||Ka==null||Ka!==xi(u)||(u=Ka,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cl&&Rl(Cl,u)||(Cl=u,u=gf(yd,"onSelect"),0<u.length&&(r=new Vi("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=Ka)))}function na(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Qa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},vd={},t_={};qn&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ia(t){if(vd[t])return vd[t];if(!Qa[t])return t;var r=Qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in t_)return vd[t]=r[a];return t}var n_=ia("animationend"),i_=ia("animationiteration"),r_=ia("animationstart"),NR=ia("transitionrun"),DR=ia("transitionstart"),xR=ia("transitioncancel"),s_=ia("transitionend"),a_=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function ci(t,r){a_.set(t,r),Ni(r,[t])}var Ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],Ya=0,Td=0;function Nc(){for(var t=Ya,r=Td=Ya=0;r<t;){var a=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var h=Gn[r];Gn[r++]=null;var d=Gn[r];if(Gn[r++]=null,u!==null&&h!==null){var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}d!==0&&o_(a,h,d)}}function Dc(t,r,a,u){Gn[Ya++]=t,Gn[Ya++]=r,Gn[Ya++]=a,Gn[Ya++]=u,Td|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Sd(t,r,a,u){return Dc(t,r,a,u),xc(t)}function ra(t,r){return Dc(t,null,null,r),xc(t)}function o_(t,r,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-wt(a),t=d.hiddenUpdates,u=t[h],u===null?t[h]=[r]:u.push(r),r.lane=a|536870912),d):null}function xc(t){if(50<Yl)throw Yl=0,xm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function OR(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,r,a,u){return new OR(t,r,a,u)}function Ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,r){var a=t.alternate;return a===null?(a=Mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function l_(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Oc(t,r,a,u,h,d){var v=0;if(u=t,typeof t=="function")Ad(t)&&(v=1);else if(typeof t=="string")v=P1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Mn(31,a,r,h),t.elementType=N,t.lanes=d,t;case F:return sa(a.children,h,d,r);case j:v=8,h|=24;break;case Y:return t=Mn(12,a,r,h|2),t.elementType=Y,t.lanes=d,t;case re:return t=Mn(13,a,r,h),t.elementType=re,t.lanes=d,t;case se:return t=Mn(19,a,r,h),t.elementType=se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case J:v=9;break e;case ae:v=11;break e;case I:v=14;break e;case C:v=16,u=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),u=null}return r=Mn(v,a,r,h),r.elementType=t,r.type=u,r.lanes=d,r}function sa(t,r,a,u){return t=Mn(7,t,u,r),t.lanes=a,t}function wd(t,r,a){return t=Mn(6,t,null,r),t.lanes=a,t}function u_(t){var r=Mn(18,null,null,0);return r.stateNode=t,r}function bd(t,r,a){return r=Mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var c_=new WeakMap;function $n(t,r){if(typeof t=="object"&&t!==null){var a=c_.get(t);return a!==void 0?a:(r={value:t,source:r,stack:rl(r)},c_.set(t,r),r)}return{value:t,source:r,stack:rl(r)}}var Wa=[],Ja=0,Mc=null,Il=0,Kn=[],Qn=0,Wr=null,Ui=1,ji="";function lr(t,r){Wa[Ja++]=Il,Wa[Ja++]=Mc,Mc=t,Il=r}function f_(t,r,a){Kn[Qn++]=Ui,Kn[Qn++]=ji,Kn[Qn++]=Wr,Wr=t;var u=Ui;t=ji;var h=32-wt(u)-1;u&=~(1<<h),a+=1;var d=32-wt(r)+h;if(30<d){var v=h-h%5;d=(u&(1<<v)-1).toString(32),u>>=v,h-=v,Ui=1<<32-wt(r)+h|a<<h|u,ji=d+t}else Ui=1<<d|a<<h|u,ji=t}function Rd(t){t.return!==null&&(lr(t,1),f_(t,1,0))}function Cd(t){for(;t===Mc;)Mc=Wa[--Ja],Wa[Ja]=null,Il=Wa[--Ja],Wa[Ja]=null;for(;t===Wr;)Wr=Kn[--Qn],Kn[Qn]=null,ji=Kn[--Qn],Kn[Qn]=null,Ui=Kn[--Qn],Kn[Qn]=null}function h_(t,r){Kn[Qn++]=Ui,Kn[Qn++]=ji,Kn[Qn++]=Wr,Ui=r.id,ji=r.overflow,Wr=t}var en=null,ut=null,Ge=!1,Jr=null,Yn=!1,Id=Error(s(519));function Zr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl($n(r,t)),Id}function d_(t){var r=t.stateNode,a=t.type,u=t.memoizedProps;switch(r[Mt]=t,r[Kt]=u,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Wl.length;a++)je(Wl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),hc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Fr(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||DE(r.textContent,a)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=si),r=!0):r=!1,r||Zr(t,!0)}function m_(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:en=en.return}}function Za(t){if(t!==en)return!1;if(!Ge)return m_(t),Ge=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$m(t.type,t.memoizedProps)),a=!a),a&&ut&&Zr(t),m_(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=jE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=jE(t)}else r===27?(r=ut,ds(t.type)?(t=Wm,Wm=null,ut=t):ut=r):ut=en?Wn(t.stateNode.nextSibling):null;return!0}function aa(){ut=en=null,Ge=!1}function Nd(){var t=Jr;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Jr=null),t}function Nl(t){Jr===null?Jr=[t]:Jr.push(t)}var Dd=L(null),oa=null,ur=null;function es(t,r,a){oe(Dd,r._currentValue),r._currentValue=a}function cr(t){t._currentValue=Dd.current,W(Dd)}function xd(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}}function Od(t,r,a,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var O=0;O<r.length;O++)if(A.context===r[O]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),xd(d.return,a,t),u||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),xd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function eo(t,r,a,u){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;On(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}h=h.return}t!==null&&Od(r,t,a,u),r.flags|=262144}function Vc(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return p_(oa,t)}function Lc(t,r){return oa===null&&la(t),p_(t,r)}function p_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ur===null){if(t===null)throw Error(s(308));ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ur=ur.next=r;return a}var MR=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},VR=i.unstable_scheduleCallback,LR=i.unstable_NormalPriority,kt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new MR,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&VR(LR,function(){t.controller.abort()})}var xl=null,Vd=0,to=0,no=null;function kR(t,r){if(xl===null){var a=xl=[];Vd=0,to=Pm(),no={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Vd++,r.then(g_,g_),r}function g_(){if(--Vd===0&&xl!==null){no!==null&&(no.status="fulfilled");var t=xl;xl=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function PR(t,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var y_=K.S;K.S=function(t,r){eE=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kR(t,r),y_!==null&&y_(t,r)};var ua=L(null);function Ld(){var t=ua.current;return t!==null?t:ot.pooledCache}function kc(t,r){r===null?oe(ua,ua.current):oe(ua,r.pool)}function __(){var t=Ld();return t===null?null:{parent:kt._currentValue,pool:t}}var io=Error(s(460)),kd=Error(s(474)),Pc=Error(s(542)),Uc={then:function(){}};function v_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function E_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(si,si),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,S_(t),t;default:if(typeof r.status=="string")r.then(si,si);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,S_(t),t}throw fa=r,io}}function ca(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fa=a,io):a}}var fa=null;function T_(){if(fa===null)throw Error(s(459));var t=fa;return fa=null,t}function S_(t){if(t===io||t===Pc)throw Error(s(483))}var ro=null,Ol=0;function jc(t){var r=Ol;return Ol+=1,ro===null&&(ro=[]),E_(ro,t,r)}function Ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function zc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function A_(t){function r(z,k){if(t){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!t)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=or(z,k),z.index=0,z.sibling=null,z}function d(z,k,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,H,Z){return k===null||k.tag!==6?(k=wd(H,z.mode,Z),k.return=z,k):(k=h(k,H),k.return=z,k)}function O(z,k,H,Z){var ve=H.type;return ve===F?X(z,k,H.props.children,Z,H.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&ca(ve)===k.type)?(k=h(k,H.props),Ml(k,H),k.return=z,k):(k=Oc(H.type,H.key,H.props,null,z.mode,Z),Ml(k,H),k.return=z,k)}function q(z,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=bd(H,z.mode,Z),k.return=z,k):(k=h(k,H.children||[]),k.return=z,k)}function X(z,k,H,Z,ve){return k===null||k.tag!==7?(k=sa(H,z.mode,Z,ve),k.return=z,k):(k=h(k,H),k.return=z,k)}function te(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wd(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return H=Oc(k.type,k.key,k.props,null,z.mode,H),Ml(H,k),H.return=z,H;case U:return k=bd(k,z.mode,H),k.return=z,k;case C:return k=ca(k),te(z,k,H)}if(at(k)||P(k))return k=sa(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return te(z,jc(k),H);if(k.$$typeof===ie)return te(z,Lc(z,k),H);zc(z,k)}return null}function G(z,k,H,Z){var ve=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:A(z,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ve?O(z,k,H,Z):null;case U:return H.key===ve?q(z,k,H,Z):null;case C:return H=ca(H),G(z,k,H,Z)}if(at(H)||P(H))return ve!==null?null:X(z,k,H,Z,null);if(typeof H.then=="function")return G(z,k,jc(H),Z);if(H.$$typeof===ie)return G(z,k,Lc(z,H),Z);zc(z,H)}return null}function Q(z,k,H,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,A(k,z,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return z=z.get(Z.key===null?H:Z.key)||null,O(k,z,Z,ve);case U:return z=z.get(Z.key===null?H:Z.key)||null,q(k,z,Z,ve);case C:return Z=ca(Z),Q(z,k,H,Z,ve)}if(at(Z)||P(Z))return z=z.get(H)||null,X(k,z,Z,ve,null);if(typeof Z.then=="function")return Q(z,k,H,jc(Z),ve);if(Z.$$typeof===ie)return Q(z,k,H,Lc(k,Z),ve);zc(k,Z)}return null}function pe(z,k,H,Z){for(var ve=null,Ke=null,ge=k,Me=k=0,Be=null;ge!==null&&Me<H.length;Me++){ge.index>Me?(Be=ge,ge=null):Be=ge.sibling;var Qe=G(z,ge,H[Me],Z);if(Qe===null){ge===null&&(ge=Be);break}t&&ge&&Qe.alternate===null&&r(z,ge),k=d(Qe,k,Me),Ke===null?ve=Qe:Ke.sibling=Qe,Ke=Qe,ge=Be}if(Me===H.length)return a(z,ge),Ge&&lr(z,Me),ve;if(ge===null){for(;Me<H.length;Me++)ge=te(z,H[Me],Z),ge!==null&&(k=d(ge,k,Me),Ke===null?ve=ge:Ke.sibling=ge,Ke=ge);return Ge&&lr(z,Me),ve}for(ge=u(ge);Me<H.length;Me++)Be=Q(ge,z,Me,H[Me],Z),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Me:Be.key),k=d(Be,k,Me),Ke===null?ve=Be:Ke.sibling=Be,Ke=Be);return t&&ge.forEach(function(_s){return r(z,_s)}),Ge&&lr(z,Me),ve}function Se(z,k,H,Z){if(H==null)throw Error(s(151));for(var ve=null,Ke=null,ge=k,Me=k=0,Be=null,Qe=H.next();ge!==null&&!Qe.done;Me++,Qe=H.next()){ge.index>Me?(Be=ge,ge=null):Be=ge.sibling;var _s=G(z,ge,Qe.value,Z);if(_s===null){ge===null&&(ge=Be);break}t&&ge&&_s.alternate===null&&r(z,ge),k=d(_s,k,Me),Ke===null?ve=_s:Ke.sibling=_s,Ke=_s,ge=Be}if(Qe.done)return a(z,ge),Ge&&lr(z,Me),ve;if(ge===null){for(;!Qe.done;Me++,Qe=H.next())Qe=te(z,Qe.value,Z),Qe!==null&&(k=d(Qe,k,Me),Ke===null?ve=Qe:Ke.sibling=Qe,Ke=Qe);return Ge&&lr(z,Me),ve}for(ge=u(ge);!Qe.done;Me++,Qe=H.next())Qe=Q(ge,z,Me,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&ge.delete(Qe.key===null?Me:Qe.key),k=d(Qe,k,Me),Ke===null?ve=Qe:Ke.sibling=Qe,Ke=Qe);return t&&ge.forEach(function(Q1){return r(z,Q1)}),Ge&&lr(z,Me),ve}function st(z,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===F&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var ve=H.key;k!==null;){if(k.key===ve){if(ve=H.type,ve===F){if(k.tag===7){a(z,k.sibling),Z=h(k,H.props.children),Z.return=z,z=Z;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&ca(ve)===k.type){a(z,k.sibling),Z=h(k,H.props),Ml(Z,H),Z.return=z,z=Z;break e}a(z,k);break}else r(z,k);k=k.sibling}H.type===F?(Z=sa(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Oc(H.type,H.key,H.props,null,z.mode,Z),Ml(Z,H),Z.return=z,z=Z)}return v(z);case U:e:{for(ve=H.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),Z=h(k,H.children||[]),Z.return=z,z=Z;break e}else{a(z,k);break}else r(z,k);k=k.sibling}Z=bd(H,z.mode,Z),Z.return=z,z=Z}return v(z);case C:return H=ca(H),st(z,k,H,Z)}if(at(H))return pe(z,k,H,Z);if(P(H)){if(ve=P(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Se(z,k,H,Z)}if(typeof H.then=="function")return st(z,k,jc(H),Z);if(H.$$typeof===ie)return st(z,k,Lc(z,H),Z);zc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),Z=h(k,H),Z.return=z,z=Z):(a(z,k),Z=wd(H,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,k)}return function(z,k,H,Z){try{Ol=0;var ve=st(z,k,H,Z);return ro=null,ve}catch(ge){if(ge===io||ge===Pc)throw ge;var Ke=Mn(29,ge,null,z.mode);return Ke.lanes=Z,Ke.return=z,Ke}finally{}}}var ha=A_(!0),w_=A_(!1),ts=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function is(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=xc(t),o_(t,null,a),r}return Dc(t,u,r,a),xc(t)}function Vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,ol(t,a)}}function jd(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var zd=!1;function Ll(){if(zd){var t=no;if(t!==null)throw t}}function kl(t,r,a,u){zd=!1;var h=t.updateQueue;ts=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,q=O.next;O.next=null,v===null?d=q:v.next=q,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=q:A.next=q,X.lastBaseUpdate=O))}if(d!==null){var te=h.baseState;v=0,X=q=O=null,A=d;do{var G=A.lane&-536870913,Q=G!==A.lane;if(Q?(ze&G)===G:(u&G)===G){G!==0&&G===to&&(zd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Se=A;G=r;var st=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){te=pe.call(st,te,G);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,G=typeof pe=="function"?pe.call(st,te,G):pe,G==null)break e;te=T({},te,G);break e;case 2:ts=!0}}G=A.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(q=X=Q,O=te):X=X.next=Q,v|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(O=te),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ls|=v,t.lanes=v,t.memoizedState=te}}function b_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function R_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)b_(a[t],r)}var so=L(null),Bc=L(0);function C_(t,r){t=vr,oe(Bc,t),oe(so,r),vr=t|r.baseLanes}function Bd(){oe(Bc,vr),oe(so,so.current)}function Hd(){vr=Bc.current,W(so),W(Bc)}var Vn=L(null),Xn=null;function rs(t){var r=t.alternate;oe(Rt,Rt.current&1),oe(Vn,t),Xn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Xn=t)}function qd(t){oe(Rt,Rt.current),oe(Vn,t),Xn===null&&(Xn=t)}function I_(t){t.tag===22?(oe(Rt,Rt.current),oe(Vn,t),Xn===null&&(Xn=t)):ss()}function ss(){oe(Rt,Rt.current),oe(Vn,Vn.current)}function Ln(t){W(Vn),Xn===t&&(Xn=null),W(Rt)}var Rt=L(0);function Hc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ym(a)||Xm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,xe=null,it=null,Pt=null,qc=!1,ao=!1,da=!1,Fc=0,Pl=0,oo=null,UR=0;function vt(){throw Error(s(321))}function Fd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!On(t[a],r[a]))return!1;return!0}function Gd(t,r,a,u,h,d){return fr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?fv:am,da=!1,d=a(u,h),da=!1,ao&&(d=D_(r,a,u,h)),N_(t),d}function N_(t){K.H=zl;var r=it!==null&&it.next!==null;if(fr=0,Pt=it=xe=null,qc=!1,Pl=0,oo=null,r)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&Vc(t)&&(Ut=!0))}function D_(t,r,a,u){xe=t;var h=0;do{if(ao&&(oo=null),Pl=0,ao=!1,25<=h)throw Error(s(301));if(h+=1,Pt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=hv,d=r(a,u)}while(ao);return d}function jR(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?Ul(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(xe.flags|=1024),r}function $d(){var t=Fc!==0;return Fc=0,t}function Kd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Qd(t){if(qc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}qc=!1}fr=0,Pt=it=xe=null,ao=!1,Pl=Fc=0,oo=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?xe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ct(){if(it===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Pt===null?xe.memoizedState:Pt.next;if(r!==null)Pt=r,it=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?xe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var r=Pl;return Pl+=1,oo===null&&(oo=[]),t=E_(oo,t,r),r=xe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?fv:am),t}function $c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===ie)return tn(t)}throw Error(s(438,String(t)))}function Yd(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Gc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),u=0;u<t;u++)a[u]=V;return r.index++,a}function hr(t,r){return typeof r=="function"?r(t):r}function Kc(t){var r=Ct();return Xd(r,it,t)}function Xd(t,r,a){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=t.baseQueue,d=u.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,u.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var A=v=null,O=null,q=r,X=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(ze&te)===te:(fr&te)===te){var G=q.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===to&&(X=!0);else if((fr&G)===G){q=q.next,G===to&&(X=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=te,v=d):O=O.next=te,xe.lanes|=G,ls|=G;te=q.action,da&&a(d,te),d=q.hasEagerState?q.eagerState:a(d,te)}else G={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=G,v=d):O=O.next=G,xe.lanes|=te,ls|=te;q=q.next}while(q!==null&&q!==r);if(O===null?v=d:O.next=A,!On(d,t.memoizedState)&&(Ut=!0,X&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,u.lastRenderedState=d}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Wd(t){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var u=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);On(d,r.memoizedState)||(Ut=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function x_(t,r,a){var u=xe,h=Ct(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!On((it||h).memoizedState,a);if(v&&(h.memoizedState=a,Ut=!0),h=h.queue,em(V_.bind(null,u,h,t),[t]),h.getSnapshot!==r||v||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,lo(9,{destroy:void 0},M_.bind(null,u,h,a,r),null),ot===null)throw Error(s(349));d||(fr&127)!==0||O_(u,r,a)}return a}function O_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Gc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function M_(t,r,a,u){r.value=a,r.getSnapshot=u,L_(r)&&k_(t)}function V_(t,r,a){return a(function(){L_(r)&&k_(t)})}function L_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!On(t,a)}catch{return!0}}function k_(t){var r=ra(t,2);r!==null&&An(r,t,2)}function Jd(t){var r=pn();if(typeof t=="function"){var a=t;if(t=a(),da){zn(!0);try{a()}finally{zn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t},r}function P_(t,r,a,u){return t.baseState=a,Xd(t,it,typeof u=="function"?u:hr)}function zR(t,r,a,u,h){if(Xc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,U_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function U_(t,r){var a=r.action,u=r.payload,h=t.state;if(r.isTransition){var d=K.T,v={};K.T=v;try{var A=a(h,u),O=K.S;O!==null&&O(v,A),j_(t,r,A)}catch(q){Zd(t,r,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(h,u),j_(t,r,d)}catch(q){Zd(t,r,q)}}function j_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){z_(t,r,u)},function(u){return Zd(t,r,u)}):z_(t,r,a)}function z_(t,r,a){r.status="fulfilled",r.value=a,B_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,U_(t,a)))}function Zd(t,r,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,B_(r),r=r.next;while(r!==u)}t.action=null}function B_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function H_(t,r){return r}function q_(t,r){if(Ge){var a=ot.formState;if(a!==null){e:{var u=xe;if(Ge){if(ut){t:{for(var h=ut,d=Yn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Wn(h.nextSibling),u=h.data==="F!";break e}}Zr(u)}u=!1}u&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:r},a.queue=u,a=lv.bind(null,xe,u),u.dispatch=a,u=Jd(!1),d=sm.bind(null,xe,!1,u.queue),u=pn(),h={state:r,dispatch:null,action:t,pending:null},u.queue=h,a=zR.bind(null,xe,h,d,a),h.dispatch=a,u.memoizedState=t,[r,a,!1]}function F_(t){var r=Ct();return G_(r,it,t)}function G_(t,r,a){if(r=Xd(t,r,H_)[0],t=Kc(hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ul(r)}catch(v){throw v===io?Pc:v}else u=r;r=Ct();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,lo(9,{destroy:void 0},BR.bind(null,h,a),null)),[u,d,t]}function BR(t,r){t.action=r}function $_(t){var r=Ct(),a=it;if(a!==null)return G_(r,a,t);Ct(),r=r.memoizedState,a=Ct();var u=a.queue.dispatch;return a.memoizedState=t,[r,u,!1]}function lo(t,r,a,u){return t={tag:t,create:a,deps:u,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Gc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t),t}function K_(){return Ct().memoizedState}function Qc(t,r,a,u){var h=pn();xe.flags|=t,h.memoizedState=lo(1|r,{destroy:void 0},a,u===void 0?null:u)}function Yc(t,r,a,u){var h=Ct();u=u===void 0?null:u;var d=h.memoizedState.inst;it!==null&&u!==null&&Fd(u,it.memoizedState.deps)?h.memoizedState=lo(r,d,a,u):(xe.flags|=t,h.memoizedState=lo(1|r,d,a,u))}function Q_(t,r){Qc(8390656,8,t,r)}function em(t,r){Yc(2048,8,t,r)}function HR(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Gc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Y_(t){var r=Ct().memoizedState;return HR({ref:r,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function X_(t,r){return Yc(4,2,t,r)}function W_(t,r){return Yc(4,4,t,r)}function J_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Z_(t,r,a){a=a!=null?a.concat([t]):null,Yc(4,4,J_.bind(null,r,t),a)}function tm(){}function ev(t,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Fd(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function tv(t,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Fd(r,u[1]))return u[0];if(u=t(),da){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[u,r],u}function nm(t,r,a){return a===void 0||(fr&1073741824)!==0&&(ze&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=nE(),xe.lanes|=t,ls|=t,a)}function nv(t,r,a,u){return On(a,r)?a:so.current!==null?(t=nm(t,a,u),On(t,r)||(Ut=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(ze&261930)===0?(Ut=!0,t.memoizedState=a):(t=nE(),xe.lanes|=t,ls|=t,r)}function iv(t,r,a,u,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=K.T,A={};K.T=A,sm(t,!1,r,a);try{var O=h(),q=K.S;if(q!==null&&q(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=PR(O,u);jl(t,r,X,Un(t))}else jl(t,r,u,Un(t))}catch(te){jl(t,r,{then:function(){},status:"rejected",reason:te},Un())}finally{le.p=d,v!==null&&A.types!==null&&(v.types=A.types),K.T=v}}function qR(){}function im(t,r,a,u){if(t.tag!==5)throw Error(s(476));var h=rv(t).queue;iv(t,h,r,fe,a===null?qR:function(){return sv(t),a(u)})}function rv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function sv(t){var r=rv(t);r.next===null&&(r=t.alternate.memoizedState),jl(t,r.next.queue,{},Un())}function rm(){return tn(nu)}function av(){return Ct().memoizedState}function ov(){return Ct().memoizedState}function FR(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Un();t=ns(a);var u=is(r,t,a);u!==null&&(An(u,r,a),Vl(u,r,a)),r={cache:Md()},t.payload=r;return}r=r.return}}function GR(t,r,a){var u=Un();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(t)?uv(r,a):(a=Sd(t,r,a,u),a!==null&&(An(a,t,u),cv(a,r,u)))}function lv(t,r,a){var u=Un();jl(t,r,a,u)}function jl(t,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(t))uv(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,On(A,v))return Dc(t,r,h,0),ot===null&&Nc(),!1}catch{}finally{}if(a=Sd(t,r,h,u),a!==null)return An(a,t,u),cv(a,r,u),!0}return!1}function sm(t,r,a,u){if(u={lane:2,revertLane:Pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xc(t)){if(r)throw Error(s(479))}else r=Sd(t,a,u,2),r!==null&&An(r,t,2)}function Xc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function uv(t,r){ao=qc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function cv(t,r,a){if((a&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,ol(t,a)}}var zl={readContext:tn,use:$c,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};zl.useEffectEvent=vt;var fv={readContext:tn,use:$c,useCallback:function(t,r){return pn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:Q_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Qc(4194308,4,J_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Qc(4194308,4,t,r)},useInsertionEffect:function(t,r){Qc(4,2,t,r)},useMemo:function(t,r){var a=pn();r=r===void 0?null:r;var u=t();if(da){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(t,r,a){var u=pn();if(a!==void 0){var h=a(r);if(da){zn(!0);try{a(r)}finally{zn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=GR.bind(null,xe,t),[u.memoizedState,t]},useRef:function(t){var r=pn();return t={current:t},r.memoizedState=t},useState:function(t){t=Jd(t);var r=t.queue,a=lv.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:tm,useDeferredValue:function(t,r){var a=pn();return nm(a,t,r)},useTransition:function(){var t=Jd(!1);return t=iv.bind(null,xe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var u=xe,h=pn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(ze&127)!==0||O_(u,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Q_(V_.bind(null,u,d,t),[t]),u.flags|=2048,lo(9,{destroy:void 0},M_.bind(null,u,d,a,r),null),a},useId:function(){var t=pn(),r=ot.identifierPrefix;if(Ge){var a=ji,u=Ui;a=(u&~(1<<32-wt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Fc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=UR++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:rm,useFormState:q_,useActionState:q_,useOptimistic:function(t){var r=pn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=sm.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yd,useCacheRefresh:function(){return pn().memoizedState=FR.bind(null,xe)},useEffectEvent:function(t){var r=pn(),a={impl:t};return r.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},am={readContext:tn,use:$c,useCallback:ev,useContext:tn,useEffect:em,useImperativeHandle:Z_,useInsertionEffect:X_,useLayoutEffect:W_,useMemo:tv,useReducer:Kc,useRef:K_,useState:function(){return Kc(hr)},useDebugValue:tm,useDeferredValue:function(t,r){var a=Ct();return nv(a,it.memoizedState,t,r)},useTransition:function(){var t=Kc(hr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ul(t),r]},useSyncExternalStore:x_,useId:av,useHostTransitionStatus:rm,useFormState:F_,useActionState:F_,useOptimistic:function(t,r){var a=Ct();return P_(a,it,t,r)},useMemoCache:Yd,useCacheRefresh:ov};am.useEffectEvent=Y_;var hv={readContext:tn,use:$c,useCallback:ev,useContext:tn,useEffect:em,useImperativeHandle:Z_,useInsertionEffect:X_,useLayoutEffect:W_,useMemo:tv,useReducer:Wd,useRef:K_,useState:function(){return Wd(hr)},useDebugValue:tm,useDeferredValue:function(t,r){var a=Ct();return it===null?nm(a,t,r):nv(a,it.memoizedState,t,r)},useTransition:function(){var t=Wd(hr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ul(t),r]},useSyncExternalStore:x_,useId:av,useHostTransitionStatus:rm,useFormState:$_,useActionState:$_,useOptimistic:function(t,r){var a=Ct();return it!==null?P_(a,it,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:ov};hv.useEffectEvent=Y_;function om(t,r,a,u){r=t.memoizedState,a=a(u,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lm={enqueueSetState:function(t,r,a){t=t._reactInternals;var u=Un(),h=ns(u);h.payload=r,a!=null&&(h.callback=a),r=is(t,h,u),r!==null&&(An(r,t,u),Vl(r,t,u))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=Un(),h=ns(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=is(t,h,u),r!==null&&(An(r,t,u),Vl(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Un(),u=ns(a);u.tag=2,r!=null&&(u.callback=r),r=is(t,u,a),r!==null&&(An(r,t,a),Vl(r,t,a))}};function dv(t,r,a,u,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!Rl(a,u)||!Rl(h,d):!0}function mv(t,r,a,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==t&&lm.enqueueReplaceState(r,r.state,null)}function ma(t,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function pv(t){Ic(t)}function gv(t){console.error(t)}function yv(t){Ic(t)}function Wc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function _v(t,r,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function um(t,r,a){return a=ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Wc(t,r)},a}function vv(t){return t=ns(t),t.tag=3,t}function Ev(t,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=u.value;t.payload=function(){return h(d)},t.callback=function(){_v(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_v(r,a,u),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function $R(t,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?cf():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Uc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Vm(t,u,h)),!1;case 22:return a.flags|=65536,u===Uc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Vm(t,u,h)),!1}throw Error(s(435,a.tag))}return Vm(t,u,h),cf(),!1}if(Ge)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Id&&(t=Error(s(422),{cause:u}),Nl($n(t,a)))):(u!==Id&&(r=Error(s(423),{cause:u}),Nl($n(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=$n(u,a),h=um(t.stateNode,u,h),jd(t,h),Et!==4&&(Et=2)),!1;var d=Error(s(520),{cause:u});if(d=$n(d,a),Ql===null?Ql=[d]:Ql.push(d),Et!==4&&(Et=2),r===null)return!0;u=$n(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=um(a.stateNode,u,t),jd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vv(h),Ev(h,t,a,u),jd(a,h),!1}a=a.return}while(a!==null);return!1}var cm=Error(s(461)),Ut=!1;function nn(t,r,a,u){r.child=t===null?w_(r,null,a,u):ha(r,t.child,a,u)}function Tv(t,r,a,u,h){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return la(r),u=Gd(t,r,a,v,d,h),A=$d(),t!==null&&!Ut?(Kd(t,r,h),dr(t,r,h)):(Ge&&A&&Rd(r),r.flags|=1,nn(t,r,u,h),r.child)}function Sv(t,r,a,u,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ad(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Av(t,r,d,u,h)):(t=Oc(a.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!_m(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(v,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=or(d,u),t.ref=r.ref,t.return=r,r.child=t}function Av(t,r,a,u,h){if(t!==null){var d=t.memoizedProps;if(Rl(d,u)&&t.ref===r.ref)if(Ut=!1,r.pendingProps=u=d,_m(t,h))(t.flags&131072)!==0&&(Ut=!0);else return r.lanes=t.lanes,dr(t,r,h)}return fm(t,r,a,u,h)}function wv(t,r,a,u){var h=u.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(u=r.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~d}else u=0,r.child=null;return bv(t,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&kc(r,d!==null?d.cachePool:null),d!==null?C_(r,d):Bd(),I_(r);else return u=r.lanes=536870912,bv(t,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(kc(r,d.cachePool),C_(r,d),ss(),r.memoizedState=null):(t!==null&&kc(r,null),Bd(),ss());return nn(t,r,h,a),r.child}function Bl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function bv(t,r,a,u,h){var d=Ld();return d=d===null?null:{parent:kt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&kc(r,null),Bd(),I_(r),t!==null&&eo(t,r,u,!0),r.childLanes=h,null}function Jc(t,r){return r=ef({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Rv(t,r,a){return ha(r,t.child,null,a),t=Jc(r,r.pendingProps),t.flags|=2,Ln(r),r.memoizedState=null,t}function KR(t,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ge){if(u.mode==="hidden")return t=Jc(r,u),r.lanes=536870912,Bl(null,t);if(qd(r),(t=ut)?(t=UE(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=u_(t),a.return=r,r.child=a,en=r,ut=null)):t=null,t===null)throw Zr(r);return r.lanes=536870912,null}return Jc(r,u)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(qd(r),h)if(r.flags&256)r.flags&=-257,r=Rv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||eo(t,r,a,!1),h=(a&t.childLanes)!==0,Ut||h){if(u=ot,u!==null&&(v=ll(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ra(t,v),An(u,t,v),cm;cf(),r=Rv(t,r,a)}else t=d.treeContext,ut=Wn(v.nextSibling),en=r,Ge=!0,Jr=null,Yn=!1,t!==null&&h_(r,t),r=Jc(r,u),r.flags|=4096;return r}return t=or(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Zc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function fm(t,r,a,u,h){return la(r),a=Gd(t,r,a,u,void 0,h),u=$d(),t!==null&&!Ut?(Kd(t,r,h),dr(t,r,h)):(Ge&&u&&Rd(r),r.flags|=1,nn(t,r,a,h),r.child)}function Cv(t,r,a,u,h,d){return la(r),r.updateQueue=null,a=D_(r,u,a,h),N_(t),u=$d(),t!==null&&!Ut?(Kd(t,r,d),dr(t,r,d)):(Ge&&u&&Rd(r),r.flags|=1,nn(t,r,a,d),r.child)}function Iv(t,r,a,u,h){if(la(r),r.stateNode===null){var d=Xa,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Pd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Xa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(om(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&lm.enqueueReplaceState(d,d.state,null),kl(r,u,d,h),Ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,O=ma(a,A);d.props=O;var q=d.context,X=a.contextType;v=Xa,typeof X=="object"&&X!==null&&(v=tn(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==v)&&mv(r,d,u,v),ts=!1;var G=r.memoizedState;d.state=G,kl(r,u,d,h),Ll(),q=r.memoizedState,A||G!==q||ts?(typeof te=="function"&&(om(r,a,te,u),q=r.memoizedState),(O=ts||dv(r,a,O,u,G,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),d.props=u,d.state=q,d.context=v,u=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Ud(t,r),v=r.memoizedProps,X=ma(a,v),d.props=X,te=r.pendingProps,G=d.context,q=a.contextType,O=Xa,typeof q=="object"&&q!==null&&(O=tn(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==O)&&mv(r,d,u,O),ts=!1,G=r.memoizedState,d.state=G,kl(r,u,d,h),Ll();var Q=r.memoizedState;v!==te||G!==Q||ts||t!==null&&t.dependencies!==null&&Vc(t.dependencies)?(typeof A=="function"&&(om(r,a,A,u),Q=r.memoizedState),(X=ts||dv(r,a,X,u,G,Q,O)||t!==null&&t.dependencies!==null&&Vc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),d.props=u,d.state=Q,d.context=O,u=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return d=u,Zc(t,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&u?(r.child=ha(r,t.child,null,h),r.child=ha(r,null,a,h)):nn(t,r,a,h),r.memoizedState=d.state,t=r.child):t=dr(t,r,h),t}function Nv(t,r,a,u){return aa(),r.flags|=256,nn(t,r,a,u),r.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(t){return{baseLanes:t,cachePool:__()}}function mm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Pn),t}function Dv(t,r,a){var u=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?rs(r):ss(),(t=ut)?(t=UE(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=u_(t),a.return=r,r.child=a,en=r,ut=null)):t=null,t===null)throw Zr(r);return Xm(t)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,h?(ss(),h=r.mode,A=ef({mode:"hidden",children:A},h),u=sa(u,h,a,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=dm(a),u.childLanes=mm(t,v,a),r.memoizedState=hm,Bl(null,u)):(rs(r),pm(r,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)r.flags&256?(rs(r),r.flags&=-257,r=gm(t,r,a)):r.memoizedState!==null?(ss(),r.child=t.child,r.flags|=128,r=null):(ss(),A=u.fallback,h=r.mode,u=ef({mode:"visible",children:u.children},h),A=sa(A,h,a,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ha(r,t.child,null,a),u=r.child,u.memoizedState=dm(a),u.childLanes=mm(t,v,a),r.memoizedState=hm,r=Bl(null,u));else if(rs(r),Xm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var q=v.dgst;v=q,u=Error(s(419)),u.stack="",u.digest=v,Nl({value:u,source:null,stack:null}),r=gm(t,r,a)}else if(Ut||eo(t,r,a,!1),v=(a&t.childLanes)!==0,Ut||v){if(v=ot,v!==null&&(u=ll(v,a),u!==0&&u!==O.retryLane))throw O.retryLane=u,ra(t,u),An(v,t,u),cm;Ym(A)||cf(),r=gm(t,r,a)}else Ym(A)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ut=Wn(A.nextSibling),en=r,Ge=!0,Jr=null,Yn=!1,t!==null&&h_(r,t),r=pm(r,u.children),r.flags|=4096);return r}return h?(ss(),A=u.fallback,h=r.mode,O=t.child,q=O.sibling,u=or(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,q!==null?A=or(q,A):(A=sa(A,h,a,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Bl(null,u),u=r.child,A=t.child.memoizedState,A===null?A=dm(a):(h=A.cachePool,h!==null?(O=kt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=__(),A={baseLanes:A.baseLanes|a,cachePool:h}),u.memoizedState=A,u.childLanes=mm(t,v,a),r.memoizedState=hm,Bl(t.child,u)):(rs(r),a=t.child,t=a.sibling,a=or(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function pm(t,r){return r=ef({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ef(t,r){return t=Mn(22,t,null,r),t.lanes=0,t}function gm(t,r,a){return ha(r,t.child,null,a),t=pm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function xv(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),xd(t.return,r,a)}function ym(t,r,a,u,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ov(t,r,a){var u=r.pendingProps,h=u.revealOrder,d=u.tail;u=u.children;var v=Rt.current,A=(v&2)!==0;if(A?(v=v&1|2,r.flags|=128):v&=1,oe(Rt,v),nn(t,r,u,a),u=Ge?Il:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,a,r);else if(t.tag===19)xv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ym(r,!1,h,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Hc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ym(r,!0,a,null,d,u);break;case"together":ym(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function dr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ls|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=or(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=or(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _m(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Vc(t)))}function QR(t,r,a){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),es(r,kt,t.memoizedState.cache),aa();break;case 27:case 5:Le(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:es(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,qd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(rs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Dv(t,r,a):(rs(r),t=dr(t,r,a),t!==null?t.sibling:null);rs(r);break;case 19:var h=(t.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(eo(t,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return Ov(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Rt,Rt.current),u)break;return null;case 22:return r.lanes=0,wv(t,r,a,r.pendingProps);case 24:es(r,kt,t.memoizedState.cache)}return dr(t,r,a)}function Mv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ut=!0;else{if(!_m(t,a)&&(r.flags&128)===0)return Ut=!1,QR(t,r,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ge&&(r.flags&1048576)!==0&&f_(r,Il,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=ca(r.elementType),r.type=t,typeof t=="function")Ad(t)?(u=ma(t,u),r.tag=1,r=Iv(null,r,t,u,a)):(r.tag=0,r=fm(null,r,t,u,a));else{if(t!=null){var h=t.$$typeof;if(h===ae){r.tag=11,r=Tv(null,r,t,u,a);break e}else if(h===I){r.tag=14,r=Sv(null,r,t,u,a);break e}}throw r=ke(t)||t,Error(s(306,r,""))}}return r;case 0:return fm(t,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=ma(u,r.pendingProps),Iv(t,r,u,h,a);case 3:e:{if(yt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;h=d.element,Ud(t,r),kl(r,u,null,a);var v=r.memoizedState;if(u=v.cache,es(r,kt,u),u!==d.cache&&Od(r,[kt],a,!0),Ll(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Nv(t,r,u,a);break e}else if(u!==h){h=$n(Error(s(424)),r),Nl(h),r=Nv(t,r,u,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Wn(t.firstChild),en=r,Ge=!0,Jr=null,Yn=!0,a=w_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),u===h){r=dr(t,r,a);break e}nn(t,r,u,a)}r=r.child}return r;case 26:return Zc(t,r),t===null?(a=FE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,t=r.pendingProps,u=yf(be.current).createElement(a),u[Mt]=r,u[Kt]=t,rn(u,a,t),Vt(u),r.stateNode=u):r.memoizedState=FE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Le(r),t===null&&Ge&&(u=r.stateNode=BE(r.type,r.pendingProps,be.current),en=r,Yn=!0,h=ut,ds(r.type)?(Wm=h,ut=Wn(u.firstChild)):ut=h),nn(t,r,r.pendingProps.children,a),Zc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=u=ut)&&(u=w1(u,r.type,r.pendingProps,Yn),u!==null?(r.stateNode=u,en=r,ut=Wn(u.firstChild),Yn=!1,h=!0):h=!1),h||Zr(r)),Le(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,u=d.children,$m(h,d)?u=null:v!==null&&$m(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Gd(t,r,jR,null,null,a),nu._currentValue=h),Zc(t,r),nn(t,r,u,a),r.child;case 6:return t===null&&Ge&&((t=a=ut)&&(a=b1(a,r.pendingProps,Yn),a!==null?(r.stateNode=a,en=r,ut=null,t=!0):t=!1),t||Zr(r)),null;case 13:return Dv(t,r,a);case 4:return yt(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ha(r,null,u,a):nn(t,r,u,a),r.child;case 11:return Tv(t,r,r.type,r.pendingProps,a);case 7:return nn(t,r,r.pendingProps,a),r.child;case 8:return nn(t,r,r.pendingProps.children,a),r.child;case 12:return nn(t,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,es(r,r.type,u.value),nn(t,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,la(r),h=tn(h),u=u(h),r.flags|=1,nn(t,r,u,a),r.child;case 14:return Sv(t,r,r.type,r.pendingProps,a);case 15:return Av(t,r,r.type,r.pendingProps,a);case 19:return Ov(t,r,a);case 31:return KR(t,r,a);case 22:return wv(t,r,a,r.pendingProps);case 24:return la(r),u=tn(kt),t===null?(h=Ld(),h===null&&(h=ot,d=Md(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:u,cache:h},Pd(r),es(r,kt,h)):((t.lanes&a)!==0&&(Ud(t,r),kl(r,null,null,a),Ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),es(r,kt,u)):(u=d.cache,es(r,kt,u),u!==h.cache&&Od(r,[kt],a,!0))),nn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function mr(t){t.flags|=4}function vm(t,r,a,u,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(aE())t.flags|=8192;else throw fa=Uc,kd}else t.flags&=-16777217}function Vv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!YE(r))if(aE())t.flags|=8192;else throw fa=Uc,kd}function tf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?oc():536870912,t.lanes|=r,ho|=r)}function Hl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function YR(t,r,a){var u=r.pendingProps;switch(Cd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cr(kt),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?mr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),ct(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(mr(r),d!==null?(ct(r),Vv(r,d)):(ct(r),vm(r,h,null,u,a))):d?d!==t.memoizedState?(mr(r),ct(r),Vv(r,d)):(ct(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&mr(r),ct(r),vm(r,h,t,u,a)),null;case 27:if(At(r),a=be.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=ue.current,Za(r)?d_(r):(t=BE(h,u,a),r.stateNode=t,mr(r))}return ct(r),null;case 5:if(At(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(d=ue.current,Za(r))d_(r);else{var v=yf(be.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(h,{is:u.is}):v.createElement(h)}}d[Mt]=r,d[Kt]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(rn(d,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&mr(r)}}return ct(r),vm(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&mr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,u=null,h=en,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||DE(t.nodeValue,a)),t||Zr(r,!0)}else t=yf(t).createTextNode(u),t[Mt]=r,r.stateNode=t}return ct(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(u=Za(r),a!==null){if(t===null){if(!u)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),t=!1}else a=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ct(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Za(r),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),h=!1}else h=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==h&&(u.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),tf(r,r.updateQueue),ct(r),null);case 4:return me(),t===null&&Bm(r.stateNode.containerInfo),ct(r),null;case 10:return cr(r.type),ct(r),null;case 19:if(W(Rt),u=r.memoizedState,u===null)return ct(r),null;if(h=(r.flags&128)!==0,d=u.rendering,d===null)if(h)Hl(u,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Hc(t),d!==null){for(r.flags|=128,Hl(u,!1),t=d.updateQueue,r.updateQueue=t,tf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)l_(a,t),a=a.sibling;return oe(Rt,Rt.current&1|2),Ge&&lr(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&dn()>of&&(r.flags|=128,h=!0,Hl(u,!1),r.lanes=4194304)}else{if(!h)if(t=Hc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,tf(r,t),Hl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Ge)return ct(r),null}else 2*dn()-u.renderingStartTime>of&&a!==536870912&&(r.flags|=128,h=!0,Hl(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(t=u.last,t!==null?t.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=dn(),t.sibling=null,a=Rt.current,oe(Rt,h?a&1|2:a&1),Ge&&lr(r,u.treeForkCount),t):(ct(r),null);case 22:case 23:return Ln(r),Hd(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&tf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),t!==null&&W(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),cr(kt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function XR(t,r){switch(Cd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return cr(kt),me(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return At(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Ln(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(Rt),null;case 4:return me(),null;case 10:return cr(r.type),null;case 22:case 23:return Ln(r),Hd(),t!==null&&W(ua),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return cr(kt),null;case 25:return null;default:return null}}function Lv(t,r){switch(Cd(r),r.tag){case 3:cr(kt),me();break;case 26:case 27:case 5:At(r);break;case 4:me();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:W(Rt);break;case 10:cr(r.type);break;case 22:case 23:Ln(r),Hd(),t!==null&&W(ua);break;case 24:cr(kt)}}function ql(t,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&t)===t){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==h)}}catch(A){tt(r,r.return,A)}}function as(t,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var d=h.next;u=d;do{if((u.tag&t)===t){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=r;var O=a,q=A;try{q()}catch(X){tt(h,O,X)}}}u=u.next}while(u!==d)}}catch(X){tt(r,r.return,X)}}function kv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{R_(r,a)}catch(u){tt(t,t.return,u)}}}function Pv(t,r,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){tt(t,r,u)}}function Fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(h){tt(t,r,h)}}function zi(t,r){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){tt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,r,h)}else a.current=null}function Uv(t){var r=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Em(t,r,a){try{var u=t.stateNode;_1(u,t.type,a,r),u[Kt]=r}catch(h){tt(t,t.return,h)}}function jv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function Tm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=si));else if(u!==4&&(u===27&&ds(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Sm(t,r,a),t=t.sibling;t!==null;)Sm(t,r,a),t=t.sibling}function nf(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(u===27&&ds(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nf(t,r,a),t=t.sibling;t!==null;)nf(t,r,a),t=t.sibling}function zv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);rn(r,u,a),r[Mt]=t,r[Kt]=a}catch(d){tt(t,t.return,d)}}var pr=!1,jt=!1,Am=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function WR(t,r){if(t=t.containerInfo,Fm=wf,t=Zy(t),gd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,O=-1,q=0,X=0,te=t,G=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(A=v+h),te!==d||u!==0&&te.nodeType!==3||(O=v+u),te.nodeType===3&&(v+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++q===h&&(A=v),G===d&&++X===u&&(O=v),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gm={focusedElem:t,selectionRange:a},wf=!1,Yt=r;Yt!==null;)if(r=Yt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Yt=t;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var pe=ma(a.type,h);t=u.getSnapshotBeforeUpdate(pe,d),u.__reactInternalSnapshotBeforeUpdate=t}catch(Se){tt(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Qm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Yt=t;break}Yt=r.return}}function Hv(t,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:yr(t,a),u&4&&ql(5,a);break;case 1:if(yr(t,a),u&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var h=ma(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}u&64&&kv(a),u&512&&Fl(a,a.return);break;case 3:if(yr(t,a),u&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{R_(t,r)}catch(v){tt(a,a.return,v)}}break;case 27:r===null&&u&4&&zv(a);case 26:case 5:yr(t,a),r===null&&u&4&&Uv(a),u&512&&Fl(a,a.return);break;case 12:yr(t,a);break;case 31:yr(t,a),u&4&&Gv(t,a);break;case 13:yr(t,a),u&4&&$v(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=a1.bind(null,a),R1(t,a))));break;case 22:if(u=a.memoizedState!==null||pr,!u){r=r!==null&&r.memoizedState!==null||jt,h=pr;var d=jt;pr=u,(jt=r)&&!d?_r(t,a,(a.subtreeFlags&8772)!==0):yr(t,a),pr=h,jt=d}break;case 30:break;default:yr(t,a)}}function qv(t){var r=t.alternate;r!==null&&(t.alternate=null,qv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ka(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,vn=!1;function gr(t,r,a){for(a=a.child;a!==null;)Fv(t,r,a),a=a.sibling}function Fv(t,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:jt||zi(a,r),gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||zi(a,r);var u=mt,h=vn;ds(a.type)&&(mt=a.stateNode,vn=!1),gr(t,r,a),Zl(a.stateNode),mt=u,vn=h;break;case 5:jt||zi(a,r);case 6:if(u=mt,h=vn,mt=null,gr(t,r,a),mt=u,vn=h,mt!==null)if(vn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{mt.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:mt!==null&&(vn?(t=mt,kE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):kE(mt,a.stateNode));break;case 4:u=mt,h=vn,mt=a.stateNode.containerInfo,vn=!0,gr(t,r,a),mt=u,vn=h;break;case 0:case 11:case 14:case 15:as(2,a,r),jt||as(4,a,r),gr(t,r,a);break;case 1:jt||(zi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Pv(a,r,u)),gr(t,r,a);break;case 21:gr(t,r,a);break;case 22:jt=(u=jt)||a.memoizedState!==null,gr(t,r,a),jt=u;break;default:gr(t,r,a)}}function Gv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){tt(r,r.return,a)}}}function $v(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){tt(r,r.return,a)}}function JR(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Bv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Bv),r;default:throw Error(s(435,t.tag))}}function rf(t,r){var a=JR(t);r.forEach(function(u){if(!a.has(u)){a.add(u);var h=o1.bind(null,t,u);u.then(h,h)}})}function En(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],d=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(ds(A.type)){mt=A.stateNode,vn=!1;break e}break;case 5:mt=A.stateNode,vn=!1;break e;case 3:case 4:mt=A.stateNode.containerInfo,vn=!0;break e}A=A.return}if(mt===null)throw Error(s(160));Fv(d,v,h),mt=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Kv(r,t),r=r.sibling}var fi=null;function Kv(t,r){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Tn(t),u&4&&(as(3,t,t.return),ql(3,t),as(5,t,t.return));break;case 1:En(r,t),Tn(t),u&512&&(jt||a===null||zi(a,a.return)),u&64&&pr&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=fi;if(En(r,t),Tn(t),u&512&&(jt||a===null||zi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ri]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(u),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,u,a),d[Mt]=t,Vt(d),u=d;break e;case"link":var v=KE("link","href",h).get(u+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(u),rn(d,u,a),h.head.appendChild(d);break;case"meta":if(v=KE("meta","content",h).get(u+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(u),rn(d,u,a),h.head.appendChild(d);break;default:throw Error(s(468,u))}d[Mt]=t,Vt(d),u=d}t.stateNode=u}else QE(h,t.type,t.stateNode);else t.stateNode=$E(h,u,t.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?QE(h,t.type,t.stateNode):$E(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Em(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Tn(t),u&512&&(jt||a===null||zi(a,a.return)),a!==null&&u&4&&Em(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Tn(t),u&512&&(jt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(pe){tt(t,t.return,pe)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,Em(t,h,a!==null?a.memoizedProps:h)),u&1024&&(Am=!0);break;case 6:if(En(r,t),Tn(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(pe){tt(t,t.return,pe)}}break;case 3:if(Ef=null,h=fi,fi=_f(r.containerInfo),En(r,t),fi=h,Tn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(pe){tt(t,t.return,pe)}Am&&(Am=!1,Qv(t));break;case 4:u=fi,fi=_f(t.stateNode.containerInfo),En(r,t),Tn(t),fi=u;break;case 12:En(r,t),Tn(t);break;case 31:En(r,t),Tn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,rf(t,u)));break;case 13:En(r,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(af=dn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,rf(t,u)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=pr,X=jt;if(pr=q||h,jt=X||O,En(r,t),jt=X,pr=q,Tn(t),u&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||pr||jt||pa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=O.stateNode;var te=O.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===18){if(a===null){O=r;try{var Q=O.stateNode;h?PE(Q,!0):PE(O.stateNode,!1)}catch(pe){tt(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,rf(t,a))));break;case 19:En(r,t),Tn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,rf(t,u)));break;case 30:break;case 21:break;default:En(r,t),Tn(t)}}function Tn(t){var r=t.flags;if(r&2){try{for(var a,u=t.return;u!==null;){if(jv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Tm(t);nf(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var A=Tm(t);nf(t,A,v);break;case 3:case 4:var O=a.stateNode.containerInfo,q=Tm(t);Sm(t,q,O);break;default:throw Error(s(161))}}catch(X){tt(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Qv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function yr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hv(t,r.alternate,r),r=r.sibling}function pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),pa(r);break;case 1:zi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Pv(r,r.return,a),pa(r);break;case 27:Zl(r.stateNode);case 26:case 5:zi(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}t=t.sibling}}function _r(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(h,d,a),ql(4,d);break;case 1:if(_r(h,d,a),u=d,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){tt(u,u.return,q)}if(u=d,h=u.updateQueue,h!==null){var A=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)b_(O[h],A)}catch(q){tt(u,u.return,q)}}a&&v&64&&kv(d),Fl(d,d.return);break;case 27:zv(d);case 26:case 5:_r(h,d,a),a&&u===null&&v&4&&Uv(d),Fl(d,d.return);break;case 12:_r(h,d,a);break;case 31:_r(h,d,a),a&&v&4&&Gv(h,d);break;case 13:_r(h,d,a),a&&v&4&&$v(h,d);break;case 22:d.memoizedState===null&&_r(h,d,a),Fl(d,d.return);break;case 30:break;default:_r(h,d,a)}r=r.sibling}}function wm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function bm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t))}function hi(t,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yv(t,r,a,u),r=r.sibling}function Yv(t,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,u),h&2048&&ql(9,r);break;case 1:hi(t,r,a,u);break;case 3:hi(t,r,a,u),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){hi(t,r,a,u),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){tt(r,r.return,O)}}else hi(t,r,a,u);break;case 31:hi(t,r,a,u);break;case 13:hi(t,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?hi(t,r,a,u):Gl(t,r):d._visibility&2?hi(t,r,a,u):(d._visibility|=2,uo(t,r,a,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&wm(v,r);break;case 24:hi(t,r,a,u),h&2048&&bm(r.alternate,r);break;default:hi(t,r,a,u)}}function uo(t,r,a,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,A=a,O=u,q=v.flags;switch(v.tag){case 0:case 11:case 15:uo(d,v,A,O,h),ql(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?uo(d,v,A,O,h):Gl(d,v):(X._visibility|=2,uo(d,v,A,O,h)),h&&q&2048&&wm(v.alternate,v);break;case 24:uo(d,v,A,O,h),h&&q&2048&&bm(v.alternate,v);break;default:uo(d,v,A,O,h)}r=r.sibling}}function Gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,u=r,h=u.flags;switch(u.tag){case 22:Gl(a,u),h&2048&&wm(u.alternate,u);break;case 24:Gl(a,u),h&2048&&bm(u.alternate,u);break;default:Gl(a,u)}r=r.sibling}}var $l=8192;function co(t,r,a){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)Xv(t,r,a),t=t.sibling}function Xv(t,r,a){switch(t.tag){case 26:co(t,r,a),t.flags&$l&&t.memoizedState!==null&&U1(a,fi,t.memoizedState,t.memoizedProps);break;case 5:co(t,r,a);break;case 3:case 4:var u=fi;fi=_f(t.stateNode.containerInfo),co(t,r,a),fi=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=$l,$l=16777216,co(t,r,a),$l=u):co(t,r,a));break;default:co(t,r,a)}}function Wv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Kl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,Zv(u,t)}Wv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jv(t),t=t.sibling}function Jv(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&as(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,sf(t)):Kl(t);break;default:Kl(t)}}function sf(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,Zv(u,t)}Wv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:as(8,r,r.return),sf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,sf(r));break;default:sf(r)}t=t.sibling}}function Zv(t,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:as(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Yt=u;else e:for(a=t;Yt!==null;){u=Yt;var h=u.sibling,d=u.return;if(qv(u),u===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var ZR={getCacheForType:function(t){var r=tn(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return tn(kt).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,Ue=null,ze=0,et=0,kn=null,os=!1,fo=!1,Rm=!1,vr=0,Et=0,ls=0,ga=0,Cm=0,Pn=0,ho=0,Ql=null,Sn=null,Im=!1,af=0,eE=0,of=1/0,lf=null,us=null,Ft=0,cs=null,mo=null,Er=0,Nm=0,Dm=null,tE=null,Yl=0,xm=null;function Un(){return(Xe&2)!==0&&ze!==0?ze&-ze:K.T!==null?Pm():lc()}function nE(){if(Pn===0)if((ze&536870912)===0||Ge){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Pn=t}else Pn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Pn}function An(t,r,a){(t===ot&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(po(t,0),fs(t,ze,Pn,!1)),Fs(t,a),((Xe&2)===0||t!==ot)&&(t===ot&&((Xe&2)===0&&(ga|=a),Et===4&&fs(t,ze,Pn,!1)),Bi(t))}function iE(t,r,a){if((Xe&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ni(t,r),h=u?i1(t,r):Mm(t,r,!0),d=u;do{if(h===0){fo&&!u&&fs(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!t1(a)){h=Mm(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var A=t;h=Ql;var O=A.current.memoizedState.isDehydrated;if(O&&(po(A,v).flags|=256),v=Mm(A,v,!1),v!==2){if(Rm&&!O){A.errorRecoveryDisabledLanes|=d,ga|=d,h=4;break e}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){po(t,0),fs(t,r,0,!0);break}e:{switch(u=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fs(u,r,Pn,!os);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=af+300-dn(),10<h)){if(fs(u,r,Pn,!os),Ai(u,0,!0)!==0)break e;Er=r,u.timeoutHandle=VE(rE.bind(null,u,a,Sn,lf,Im,r,Pn,ga,ho,os,d,"Throttled",-0,0),h);break e}rE(u,a,Sn,lf,Im,r,Pn,ga,ho,os,d,null,-0,0)}}break}while(!0);Bi(t)}function rE(t,r,a,u,h,d,v,A,O,q,X,te,G,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Xv(r,d,te);var pe=(d&62914560)===d?af-dn():(d&4194048)===d?eE-dn():0;if(pe=j1(te,pe),pe!==null){Er=d,t.cancelPendingCommit=pe(hE.bind(null,t,r,d,a,u,h,v,A,O,X,te,null,G,Q)),fs(t,d,v,!q);return}}hE(t,r,d,a,u,h,v,A,O)}function t1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],d=h.getSnapshot;h=h.value;try{if(!On(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fs(t,r,a,u){r&=~Cm,r&=~ga,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var h=r;0<h;){var d=31-wt(h),v=1<<d;u[d]=-1,h&=~v}a!==0&&Gs(t,a,r)}function uf(){return(Xe&6)===0?(Xl(0),!1):!0}function Om(){if(Ue!==null){if(et===0)var t=Ue.return;else t=Ue,ur=oa=null,Qd(t),ro=null,Ol=0,t=Ue;for(;t!==null;)Lv(t.alternate,t),t=t.return;Ue=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,T1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Er=0,Om(),ot=t,Ue=a=or(t.current,null),ze=r,et=0,kn=null,os=!1,fo=ni(t,r),Rm=!1,ho=Pn=Cm=ga=ls=Et=0,Sn=Ql=null,Im=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var h=31-wt(u),d=1<<h;r|=t[h],u&=~d}return vr=r,Nc(),a}function sE(t,r){xe=null,K.H=zl,r===io||r===Pc?(r=T_(),et=3):r===kd?(r=T_(),et=4):et=r===cm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Ue===null&&(Et=1,Wc(t,$n(r,t.current)))}function aE(){var t=Vn.current;return t===null?!0:(ze&4194048)===ze?Xn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Xn:!1}function oE(){var t=K.H;return K.H=zl,t===null?zl:t}function lE(){var t=K.A;return K.A=ZR,t}function cf(){Et=4,os||(ze&4194048)!==ze&&Vn.current!==null||(fo=!0),(ls&134217727)===0&&(ga&134217727)===0||ot===null||fs(ot,ze,Pn,!1)}function Mm(t,r,a){var u=Xe;Xe|=2;var h=oE(),d=lE();(ot!==t||ze!==r)&&(lf=null,po(t,r)),r=!1;var v=Et;e:do try{if(et!==0&&Ue!==null){var A=Ue,O=kn;switch(et){case 8:Om(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var q=et;if(et=0,kn=null,go(t,A,O,q),a&&fo){v=0;break e}break;default:q=et,et=0,kn=null,go(t,A,O,q)}}n1(),v=Et;break}catch(X){sE(t,X)}while(!0);return r&&t.shellSuspendCounter++,ur=oa=null,Xe=u,K.H=h,K.A=d,Ue===null&&(ot=null,ze=0,Nc()),v}function n1(){for(;Ue!==null;)uE(Ue)}function i1(t,r){var a=Xe;Xe|=2;var u=oE(),h=lE();ot!==t||ze!==r?(lf=null,of=dn()+500,po(t,r)):fo=ni(t,r);e:do try{if(et!==0&&Ue!==null){r=Ue;var d=kn;t:switch(et){case 1:et=0,kn=null,go(t,r,d,1);break;case 2:case 9:if(v_(d)){et=0,kn=null,cE(r);break}r=function(){et!==2&&et!==9||ot!==t||(et=7),Bi(t)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:v_(d)?(et=0,kn=null,cE(r)):(et=0,kn=null,go(t,r,d,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var A=Ue;if(v?YE(v):A.stateNode.complete){et=0,kn=null;var O=A.sibling;if(O!==null)Ue=O;else{var q=A.return;q!==null?(Ue=q,ff(q)):Ue=null}break t}}et=0,kn=null,go(t,r,d,5);break;case 6:et=0,kn=null,go(t,r,d,6);break;case 8:Om(),Et=6;break e;default:throw Error(s(462))}}r1();break}catch(X){sE(t,X)}while(!0);return ur=oa=null,K.H=u,K.A=h,Xe=a,Ue!==null?0:(ot=null,ze=0,Nc(),Et)}function r1(){for(;Ue!==null&&!ud();)uE(Ue)}function uE(t){var r=Mv(t.alternate,t,vr);t.memoizedProps=t.pendingProps,r===null?ff(t):Ue=r}function cE(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Cv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Cv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Qd(r);default:Lv(a,r),r=Ue=l_(r,vr),r=Mv(a,r,vr)}t.memoizedProps=t.pendingProps,r===null?ff(t):Ue=r}function go(t,r,a,u){ur=oa=null,Qd(r),ro=null,Ol=0;var h=r.return;try{if($R(t,h,r,a,ze)){Et=1,Wc(t,$n(a,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;Et=1,Wc(t,$n(a,t.current)),Ue=null;return}r.flags&32768?(Ge||u===1?t=!0:fo||(ze&536870912)!==0?t=!1:(os=t=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),fE(r,t)):ff(r)}function ff(t){var r=t;do{if((r.flags&32768)!==0){fE(r,os);return}t=r.return;var a=YR(r.alternate,r,vr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=t}while(r!==null);Et===0&&(Et=5)}function fE(t,r){do{var a=XR(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Et=6,Ue=null}function hE(t,r,a,u,h,d,v,A,O){t.cancelPendingCommit=null;do hf();while(Ft!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Td,hd(t,a,d,v,A,O),t===ot&&(Ue=ot=null,ze=0),mo=r,cs=t,Er=a,Nm=d,Dm=h,tE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l1(Br,function(){return yE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,h=le.p,le.p=2,v=Xe,Xe|=4;try{WR(t,r,a)}finally{Xe=v,le.p=h,K.T=u}}Ft=1,dE(),mE(),pE()}}function dE(){if(Ft===1){Ft=0;var t=cs,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var u=le.p;le.p=2;var h=Xe;Xe|=4;try{Kv(r,t);var d=Gm,v=Zy(t.containerInfo),A=d.focusedElem,O=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Jy(A.ownerDocument.documentElement,A)){if(O!==null&&gd(A)){var q=O.start,X=O.end;if(X===void 0&&(X=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(X,A.value.length);else{var te=A.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),pe=A.textContent.length,Se=Math.min(O.start,pe),st=O.end===void 0?Se:Math.min(O.end,pe);!Q.extend&&Se>st&&(v=st,st=Se,Se=v);var z=Wy(A,Se),k=Wy(A,st);if(z&&k&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=te.createRange();H.setStart(z.node,z.offset),Q.removeAllRanges(),Se>st?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(te=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var Z=te[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}wf=!!Fm,Gm=Fm=null}finally{Xe=h,le.p=u,K.T=a}}t.current=r,Ft=2}}function mE(){if(Ft===2){Ft=0;var t=cs,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var u=le.p;le.p=2;var h=Xe;Xe|=4;try{Hv(t,r.alternate,r)}finally{Xe=h,le.p=u,K.T=a}}Ft=3}}function pE(){if(Ft===4||Ft===3){Ft=0,tc();var t=cs,r=mo,a=Er,u=tE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,mo=cs=null,gE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(us=null),ir(a),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<u.length;v++){var A=u[v];d(A.value,{componentStack:A.stack})}}finally{K.T=r,le.p=h}}(Er&3)!==0&&hf(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xm?Yl++:(Yl=0,xm=t):Yl=0,Xl(0)}}function gE(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Dl(r)))}function hf(){return dE(),mE(),pE(),yE()}function yE(){if(Ft!==5)return!1;var t=cs,r=Nm;Nm=0;var a=ir(Er),u=K.T,h=le.p;try{le.p=32>a?32:a,K.T=null,a=Dm,Dm=null;var d=cs,v=Er;if(Ft=0,mo=cs=null,Er=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,Jv(d.current),Yv(d,d.current,v,a),Xe=A,Xl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ti,d)}catch{}return!0}finally{le.p=h,K.T=u,gE(t,r)}}function _E(t,r,a){r=$n(a,r),r=um(t.stateNode,r,2),t=is(t,r,2),t!==null&&(Fs(t,2),Bi(t))}function tt(t,r,a){if(t.tag===3)_E(t,t,a);else for(;r!==null;){if(r.tag===3){_E(r,t,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(us===null||!us.has(u))){t=$n(a,t),a=vv(2),u=is(r,a,2),u!==null&&(Ev(a,u,r,t),Fs(u,2),Bi(u));break}}r=r.return}}function Vm(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new e1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Rm=!0,h.add(a),t=s1.bind(null,t,r,a),r.then(t,t))}function s1(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(ze&a)===a&&(Et===4||Et===3&&(ze&62914560)===ze&&300>dn()-af?(Xe&2)===0&&po(t,0):Cm|=a,ho===ze&&(ho=0)),Bi(t)}function vE(t,r){r===0&&(r=oc()),t=ra(t,r),t!==null&&(Fs(t,r),Bi(t))}function a1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),vE(t,a)}function o1(t,r){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),vE(t,a)}function l1(t,r){return qt(t,r)}var df=null,yo=null,Lm=!1,mf=!1,km=!1,hs=0;function Bi(t){t!==yo&&t.next===null&&(yo===null?df=yo=t:yo=yo.next=t),mf=!0,Lm||(Lm=!0,c1())}function Xl(t,r){if(!km&&mf){km=!0;do for(var a=!1,u=df;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var d=0;else{var v=u.suspendedLanes,A=u.pingedLanes;d=(1<<31-wt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,AE(u,d))}else d=ze,d=Ai(u,u===ot?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||ni(u,d)||(a=!0,AE(u,d));u=u.next}while(a);km=!1}}function u1(){EE()}function EE(){mf=Lm=!1;var t=0;hs!==0&&E1()&&(t=hs);for(var r=dn(),a=null,u=df;u!==null;){var h=u.next,d=TE(u,r);d===0?(u.next=null,a===null?df=h:a.next=h,h===null&&(yo=a)):(a=u,(t!==0||(d&3)!==0)&&(mf=!0)),u=h}Ft!==0&&Ft!==5||Xl(t),hs!==0&&(hs=0)}function TE(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-wt(d),A=1<<v,O=h[v];O===-1?((A&a)===0||(A&u)!==0)&&(h[v]=fd(A,r)):O<=r&&(t.expiredLanes|=A),d&=~A}if(r=ot,a=ze,a=Ai(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&zr(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ni(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(u!==null&&zr(u),ir(a)){case 2:case 8:a=al;break;case 32:a=Br;break;case 268435456:a=nc;break;default:a=Br}return u=SE.bind(null,t),a=qt(a,u),t.callbackPriority=r,t.callbackNode=a,r}return u!==null&&u!==null&&zr(u),t.callbackPriority=2,t.callbackNode=null,2}function SE(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hf()&&t.callbackNode!==a)return null;var u=ze;return u=Ai(t,t===ot?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(iE(t,u,r),TE(t,dn()),t.callbackNode!=null&&t.callbackNode===a?SE.bind(null,t):null)}function AE(t,r){if(hf())return null;iE(t,r,!0)}function c1(){S1(function(){(Xe&6)!==0?qt(sl,u1):EE()})}function Pm(){if(hs===0){var t=to;t===0&&(t=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),hs=t}return hs}function wE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function bE(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function f1(t,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var d=wE((h[Kt]||null).action),v=u.submitter;v&&(r=(r=v[Kt]||null)?wE(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var A=new Vi("action","action",null,u,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hs!==0){var O=v?bE(h,v):new FormData(h);im(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=v?bE(h,v):new FormData(h),im(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Um=0;Um<Ed.length;Um++){var jm=Ed[Um],h1=jm.toLowerCase(),d1=jm[0].toUpperCase()+jm.slice(1);ci(h1,"on"+d1)}ci(n_,"onAnimationEnd"),ci(i_,"onAnimationIteration"),ci(r_,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(NR,"onTransitionRun"),ci(DR,"onTransitionStart"),ci(xR,"onTransitionCancel"),ci(s_,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function RE(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],h=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var A=u[v],O=A.instance,q=A.currentTarget;if(A=A.listener,O!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Ic(X)}h.currentTarget=null,d=O}else for(v=0;v<u.length;v++){if(A=u[v],O=A.instance,q=A.currentTarget,A=A.listener,O!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Ic(X)}h.currentTarget=null,d=O}}}}function je(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var u=t+"__bubble";a.has(u)||(CE(r,t,2,!1),a.add(u))}function zm(t,r,a){var u=0;r&&(u|=4),CE(a,t,u,r)}var pf="_reactListening"+Math.random().toString(36).slice(2);function Bm(t){if(!t[pf]){t[pf]=!0,ul.forEach(function(a){a!=="selectionchange"&&(m1.has(a)||zm(a,!1,t),zm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[pf]||(r[pf]=!0,zm("selectionchange",!1,r))}}function CE(t,r,a,u){switch(nT(r)){case 2:var h=H1;break;case 8:h=q1;break;default:h=np}a=h.bind(null,r,a,t),h=void 0,!Xs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Hm(t,r,a,u,h){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=u.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Ci(A),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){u=d=v;continue e}A=A.parentNode}}u=u.return}Kr(function(){var q=d,X=Hn(a),te=[];e:{var G=a_.get(t);if(G!==void 0){var Q=Vi,pe=t;switch(t){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":Q=bc;break;case"focusin":pe="focus",Q=ea;break;case"focusout":pe="blur",Q=ea;break;case"beforeblur":case"afterblur":Q=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case n_:case i_:case r_:Q=_c;break;case s_:Q=R;break;case"scroll":case"scrollend":Q=Tl;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ar;break;case"toggle":case"beforetoggle":Q=De}var Se=(r&4)!==0,st=!Se&&(t==="scroll"||t==="scrollend"),z=Se?G!==null?G+"Capture":null:G;Se=[];for(var k=q,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=ai(k,z),Z!=null&&Se.push(Jl(k,Z,H))),st)break;k=k.return}0<Se.length&&(G=new Q(G,pe,null,a,X),te.push({event:G,listeners:Se}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==_l&&(pe=a.relatedTarget||a.fromElement)&&(Ci(pe)||pe[bi]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=q,pe=pe?Ci(pe):null,pe!==null&&(st=l(pe),Se=pe.tag,pe!==st||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(Q=null,pe=q),Q!==pe)){if(Se=Sl,Z="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Se=ar,Z="onPointerLeave",z="onPointerEnter",k="pointer"),st=Q==null?G:Dn(Q),H=pe==null?G:Dn(pe),G=new Se(Z,k+"leave",Q,a,X),G.target=st,G.relatedTarget=H,Z=null,Ci(X)===q&&(Se=new Se(z,k+"enter",pe,a,X),Se.target=H,Se.relatedTarget=st,Z=Se),st=Z,Q&&pe)t:{for(Se=p1,z=Q,k=pe,H=0,Z=z;Z;Z=Se(Z))H++;Z=0;for(var ve=k;ve;ve=Se(ve))Z++;for(;0<H-Z;)z=Se(z),H--;for(;0<Z-H;)k=Se(k),Z--;for(;H--;){if(z===k||k!==null&&z===k.alternate){Se=z;break t}z=Se(z),k=Se(k)}Se=null}else Se=null;Q!==null&&IE(te,G,Q,Se,!1),pe!==null&&st!==null&&IE(te,st,pe,Se,!0)}}e:{if(G=q?Dn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ke=Gy;else if(qy(G))if($y)Ke=RR;else{Ke=wR;var ge=AR}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&ja(q.elementType)&&(Ke=Gy):Ke=bR;if(Ke&&(Ke=Ke(t,q))){Fy(te,Ke,a,X);break e}ge&&ge(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&pl(G,"number",G.value)}switch(ge=q?Dn(q):window,t){case"focusin":(qy(ge)||ge.contentEditable==="true")&&(Ka=ge,yd=q,Cl=null);break;case"focusout":Cl=yd=Ka=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,e_(te,a,X);break;case"selectionchange":if(IR)break;case"keydown":case"keyup":e_(te,a,X)}var Me;if(Ye)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else $a?ta(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Pi&&a.locale!=="ko"&&($a||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&$a&&(Me=El()):(Mi=X,vl="value"in Mi?Mi.value:Mi.textContent,$a=!0)),ge=gf(q,Be),0<ge.length&&(Be=new ki(Be,t,null,a,X),te.push({event:Be,listeners:ge}),Me?Be.data=Me:(Me=Ga(a),Me!==null&&(Be.data=Me)))),(Me=Fn?vR(t,a):ER(t,a))&&(Be=gf(q,"onBeforeInput"),0<Be.length&&(ge=new ki("onBeforeInput","beforeinput",null,a,X),te.push({event:ge,listeners:Be}),ge.data=Me)),f1(te,t,q,a,X)}RE(te,r)})}function Jl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function gf(t,r){for(var a=r+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ai(t,a),h!=null&&u.unshift(Jl(t,h,d)),h=ai(t,r),h!=null&&u.push(Jl(t,h,d))),t.tag===3)return u;t=t.return}return[]}function p1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function IE(t,r,a,u,h){for(var d=r._reactName,v=[];a!==null&&a!==u;){var A=a,O=A.alternate,q=A.stateNode;if(A=A.tag,O!==null&&O===u)break;A!==5&&A!==26&&A!==27||q===null||(O=q,h?(q=ai(a,d),q!=null&&v.unshift(Jl(a,q,O))):h||(q=ai(a,d),q!=null&&v.push(Jl(a,q,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function NE(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(y1,"")}function DE(t,r){return r=NE(r),NE(t)===r}function rt(t,r,a,u,h,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_n(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_n(t,""+u);break;case"className":xn(t,"class",u);break;case"tabIndex":xn(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,a,u);break;case"style":yl(t,u,d);break;case"data":if(r!=="object"){xn(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=za(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=za(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=si);break;case"onScroll":u!=null&&je("scroll",t);break;case"onScrollEnd":u!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":je("beforetoggle",t),je("toggle",t),Pa(t,"popover",u);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pc.get(a)||a,Pa(t,a,u))}}function qm(t,r,a,u,h,d){switch(a){case"style":yl(t,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof u=="string"?_n(t,u):(typeof u=="number"||typeof u=="bigint")&&_n(t,""+u);break;case"onScroll":u!=null&&je("scroll",t);break;case"onScrollEnd":u!=null&&je("scrollend",t);break;case"onClick":u!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof u=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,u,h);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):Pa(t,a,u)}}}function rn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var u=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,d,v,a,null)}}h&&rt(t,r,"srcSet",a.srcSet,a,null),u&&rt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var A=d=v=h=null,O=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":h=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:rt(t,r,u,X,a,null)}}hc(t,d,A,O,q,v,h,!1);return;case"select":je("invalid",t),u=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:rt(t,r,h,A,a,null)}r=d,a=v,t.multiple=!!u,r!=null?qr(t,!!u,r,!1):a!=null&&qr(t,!!u,a,!0);return;case"textarea":je("invalid",t),d=h=u=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:rt(t,r,v,A,a,null)}Fr(t,u,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(t,r,O,u,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(u=0;u<Wl.length;u++)je(Wl[u],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,q,u,a,null)}return;default:if(ja(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&qm(t,r,X,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&rt(t,r,A,u,a,null))}function _1(t,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,O=null,q=null,X=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=te;default:u.hasOwnProperty(Q)||rt(t,r,Q,null,u,te)}}for(var G in u){var Q=u[G];if(te=a[G],u.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&rt(t,r,G,Q,u,te)}}Ua(t,v,A,O,q,X,d,h);return;case"select":Q=v=A=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(d)||rt(t,r,d,null,u,O)}for(h in u)if(d=u[h],O=a[h],u.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==O&&rt(t,r,h,d,u,O)}r=A,a=v,u=Q,G!=null?qr(t,!!a,G,!1):!!u!=!!a&&(r!=null?qr(t,!!a,r,!0):qr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(t,r,A,null,u,h)}for(v in u)if(h=u[v],d=a[v],u.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,r,v,h,u,d)}dc(t,G,Q);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:rt(t,r,pe,null,u,G)}for(O in u)if(G=u[O],Q=a[O],u.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:rt(t,r,O,G,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!u.hasOwnProperty(Se)&&rt(t,r,Se,null,u,G);for(q in u)if(G=u[q],Q=a[q],u.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:rt(t,r,q,G,u,Q)}return;default:if(ja(r)){for(var st in a)G=a[st],a.hasOwnProperty(st)&&G!==void 0&&!u.hasOwnProperty(st)&&qm(t,r,st,void 0,u,G);for(X in u)G=u[X],Q=a[X],!u.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||qm(t,r,X,G,u,Q);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&rt(t,r,z,null,u,G);for(te in u)G=u[te],Q=a[te],!u.hasOwnProperty(te)||G===Q||G==null&&Q==null||rt(t,r,te,G,u,Q)}function xE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],d=h.transferSize,v=h.initiatorType,A=h.duration;if(d&&A&&xE(v)){for(v=0,A=h.responseEnd,u+=1;u<a.length;u++){var O=a[u],q=O.startTime;if(q>A)break;var X=O.transferSize,te=O.initiatorType;X&&xE(te)&&(O=O.responseEnd,v+=X*(O<A?1:(A-q)/(O-q)))}if(--u,r+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fm=null,Gm=null;function yf(t){return t.nodeType===9?t:t.ownerDocument}function OE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ME(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function $m(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Km=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===Km?!1:(Km=t,!0):(Km=null,!1)}var VE=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,LE=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof LE<"u"?function(t){return LE.resolve(null).then(t).catch(A1)}:VE;function A1(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function kE(t,r){var a=r,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(h),To(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[Ri]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Zl(t.ownerDocument.body);a=h}while(a);To(r)}function PE(t,r){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function Qm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qm(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w1(t,r,a,u){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ri])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function b1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function UE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function Ym(t){return t.data==="$?"||t.data==="$~"}function Xm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Wm=null;function jE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Wn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function zE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function BE(t,r,a){switch(r=yf(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ka(t)}var Jn=new Map,HE=new Set;function _f(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tr=le.d;le.d={f:C1,r:I1,D:N1,C:D1,L:x1,m:O1,X:V1,S:M1,M:L1};function C1(){var t=Tr.f(),r=uf();return t||r}function I1(t){var r=Bn(t);r!==null&&r.tag===5&&r.type==="form"?sv(r):Tr.r(t)}var _o=typeof document>"u"?null:document;function qE(t,r,a){var u=_o;if(u&&typeof r=="string"&&r){var h=yn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),HE.has(h)||(HE.add(h),t={rel:t,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),rn(r,"link",t),Vt(r),u.head.appendChild(r)))}}function N1(t){Tr.D(t),qE("dns-prefetch",t,null)}function D1(t,r){Tr.C(t,r),qE("preconnect",t,r)}function x1(t,r,a){Tr.L(t,r,a);var u=_o;if(u&&t&&r){var h='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var d=h;switch(r){case"style":d=vo(t);break;case"script":d=Eo(t)}Jn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Jn.set(d,t),u.querySelector(h)!==null||r==="style"&&u.querySelector(eu(d))||r==="script"&&u.querySelector(tu(d))||(r=u.createElement("link"),rn(r,"link",t),Vt(r),u.head.appendChild(r)))}}function O1(t,r){Tr.m(t,r);var a=_o;if(a&&t){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(t)+'"]',d=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!Jn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Jn.set(d,t),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(d)))return}u=a.createElement("link"),rn(u,"link",t),Vt(u),a.head.appendChild(u)}}}function M1(t,r,a){Tr.S(t,r,a);var u=_o;if(u&&t){var h=Ii(u).hoistableStyles,d=vo(t);r=r||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(eu(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Jn.get(d))&&Jm(t,a);var O=v=u.createElement("link");Vt(O),rn(O,"link",t),O._p=new Promise(function(q,X){O.onload=q,O.onerror=X}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vf(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function V1(t,r){Tr.X(t,r);var a=_o;if(a&&t){var u=Ii(a).hoistableScripts,h=Eo(t),d=u.get(h);d||(d=a.querySelector(tu(h)),d||(t=T({src:t,async:!0},r),(r=Jn.get(h))&&Zm(t,r),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function L1(t,r){Tr.M(t,r);var a=_o;if(a&&t){var u=Ii(a).hoistableScripts,h=Eo(t),d=u.get(h);d||(d=a.querySelector(tu(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Jn.get(h))&&Zm(t,r),d=a.createElement("script"),Vt(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function FE(t,r,a,u){var h=(h=be.current)?_f(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Ii(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=Ii(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(eu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),d||k1(h,t,a,v.state))),r&&u===null)throw Error(s(528,""));return v}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Ii(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+yn(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function GE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function k1(t,r,a,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",a),Vt(r),t.head.appendChild(r))}function Eo(t){return'[src="'+yn(t)+'"]'}function tu(t){return"script[async]"+t}function $E(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(u)return r.instance=u,Vt(u),u;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Vt(u),rn(u,"style",h),vf(u,a.precedence,t),r.instance=u;case"stylesheet":h=vo(a.href);var d=t.querySelector(eu(h));if(d)return r.state.loading|=4,r.instance=d,Vt(d),d;u=GE(a),(h=Jn.get(h))&&Jm(u,h),d=(t.ownerDocument||t).createElement("link"),Vt(d);var v=d;return v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),rn(d,"link",u),r.state.loading|=4,vf(d,a.precedence,t),r.instance=d;case"script":return d=Eo(a.src),(h=t.querySelector(tu(d)))?(r.instance=h,Vt(h),h):(u=a,(h=Jn.get(d))&&(u=T({},a),Zm(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),rn(h,"link",u),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,vf(u,a.precedence,t));return r.instance}function vf(t,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,d=h,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===r)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Jm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Zm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ef=null;function KE(t,r,a){if(Ef===null){var u=new Map,h=Ef=new Map;h.set(a,u)}else h=Ef,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ri]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var A=u.get(v);A?A.push(d):u.set(v,[d])}}return u}function QE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function P1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function YE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function U1(t,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=vo(u.href),d=r.querySelector(eu(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Tf.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=r.ownerDocument||r,u=GE(u),(h=Jn.get(h))&&Jm(u,h),d=d.createElement("link"),Vt(d);var v=d;v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),rn(d,"link",u),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tf.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var ep=0;function j1(t,r){return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&ep===0&&(ep=62500*v1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ep?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sf=null;function Af(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sf=new Map,r.forEach(z1,t),Sf=null,Tf.call(t))}function z1(t,r){if(!(r.state.loading&4)){var a=Sf.get(t);if(a)var u=a.get(null);else{a=new Map,Sf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,h),a.set(v,h),this.count++,u=Tf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var nu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function B1(t,r,a,u,h,d,v,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function XE(t,r,a,u,h,d,v,A,O,q,X,te){return t=new B1(t,r,a,v,O,q,X,te,A),r=1,d===!0&&(r|=24),d=Mn(3,null,null,r),t.current=d,d.stateNode=t,r=Md(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Pd(d),t}function WE(t){return t?(t=Xa,t):Xa}function JE(t,r,a,u,h,d){h=WE(h),u.context===null?u.context=h:u.pendingContext=h,u=ns(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=is(t,u,r),a!==null&&(An(a,t,r),Vl(a,t,r))}function ZE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function tp(t,r){ZE(t,r),(t=t.alternate)&&ZE(t,r)}function eT(t){if(t.tag===13||t.tag===31){var r=ra(t,67108864);r!==null&&An(r,t,67108864),tp(t,67108864)}}function tT(t){if(t.tag===13||t.tag===31){var r=Un();r=$s(r);var a=ra(t,r);a!==null&&An(a,t,r),tp(t,r)}}var wf=!0;function H1(t,r,a,u){var h=K.T;K.T=null;var d=le.p;try{le.p=2,np(t,r,a,u)}finally{le.p=d,K.T=h}}function q1(t,r,a,u){var h=K.T;K.T=null;var d=le.p;try{le.p=8,np(t,r,a,u)}finally{le.p=d,K.T=h}}function np(t,r,a,u){if(wf){var h=ip(u);if(h===null)Hm(t,r,u,bf,a),iT(t,u);else if(G1(h,t,r,a,u))u.stopPropagation();else if(iT(t,u),r&4&&-1<F1.indexOf(t)){for(;h!==null;){var d=Bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Si(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var O=1<<31-wt(v);A.entanglements[1]|=O,v&=~O}Bi(d),(Xe&6)===0&&(of=dn()+500,Xl(0))}}break;case 31:case 13:A=ra(d,2),A!==null&&An(A,d,2),uf(),tp(d,2)}if(d=ip(u),d===null&&Hm(t,r,u,bf,a),d===h)break;h=d}h!==null&&u.stopPropagation()}else Hm(t,r,u,null,a)}}function ip(t){return t=Hn(t),rp(t)}var bf=null;function rp(t){if(bf=null,t=Ci(t),t!==null){var r=l(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return bf=t,null}function nT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case sl:return 2;case al:return 8;case Br:case cd:return 32;case nc:return 268435456;default:return 32}default:return 32}}var sp=!1,ms=null,ps=null,gs=null,iu=new Map,ru=new Map,ys=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(t,r){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(r.pointerId)}}function su(t,r,a,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Bn(r),r!==null&&eT(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function G1(t,r,a,u,h){switch(r){case"focusin":return ms=su(ms,t,r,a,u,h),!0;case"dragenter":return ps=su(ps,t,r,a,u,h),!0;case"mouseover":return gs=su(gs,t,r,a,u,h),!0;case"pointerover":var d=h.pointerId;return iu.set(d,su(iu.get(d)||null,t,r,a,u,h)),!0;case"gotpointercapture":return d=h.pointerId,ru.set(d,su(ru.get(d)||null,t,r,a,u,h)),!0}return!1}function rT(t){var r=Ci(t.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,ii(t.priority,function(){tT(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ii(t.priority,function(){tT(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rf(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ip(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);_l=u,a.target.dispatchEvent(u),_l=null}else return r=Bn(a),r!==null&&eT(r),t.blockedOn=a,!1;r.shift()}return!0}function sT(t,r,a){Rf(t)&&a.delete(r)}function $1(){sp=!1,ms!==null&&Rf(ms)&&(ms=null),ps!==null&&Rf(ps)&&(ps=null),gs!==null&&Rf(gs)&&(gs=null),iu.forEach(sT),ru.forEach(sT)}function Cf(t,r){t.blockedOn===r&&(t.blockedOn=null,sp||(sp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$1)))}var If=null;function aT(t){If!==t&&(If=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){If===t&&(If=null);for(var r=0;r<t.length;r+=3){var a=t[r],u=t[r+1],h=t[r+2];if(typeof u!="function"){if(rp(u||a)===null)continue;break}var d=Bn(a);d!==null&&(t.splice(r,3),r-=3,im(d,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function To(t){function r(O){return Cf(O,t)}ms!==null&&Cf(ms,t),ps!==null&&Cf(ps,t),gs!==null&&Cf(gs,t),iu.forEach(r),ru.forEach(r);for(var a=0;a<ys.length;a++){var u=ys[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ys.length&&(a=ys[0],a.blockedOn===null);)rT(a),a.blockedOn===null&&ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],d=a[u+1],v=h[Kt]||null;if(typeof d=="function")v||aT(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Kt]||null)A=v.formAction;else if(rp(h)!==null)continue}else A=v.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),aT(a)}}}function oT(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function ap(t){this._internalRoot=t}Nf.prototype.render=ap.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Un();JE(a,u,t,r,null,null)},Nf.prototype.unmount=ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;JE(t.current,2,null,t,null,null),uf(),r[bi]=null}};function Nf(t){this._internalRoot=t}Nf.prototype.unstable_scheduleHydration=function(t){if(t){var r=lc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ys.length&&r!==0&&r<ys[a].priority;a++);ys.splice(a,0,t),a===0&&rT(t)}};var lT=e.version;if(lT!=="19.2.0")throw Error(s(527,lT,"19.2.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{ti=Df.inject(K1),Jt=Df}catch{}}return ou.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,u="",h=pv,d=gv,v=yv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=XE(t,1,!1,null,null,a,u,null,h,d,v,oT),t[bi]=r.current,Bm(t),new ap(r)},ou.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var u=!1,h="",d=pv,v=gv,A=yv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=XE(t,1,!0,r,a??null,u,h,O,d,v,A,oT),r.context=WE(null),a=r.current,u=Un(),u=$s(u),h=ns(u),h.callback=null,is(a,h,u),a=u,r.current.lanes=a,Fs(r,a),Bi(r),t[bi]=r.current,Bm(t),new Nf(r)},ou.version="19.2.0",ou}var _T;function nC(){if(_T)return up.exports;_T=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),up.exports=tC(),up.exports}var iC=nC();const rC=ku(iC);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vT="popstate";function sC(i={}){function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return Pp("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:wu(o)}return oC(e,n,null,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function ET(i,e){return{usr:i.state,key:i.key,idx:e}}function Pp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||s||aC()}}function wu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function oC(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let j=_(),Y=j==null?null:j-g;g=j,p&&p({action:m,location:F.location,delta:Y})}function w(j,Y){m="PUSH";let J=Pp(F.location,j,Y);g=_()+1;let ie=ET(J,g),ae=F.createHref(J);try{c.pushState(ie,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ae)}l&&p&&p({action:m,location:F.location,delta:1})}function M(j,Y){m="REPLACE";let J=Pp(F.location,j,Y);g=_();let ie=ET(J,g),ae=F.createHref(J);c.replaceState(ie,"",ae),l&&p&&p({action:m,location:F.location,delta:0})}function U(j){return lC(j)}let F={get action(){return m},get location(){return i(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vT,T),p=j,()=>{o.removeEventListener(vT,T),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let Y=U(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:M,go(j){return c.go(j)}};return F}function lC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:wu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function CS(i,e,n="/"){return uC(i,e,n,!1)}function uC(i,e,n,s){let o=typeof e=="string"?Go(e):e,l=Dr(o.pathname||"/",n);if(l==null)return null;let c=IS(i);cC(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=TC(l);m=vC(c[p],g,s)}return m}function IS(i,e=[],n=[],s="",o=!1){let l=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;gt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Cr([s,_.relativePath]),w=n.concat(_);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),IS(c.children,e,w,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:yC(T,c.index),routesMeta:w})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let p of NS(c.path))l(c,m,!0,p)}),e}function NS(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=NS(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function cC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:_C(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fC=/^:[\w-]+$/,hC=3,dC=2,mC=1,pC=10,gC=-2,TT=i=>i==="*";function yC(i,e){let n=i.split("/"),s=n.length;return n.some(TT)&&(s+=gC),e&&(s+=dC),n.filter(o=>!TT(o)).reduce((o,l)=>o+(fC.test(l)?hC:l===""?mC:pC),s)}function _C(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function vC(i,e,n=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Zf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Zf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Cr([l,T.pathname]),pathnameBase:bC(Cr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Cr([l,T.pathnameBase]))}return c}function Zf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=EC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let U=m[w]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[w];return T&&!M?g[_]=void 0:g[_]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function EC(i,e=!1,n=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function TC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function SC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:n?n.startsWith("/")?n:AC(n,e):e,search:RC(s),hash:CC(o)}}function AC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(i){let e=wC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Eg(i,e,n,s=!1){let o;typeof i=="string"?o=Go(i):(o={...i},gt(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=SC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Cr=i=>i.join("/").replace(/\/\/+/g,"/"),bC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,CC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function IC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var DS=["POST","PUT","PATCH","DELETE"];new Set(DS);var NC=["GET",...DS];new Set(NC);var $o=S.createContext(null);$o.displayName="DataRouter";var Ch=S.createContext(null);Ch.displayName="DataRouterState";S.createContext(!1);var xS=S.createContext({isTransitioning:!1});xS.displayName="ViewTransition";var DC=S.createContext(new Map);DC.displayName="Fetchers";var xC=S.createContext(null);xC.displayName="Await";var _i=S.createContext(null);_i.displayName="Navigation";var Pu=S.createContext(null);Pu.displayName="Location";var er=S.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Tg=S.createContext(null);Tg.displayName="RouteError";function OC(i,{relative:e}={}){gt(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(_i),{hash:o,pathname:l,search:c}=Uu(i,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:Cr([n,l])),s.createHref({pathname:m,search:c,hash:o})}function Ko(){return S.useContext(Pu)!=null}function vi(){return gt(Ko(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Pu).location}var OS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MS(i){S.useContext(_i).static||S.useLayoutEffect(i)}function Ih(){let{isDataRoute:i}=S.useContext(er);return i?GC():MC()}function MC(){gt(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext($o),{basename:e,navigator:n}=S.useContext(_i),{matches:s}=S.useContext(er),{pathname:o}=vi(),l=JSON.stringify(vg(s)),c=S.useRef(!1);return MS(()=>{c.current=!0}),S.useCallback((p,g={})=>{if(gi(c.current,OS),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Eg(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Cr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,o,i])}S.createContext(null);function Uu(i,{relative:e}={}){let{matches:n}=S.useContext(er),{pathname:s}=vi(),o=JSON.stringify(vg(n));return S.useMemo(()=>Eg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function VC(i,e){return VS(i,e)}function VS(i,e,n,s,o){gt(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(_i),{matches:c}=S.useContext(er),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";LS(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=vi(),M;if(e){let J=typeof e=="string"?Go(e):e;gt(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),M=J}else M=w;let U=M.pathname||"/",F=U;if(_!=="/"){let J=_.replace(/^\//,"").split("/");F="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=CS(i,{pathname:F});gi(T||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),gi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=jC(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Cr([_,l.encodeLocation?l.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:Cr([_,l.encodeLocation?l.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),c,n,s,o);return e&&Y?S.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function LC(){let i=FC(),e=IC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,c)}var kC=S.createElement(LC,null),PC=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?S.createElement(er.Provider,{value:this.props.routeContext},S.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UC({routeContext:i,match:e,children:n}){let s=S.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(er.Provider,{value:i},n)}function jC(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,c=n?.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:w}=n,M=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||M){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let w,M=!1,U=null,F=null;n&&(w=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||kC,m&&(p<0&&T===0?(LS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,F=null):p===T&&(M=!0,F=_.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,T+1)),Y=()=>{let J;return w?J=U:M?J=F:_.route.Component?J=S.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=g,S.createElement(UC,{match:_,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:J})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?S.createElement(PC,{location:n.location,revalidation:n.revalidation,component:U,error:w,children:Y(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Sg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(i){let e=S.useContext($o);return gt(e,Sg(i)),e}function BC(i){let e=S.useContext(Ch);return gt(e,Sg(i)),e}function HC(i){let e=S.useContext(er);return gt(e,Sg(i)),e}function Ag(i){let e=HC(i),n=e.matches[e.matches.length-1];return gt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function qC(){return Ag("useRouteId")}function FC(){let i=S.useContext(Tg),e=BC("useRouteError"),n=Ag("useRouteError");return i!==void 0?i:e.errors?.[n]}function GC(){let{router:i}=zC("useNavigate"),e=Ag("useNavigate"),n=S.useRef(!1);return MS(()=>{n.current=!0}),S.useCallback(async(o,l={})=>{gi(n.current,OS),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var ST={};function LS(i,e,n){!e&&!ST[i]&&(ST[i]=!0,gi(!1,n))}S.memo($C);function $C({routes:i,future:e,state:n,unstable_onError:s}){return VS(i,void 0,n,s,e)}function wg({to:i,replace:e,state:n,relative:s}){gt(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(_i);gi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(er),{pathname:c}=vi(),m=Ih(),p=Eg(i,vg(l),c,s==="path"),g=JSON.stringify(p);return S.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ro(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KC({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){gt(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Go(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=n,M=S.useMemo(()=>{let U=Dr(p,c);return U==null?null:{location:{pathname:U,search:g,hash:_,state:T,key:w},navigationType:s}},[c,p,g,_,T,w,s]);return gi(M!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:S.createElement(_i.Provider,{value:m},S.createElement(Pu.Provider,{children:e,value:M}))}function QC({children:i,location:e}){return VC(Up(i),e)}function Up(i,e=[]){let n=[];return S.Children.forEach(i,(s,o)=>{if(!S.isValidElement(s))return;let l=[...e,o];if(s.type===S.Fragment){n.push.apply(n,Up(s.props.children,l));return}gt(s.type===Ro,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Up(s.props.children,l)),n.push(c)}),n}var zf="get",Bf="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function YC(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function XC(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function WC(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function JC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ZC(i,e){return i.button===0&&(!e||e==="_self")&&!JC(i)}var xf=null;function eI(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(i){return i!=null&&!tI.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):i}function nI(i,e){let n,s,o,l,c;if(XC(i)){let m=i.getAttribute("action");s=m?Dr(m,e):null,n=i.getAttribute("method")||zf,o=mp(i.getAttribute("enctype"))||Bf,l=new FormData(i)}else if(YC(i)||WC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Dr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||zf,o=mp(i.getAttribute("formenctype"))||mp(m.getAttribute("enctype"))||Bf,l=new FormData(m,i),!eI()){let{name:g,type:_,value:T}=i;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,s=null,o=Bf,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function iI(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function rI(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function aI(i,e,n){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await rI(l,n);return c.links?c.links():[]}return[]}));return cI(s.flat(1).filter(sI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function AT(i,e,n,s,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function oI(i,e,{includeHydrateFallback:n}={}){return lI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function lI(i){return[...new Set(i)]}function uI(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function cI(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(uI(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function kS(){let i=S.useContext($o);return bg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fI(){let i=S.useContext(Ch);return bg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Rg=S.createContext(void 0);Rg.displayName="FrameworkContext";function PS(){let i=S.useContext(Rg);return bg(i,"You must render this element inside a <HydratedRouter> element"),i}function hI(i,e){let n=S.useContext(Rg),[s,o]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=S.useRef(null);S.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let F=Y=>{Y.forEach(J=>{c(J.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[i]),S.useEffect(()=>{if(s){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),c(!1)};return n?i!=="intent"?[l,w,{}]:[l,w,{onFocus:lu(m,M),onBlur:lu(p,U),onMouseEnter:lu(g,M),onMouseLeave:lu(_,U),onTouchStart:lu(T,M)}]:[!1,w,{}]}function lu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function dI({page:i,...e}){let{router:n}=kS(),s=S.useMemo(()=>CS(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?S.createElement(pI,{page:i,matches:s,...e}):null}function mI(i){let{manifest:e,routeModules:n}=PS(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return aI(i,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,n]),s}function pI({page:i,matches:e,...n}){let s=vi(),{manifest:o,routeModules:l}=PS(),{basename:c}=kS(),{loaderData:m,matches:p}=fI(),g=S.useMemo(()=>AT(i,e,p,o,s,"data"),[i,e,p,o,s]),_=S.useMemo(()=>AT(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=S.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,F=!1;if(e.forEach(Y=>{let J=o.routes[Y.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&l[Y.route.id]?.shouldRevalidate||J.hasClientLoader?F=!0:U.add(Y.route.id))}),U.size===0)return[];let j=iI(i,c,"data");return F&&U.size>0&&j.searchParams.set("_routes",e.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[j.pathname+j.search]},[c,m,s,o,g,e,i,l]),w=S.useMemo(()=>oI(_,o),[_,o]),M=mI(_);return S.createElement(S.Fragment,null,T.map(U=>S.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>S.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:F})=>S.createElement("link",{key:U,nonce:n.nonce,...F})))}function gI(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.9.3")}catch{}function yI({basename:i,children:e,window:n}){let s=S.useRef();s.current==null&&(s.current=sC({window:n,v5Compat:!0}));let o=s.current,[l,c]=S.useState({action:o.action,location:o.location}),m=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.createElement(KC,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cg=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},M){let{basename:U}=S.useContext(_i),F=typeof g=="string"&&jS.test(g),j,Y=!1;if(typeof g=="string"&&F&&(j=g,US))try{let N=new URL(window.location.href),V=g.startsWith("//")?new URL(N.protocol+g):new URL(g),x=Dr(V.pathname,U);V.origin===N.origin&&x!=null?g=x+V.search+V.hash:Y=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=OC(g,{relative:o}),[ie,ae,re]=hI(s,w),se=EI(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function I(N){e&&e(N),N.defaultPrevented||se(N)}let C=S.createElement("a",{...w,...re,href:j||J,onClick:Y||l?e:I,ref:gI(M,ae),target:p,"data-discover":!F&&n==="render"?"true":void 0});return ie&&!F?S.createElement(S.Fragment,null,C,S.createElement(dI,{page:J})):C});Cg.displayName="Link";var cu=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},_){let T=Uu(c,{relative:g.relative}),w=vi(),M=S.useContext(Ch),{navigator:U,basename:F}=S.useContext(_i),j=M!=null&&bI(T)&&m===!0,Y=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,J=w.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(J=J.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&F&&(ie=Dr(ie,F)||ie);const ae=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let re=J===Y||!o&&J.startsWith(Y)&&J.charAt(ae)==="/",se=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),I={isActive:re,isPending:se,isTransitioning:j},C=re?e:void 0,N;typeof s=="function"?N=s(I):N=[s,re?"active":null,se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return S.createElement(Cg,{...g,"aria-current":C,className:N,ref:_,style:V,to:c,viewTransition:m},typeof p=="function"?p(I):p)});cu.displayName="NavLink";var _I=S.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=zf,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},M)=>{let U=AI(),F=wI(m,{relative:g}),j=c.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&jS.test(m),J=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ae=ie.nativeEvent.submitter,re=ae?.getAttribute("formmethod")||c;U(ae||ie.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return S.createElement("form",{ref:M,method:j,action:F,onSubmit:s?p:J,...w,"data-discover":!Y&&i==="render"?"true":void 0})});_I.displayName="Form";function vI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(i){let e=S.useContext($o);return gt(e,vI(i)),e}function EI(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=Ih(),p=vi(),g=Uu(i,{relative:l});return S.useCallback(_=>{if(ZC(_,e)){_.preventDefault();let T=n!==void 0?n:wu(p)===wu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,n,s,e,i,o,l,c])}var TI=0,SI=()=>`__${String(++TI)}__`;function AI(){let{router:i}=zS("useSubmit"),{basename:e}=S.useContext(_i),n=qC();return S.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=nI(s,e);if(o.navigate===!1){let _=o.fetcherKey||SI();await i.fetch(_,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function wI(i,{relative:e}={}){let{basename:n}=S.useContext(_i),s=S.useContext(er);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Uu(i||".",{relative:e})},c=vi();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cr([n,l.pathname])),wu(l)}function bI(i,{relative:e}={}){let n=S.useContext(xS);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zS("useViewTransitionState"),o=Uu(i,{relative:e});if(!n.isTransitioning)return!1;let l=Dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zf(o.pathname,c)!=null||Zf(o.pathname,l)!=null}var RI=RS();const xo=ku(RI);var pp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var wT;function CI(){return wT||(wT=1,(function(i){(function(){var e={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var m in l)e.call(l,m)&&l[m]&&(c=o(c,m));return c}function o(l,c){return c?l?l+" "+c:l+c:l}i.exports?(n.default=n,i.exports=n):window.classNames=n})()})(pp)),pp.exports}var II=CI();const Te=ku(II);function jp(){return jp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},jp.apply(null,arguments)}function BS(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function bT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function NI(i){var e=DI(i,"string");return typeof e=="symbol"?e:String(e)}function DI(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function xI(i,e,n){var s=S.useRef(i!==void 0),o=S.useState(e),l=o[0],c=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==e&&c(e),[m?i:l,S.useCallback(function(g){for(var _=arguments.length,T=new Array(_>1?_-1:0),w=1;w<_;w++)T[w-1]=arguments[w];n&&n.apply(void 0,[g].concat(T)),c(g)},[n])]}function Dh(i,e){return Object.keys(e).reduce(function(n,s){var o,l=n,c=l[bT(s)],m=l[s],p=BS(l,[bT(s),s].map(NI)),g=e[s],_=xI(m,c,i[g]),T=_[0],w=_[1];return jp({},p,(o={},o[s]=T,o[g]=w,o))},i)}function zp(i,e){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zp(i,e)}function OI(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,zp(i,e)}const HS=["xxl","xl","lg","md","sm","xs"],qS="xs",xh=S.createContext({prefixes:{},breakpoints:HS,minBreakpoint:qS}),{Consumer:ok,Provider:lk}=xh;function Re(i,e){const{prefixes:n}=S.useContext(xh);return i||n[e]||e}function Ig(){const{breakpoints:i}=S.useContext(xh);return i}function Ng(){const{minBreakpoint:i}=S.useContext(xh);return i}function Dg(i){return i&&i.ownerDocument||document}function MI(i){var e=Dg(i);return e&&e.defaultView||window}function VI(i,e){return MI(i).getComputedStyle(i,e)}var LI=/([A-Z])/g;function kI(i){return i.replace(LI,"-$1").toLowerCase()}var PI=/^ms-/;function Of(i){return kI(i).replace(PI,"-ms-")}var UI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function jI(i){return!!(i&&UI.test(i))}function Ir(i,e){var n="",s="";if(typeof e=="string")return i.style.getPropertyValue(Of(e))||VI(i).getPropertyValue(Of(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(Of(o)):jI(o)?s+=o+"("+l+") ":n+=Of(o)+": "+l+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var gp={exports:{}},yp,RT;function zI(){if(RT)return yp;RT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yp=i,yp}var _p,CT;function BI(){if(CT)return _p;CT=1;var i=zI();function e(){}function n(){}return n.resetWarningCache=e,_p=function(){function s(c,m,p,g,_,T){if(T!==i){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},_p}var IT;function HI(){return IT||(IT=1,gp.exports=BI()()),gp.exports}var qI=HI();const bn=ku(qI),NT={disabled:!1},FS=Gi.createContext(null);var FI=function(e){return e.scrollTop},fu="unmounted",Ts="exited",di="entering",Sr="entered",bu="exiting",Pr=(function(i){OI(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var c=o,m=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=Ts,l.appearStatus=di):p=Sr:s.unmountOnExit||s.mountOnEnter?p=fu:p=Ts,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var c=o.in;return c&&l.status===fu?{status:Ts}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var l=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==di&&c!==Sr&&(l=di):(c===di||c===Sr)&&(l=bu)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,l,c,m;return l=c=m=o,o!=null&&typeof o!="number"&&(l=o.exit,c=o.enter,m=o.appear!==void 0?o.appear:c),{exit:l,enter:c,appear:m}},n.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===di){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this);c&&FI(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ts&&this.setState({status:fu})},n.performEnter=function(o){var l=this,c=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[xo.findDOMNode(this),m],g=p[0],_=p[1],T=this.getTimeouts(),w=m?T.appear:T.enter;if(!o&&!c||NT.disabled){this.safeSetState({status:Sr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:di},function(){l.props.onEntering(g,_),l.onTransitionEnd(w,function(){l.safeSetState({status:Sr},function(){l.props.onEntered(g,_)})})})},n.performExit=function(){var o=this,l=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:xo.findDOMNode(this);if(!l||NT.disabled){this.safeSetState({status:Ts},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:bu},function(){o.props.onExiting(m),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:Ts},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},n.setNextCallback=function(o){var l=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(o,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===fu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=BS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gi.createElement(FS.Provider,{value:null},typeof c=="function"?c(o,m):Gi.cloneElement(Gi.Children.only(c),m))},e})(Gi.Component);Pr.contextType=FS;Pr.propTypes={};function So(){}Pr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:So,onEntering:So,onEntered:So,onExit:So,onExiting:So,onExited:So};Pr.UNMOUNTED=fu;Pr.EXITED=Ts;Pr.ENTERING=di;Pr.ENTERED=Sr;Pr.EXITING=bu;function GI(i){return i.code==="Escape"||i.keyCode===27}function $I(){const i=S.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Qo(i){if(!i||typeof i=="function")return null;const{major:e}=$I();return e>=19?i.props.ref:i.ref}const Oh=!!(typeof window<"u"&&window.document&&window.document.createElement);var Bp=!1,Hp=!1;try{var vp={get passive(){return Bp=!0},get once(){return Hp=Bp=!0}};Oh&&(window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,!0))}catch{}function KI(i,e,n,s){if(s&&typeof s!="boolean"&&!Hp){var o=s.once,l=s.capture,c=n;!Hp&&o&&(c=n.__once||function m(p){this.removeEventListener(e,m,l),n.call(this,p)},n.__once=c),i.addEventListener(e,c,Bp?s:l)}i.addEventListener(e,n,s)}function QI(i,e,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,n,o),n.__once&&i.removeEventListener(e,n.__once,o)}function eh(i,e,n,s){return KI(i,e,n,s),function(){QI(i,e,n,s)}}function YI(i,e,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,s),i.dispatchEvent(o)}}function XI(i){var e=Ir(i,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function WI(i,e,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||YI(i,"transitionend",!0)},e+n),l=eh(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function JI(i,e,n,s){n==null&&(n=XI(i)||0);var o=WI(i,n,s),l=eh(i,"transitionend",e);return function(){o(),l()}}function DT(i,e){const n=Ir(i,e)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function xg(i,e){const n=DT(i,"transitionDuration"),s=DT(i,"transitionDelay"),o=JI(i,l=>{l.target===i&&(o(),e(l))},n+s)}function uu(...i){return i.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...o){e.apply(this,o),n.apply(this,o)}},null)}function GS(i){i.offsetHeight}const xT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function ZI(i,e){const n=xT(i),s=xT(e);return o=>{n&&n(o),s&&s(o)}}function eN(i,e){return S.useMemo(()=>ZI(i,e),[i,e])}function tN(i){return i&&"setState"in i?xo.findDOMNode(i):i??null}const Mh=Gi.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,onExited:l,addEndListener:c,children:m,childRef:p,...g},_)=>{const T=S.useRef(null),w=eN(T,p),M=se=>{w(tN(se))},U=se=>I=>{se&&T.current&&se(T.current,I)},F=S.useCallback(U(i),[i]),j=S.useCallback(U(e),[e]),Y=S.useCallback(U(n),[n]),J=S.useCallback(U(s),[s]),ie=S.useCallback(U(o),[o]),ae=S.useCallback(U(l),[l]),re=S.useCallback(U(c),[c]);return b.jsx(Pr,{ref:_,...g,onEnter:F,onEntered:Y,onEntering:j,onExit:J,onExited:ae,onExiting:ie,addEndListener:re,nodeRef:T,children:typeof m=="function"?(se,I)=>m(se,{...I,ref:M}):Gi.cloneElement(m,{ref:M})})});Mh.displayName="TransitionWrapper";const nN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function iN(i,e){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[n],o=nN[i];return s+parseInt(Ir(e,o[0]),10)+parseInt(Ir(e,o[1]),10)}const rN={[Ts]:"collapse",[bu]:"collapsing",[di]:"collapsing",[Sr]:"collapse show"},$S=Gi.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,className:l,children:c,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:T=!1,appear:w=!1,getDimensionValue:M=iN,...U},F)=>{const j=typeof m=="function"?m():m,Y=S.useMemo(()=>uu(se=>{se.style[j]="0"},i),[j,i]),J=S.useMemo(()=>uu(se=>{const I=`scroll${j[0].toUpperCase()}${j.slice(1)}`;se.style[j]=`${se[I]}px`},e),[j,e]),ie=S.useMemo(()=>uu(se=>{se.style[j]=null},n),[j,n]),ae=S.useMemo(()=>uu(se=>{se.style[j]=`${M(j,se)}px`,GS(se)},s),[s,M,j]),re=S.useMemo(()=>uu(se=>{se.style[j]=null},o),[j,o]);return b.jsx(Mh,{ref:F,addEndListener:xg,...U,"aria-expanded":U.role?p:null,onEnter:Y,onEntering:J,onEntered:ie,onExit:ae,onExiting:re,childRef:Qo(c),in:p,timeout:g,mountOnEnter:_,unmountOnExit:T,appear:w,children:(se,I)=>Gi.cloneElement(c,{...I,className:Te(l,c.props.className,rN[se],j==="width"&&"collapse-horizontal")})})});$S.displayName="Collapse";function sN(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function Yo(i){const e=sN(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Vh=(i=>S.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:Te(e.className,i)}))),KS=Vh("h4");KS.displayName="DivStyledAsH4";const QS=S.forwardRef(({className:i,bsPrefix:e,as:n=KS,...s},o)=>(e=Re(e,"alert-heading"),b.jsx(n,{ref:o,className:Te(i,e),...s})));QS.displayName="AlertHeading";function aN(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function Ar(i){const e=aN(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function oN(){const i=S.useRef(!0),e=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function lN(i){const e=S.useRef(null);return S.useEffect(()=>{e.current=i}),e.current}const uN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",cN=typeof document<"u",OT=cN||uN?S.useLayoutEffect:S.useEffect,fN=["as","disabled"];function hN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function dN(i){return!i||i.trim()==="#"}function Og({tagName:i,disabled:e,href:n,target:s,rel:o,role:l,onClick:c,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const _=w=>{if((e||i==="a"&&dN(n))&&w.preventDefault(),e){w.stopPropagation();return}c?.(w)},T=w=>{w.key===" "&&(w.preventDefault(),_(w))};return i==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:T},g]}const YS=S.forwardRef((i,e)=>{let{as:n,disabled:s}=i,o=hN(i,fN);const[l,{tagName:c}]=Og(Object.assign({tagName:n,disabled:s},o));return b.jsx(c,Object.assign({},o,l,{ref:e}))});YS.displayName="Button";const mN=["onKeyDown"];function pN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function gN(i){return!i||i.trim()==="#"}const Mg=S.forwardRef((i,e)=>{let{onKeyDown:n}=i,s=pN(i,mN);const[o]=Og(Object.assign({tagName:"a"},s)),l=Ar(c=>{o.onKeyDown(c),n?.(c)});return gN(s.href)||s.role==="button"?b.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):b.jsx("a",Object.assign({ref:e},s,{onKeyDown:n}))});Mg.displayName="Anchor";const XS=S.forwardRef(({className:i,bsPrefix:e,as:n=Mg,...s},o)=>(e=Re(e,"alert-link"),b.jsx(n,{ref:o,className:Te(i,e),...s})));XS.displayName="AlertLink";const yN={[di]:"show",[Sr]:"show"},th=S.forwardRef(({className:i,children:e,transitionClasses:n={},onEnter:s,...o},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=S.useCallback((p,g)=>{GS(p),s?.(p,g)},[s]);return b.jsx(Mh,{ref:l,addEndListener:xg,...c,onEnter:m,childRef:Qo(e),children:(p,g)=>S.cloneElement(e,{...g,className:Te("fade",i,e.props.className,yN[p],n[p])})})});th.displayName="Fade";const _N={"aria-label":bn.string,onClick:bn.func,variant:bn.oneOf(["white"])},Lh=S.forwardRef(({className:i,variant:e,"aria-label":n="Close",...s},o)=>b.jsx("button",{ref:o,type:"button",className:Te("btn-close",e&&`btn-close-${e}`,i),"aria-label":n,...s}));Lh.displayName="CloseButton";Lh.propTypes=_N;const WS=S.forwardRef((i,e)=>{const{bsPrefix:n,show:s=!0,closeLabel:o="Close alert",closeVariant:l,className:c,children:m,variant:p="primary",onClose:g,dismissible:_,transition:T=th,...w}=Dh(i,{show:"onClose"}),M=Re(n,"alert"),U=Yo(Y=>{g&&g(!1,Y)}),F=T===!0?th:T,j=b.jsxs("div",{role:"alert",...F?void 0:w,ref:e,className:Te(c,M,p&&`${M}-${p}`,_&&`${M}-dismissible`),children:[_&&b.jsx(Lh,{onClick:U,"aria-label":o,variant:l}),m]});return F?b.jsx(F,{unmountOnExit:!0,...w,ref:void 0,in:s,children:j}):s?j:null});WS.displayName="Alert";const Sa=Object.assign(WS,{Link:XS,Heading:QS}),qi=S.forwardRef(({bsPrefix:i,bg:e="primary",pill:n=!1,text:s,className:o,as:l="span",...c},m)=>{const p=Re(i,"badge");return b.jsx(l,{ref:m,...c,className:Te(o,p,n&&"rounded-pill",s&&`text-${s}`,e&&`bg-${e}`)})});qi.displayName="Badge";const Rs=S.forwardRef(({as:i,bsPrefix:e,variant:n="primary",size:s,active:o=!1,disabled:l=!1,className:c,...m},p)=>{const g=Re(e,"btn"),[_,{tagName:T}]=Og({tagName:i,disabled:l,...m}),w=T;return b.jsx(w,{..._,...m,ref:p,disabled:l,className:Te(c,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});Rs.displayName="Button";const Vg=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-body"),b.jsx(n,{ref:o,className:Te(i,e),...s})));Vg.displayName="CardBody";const JS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-footer"),b.jsx(n,{ref:o,className:Te(i,e),...s})));JS.displayName="CardFooter";const Lg=S.createContext(null);Lg.displayName="CardHeaderContext";const ZS=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Re(i,"card-header"),c=S.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return b.jsx(Lg.Provider,{value:c,children:b.jsx(n,{ref:o,...s,className:Te(e,l)})})});ZS.displayName="CardHeader";const eA=S.forwardRef(({bsPrefix:i,className:e,variant:n,as:s="img",...o},l)=>{const c=Re(i,"card-img");return b.jsx(s,{ref:l,className:Te(n?`${c}-${n}`:c,e),...o})});eA.displayName="CardImg";const tA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-img-overlay"),b.jsx(n,{ref:o,className:Te(i,e),...s})));tA.displayName="CardImgOverlay";const nA=S.forwardRef(({className:i,bsPrefix:e,as:n="a",...s},o)=>(e=Re(e,"card-link"),b.jsx(n,{ref:o,className:Te(i,e),...s})));nA.displayName="CardLink";const vN=Vh("h6"),iA=S.forwardRef(({className:i,bsPrefix:e,as:n=vN,...s},o)=>(e=Re(e,"card-subtitle"),b.jsx(n,{ref:o,className:Te(i,e),...s})));iA.displayName="CardSubtitle";const rA=S.forwardRef(({className:i,bsPrefix:e,as:n="p",...s},o)=>(e=Re(e,"card-text"),b.jsx(n,{ref:o,className:Te(i,e),...s})));rA.displayName="CardText";const EN=Vh("h5"),sA=S.forwardRef(({className:i,bsPrefix:e,as:n=EN,...s},o)=>(e=Re(e,"card-title"),b.jsx(n,{ref:o,className:Te(i,e),...s})));sA.displayName="CardTitle";const aA=S.forwardRef(({bsPrefix:i,className:e,bg:n,text:s,border:o,body:l=!1,children:c,as:m="div",...p},g)=>{const _=Re(i,"card");return b.jsx(m,{ref:g,...p,className:Te(e,_,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:l?b.jsx(Vg,{children:c}):c})});aA.displayName="Card";const pt=Object.assign(aA,{Img:eA,Title:sA,Subtitle:iA,Body:Vg,Link:nA,Text:rA,Header:ZS,Footer:JS,ImgOverlay:tA});function TN(i,e){return S.Children.toArray(i).some(n=>S.isValidElement(n)&&n.type===e)}function SN({as:i,bsPrefix:e,className:n,...s}){e=Re(e,"col");const o=Ig(),l=Ng(),c=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,T,w;typeof g=="object"&&g!=null?{span:_,offset:T,order:w}=g:_=g;const M=p!==l?`-${p}`:"";_&&c.push(_===!0?`${e}${M}`:`${e}${M}-${_}`),w!=null&&m.push(`order${M}-${w}`),T!=null&&m.push(`offset${M}-${T}`)}),[{...s,className:Te(n,...c,...m)},{as:i,bsPrefix:e,spans:c}]}const Gt=S.forwardRef((i,e)=>{const[{className:n,...s},{as:o="div",bsPrefix:l,spans:c}]=SN(i);return b.jsx(o,{...s,ref:e,className:Te(n,!c.length&&l)})});Gt.displayName="Col";const kg=S.forwardRef(({bsPrefix:i,fluid:e=!1,as:n="div",className:s,...o},l)=>{const c=Re(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:l,...o,className:Te(s,e?`${c}${m}`:c)})});kg.displayName="Container";var AN=Function.prototype.bind.call(Function.prototype.call,[].slice);function ya(i,e){return AN(i.querySelectorAll(e))}function wN(){const[,i]=S.useReducer(e=>e+1,0);return i}function MT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const nh=S.createContext(null),kh=(i,e=null)=>i!=null?String(i):e||null,Pg=S.createContext(null);Pg.displayName="NavContext";const bN="data-rr-ui-",RN="rrUi";function Ph(i){return`${bN}${i}`}function CN(i){return`${RN}${i}`}const oA=S.createContext(Oh?window:void 0);oA.Provider;function Ug(){return S.useContext(oA)}const IN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",NN=typeof document<"u",DN=NN||IN?S.useLayoutEffect:S.useEffect,Xo=S.createContext(null);Xo.displayName="NavbarContext";bn.string,bn.bool,bn.bool,bn.bool,bn.bool;const lA=S.forwardRef(({bsPrefix:i,className:e,fluid:n=!1,rounded:s=!1,roundedCircle:o=!1,thumbnail:l=!1,...c},m)=>(i=Re(i,"img"),b.jsx("img",{ref:m,...c,className:Te(e,n&&`${i}-fluid`,s&&"rounded",o&&"rounded-circle",l&&`${i}-thumbnail`)})));lA.displayName="Image";const xN={type:bn.string,tooltip:bn.bool,as:bn.elementType},Uh=S.forwardRef(({as:i="div",className:e,type:n="valid",tooltip:s=!1,...o},l)=>b.jsx(i,{...o,ref:l,className:Te(e,`${n}-${s?"tooltip":"feedback"}`)}));Uh.displayName="Feedback";Uh.propTypes=xN;const xr=S.createContext({}),jg=S.forwardRef(({id:i,bsPrefix:e,className:n,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...m},p)=>{const{controlId:g}=S.useContext(xr);return e=Re(e,"form-check-input"),b.jsx(c,{...m,ref:p,type:s,id:i||g,className:Te(n,e,o&&"is-valid",l&&"is-invalid")})});jg.displayName="FormCheckInput";const ih=S.forwardRef(({bsPrefix:i,className:e,htmlFor:n,...s},o)=>{const{controlId:l}=S.useContext(xr);return i=Re(i,"form-check-label"),b.jsx("label",{...s,ref:o,htmlFor:n||l,className:Te(e,i)})});ih.displayName="FormCheckLabel";const uA=S.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:T,style:w,title:M="",type:U="checkbox",label:F,children:j,as:Y="input",...J},ie)=>{e=Re(e,"form-check"),n=Re(n,"form-switch");const{controlId:ae}=S.useContext(xr),re=S.useMemo(()=>({controlId:i||ae}),[ae,i]),se=!j&&F!=null&&F!==!1||TN(j,ih),I=b.jsx(jg,{...J,type:U==="switch"?"checkbox":U,ref:ie,isValid:c,isInvalid:m,disabled:l,as:Y});return b.jsx(xr.Provider,{value:re,children:b.jsx("div",{style:w,className:Te(T,se&&e,s&&`${e}-inline`,o&&`${e}-reverse`,U==="switch"&&n),children:j||b.jsxs(b.Fragment,{children:[I,se&&b.jsx(ih,{title:M,children:F}),g&&b.jsx(Uh,{type:_,tooltip:p,children:g})]})})})});uA.displayName="FormCheck";const rh=Object.assign(uA,{Input:jg,Label:ih}),cA=S.forwardRef(({bsPrefix:i,type:e,size:n,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:_="input",...T},w)=>{const{controlId:M}=S.useContext(xr);return i=Re(i,"form-control"),b.jsx(_,{...T,type:e,size:s,ref:w,readOnly:g,id:o||M,className:Te(l,p?`${i}-plaintext`:i,n&&`${i}-${n}`,e==="color"&&`${i}-color`,c&&"is-valid",m&&"is-invalid")})});cA.displayName="FormControl";const ON=Object.assign(cA,{Feedback:Uh}),fA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"form-floating"),b.jsx(n,{ref:o,className:Te(i,e),...s})));fA.displayName="FormFloating";const zg=S.forwardRef(({controlId:i,as:e="div",...n},s)=>{const o=S.useMemo(()=>({controlId:i}),[i]);return b.jsx(xr.Provider,{value:o,children:b.jsx(e,{...n,ref:s})})});zg.displayName="FormGroup";const hA=S.forwardRef(({as:i="label",bsPrefix:e,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c},m)=>{const{controlId:p}=S.useContext(xr);e=Re(e,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const _=Te(o,e,s&&"visually-hidden",n&&g);return l=l||p,n?b.jsx(Gt,{ref:m,as:"label",className:_,htmlFor:l,...c}):b.jsx(i,{ref:m,className:_,htmlFor:l,...c})});hA.displayName="FormLabel";const dA=S.forwardRef(({bsPrefix:i,className:e,id:n,...s},o)=>{const{controlId:l}=S.useContext(xr);return i=Re(i,"form-range"),b.jsx("input",{...s,type:"range",ref:o,className:Te(e,i),id:n||l})});dA.displayName="FormRange";const mA=S.forwardRef(({bsPrefix:i,size:e,htmlSize:n,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...m},p)=>{const{controlId:g}=S.useContext(xr);return i=Re(i,"form-select"),b.jsx("select",{...m,size:n,ref:p,className:Te(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:c||g})});mA.displayName="FormSelect";const pA=S.forwardRef(({bsPrefix:i,className:e,as:n="small",muted:s,...o},l)=>(i=Re(i,"form-text"),b.jsx(n,{...o,ref:l,className:Te(e,i,s&&"text-muted")})));pA.displayName="FormText";const gA=S.forwardRef((i,e)=>b.jsx(rh,{...i,ref:e,type:"switch"}));gA.displayName="Switch";const MN=Object.assign(gA,{Input:rh.Input,Label:rh.Label}),yA=S.forwardRef(({bsPrefix:i,className:e,children:n,controlId:s,label:o,...l},c)=>(i=Re(i,"form-floating"),b.jsxs(zg,{ref:c,className:Te(e,i),controlId:s,...l,children:[n,b.jsx("label",{htmlFor:s,children:o})]})));yA.displayName="FloatingLabel";const VN={_ref:bn.any,validated:bn.bool,as:bn.elementType},Bg=S.forwardRef(({className:i,validated:e,as:n="form",...s},o)=>b.jsx(n,{...s,ref:o,className:Te(i,e&&"was-validated")}));Bg.displayName="Form";Bg.propTypes=VN;const ye=Object.assign(Bg,{Group:zg,Control:ON,Floating:fA,Check:rh,Switch:MN,Label:hA,Text:pA,Range:dA,Select:mA,FloatingLabel:yA}),VT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function LN(i,e){const n=VT(i),s=VT(e);return o=>{n&&n(o),s&&s(o)}}function jh(i,e){return S.useMemo(()=>LN(i,e),[i,e])}const _A=S.createContext(null),kN=["as","active","eventKey"];function PN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Hg({key:i,onClick:e,active:n,id:s,role:o,disabled:l}){const c=S.useContext(nh),m=S.useContext(Pg),p=S.useContext(_A);let g=n;const _={role:o};if(m){!o&&m.role==="tablist"&&(_.role="tab");const T=m.getControllerId(i??null),w=m.getControlledId(i??null);_[Ph("event-key")]=i,_.id=T||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=w)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Ar(T=>{l||(e?.(T),i!=null&&c&&!T.isPropagationStopped()&&c(i,T))}),[_,{isActive:g}]}const vA=S.forwardRef((i,e)=>{let{as:n=YS,active:s,eventKey:o}=i,l=PN(i,kN);const[c,m]=Hg(Object.assign({key:kh(o,l.href),active:s},l));return c[Ph("active")]=m.isActive,b.jsx(n,Object.assign({},l,c,{ref:e}))});vA.displayName="NavItem";const UN=["as","onSelect","activeKey","role","onKeyDown"];function jN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const LT=()=>{},kT=Ph("event-key"),EA=S.forwardRef((i,e)=>{let{as:n="div",onSelect:s,activeKey:o,role:l,onKeyDown:c}=i,m=jN(i,UN);const p=wN(),g=S.useRef(!1),_=S.useContext(nh),T=S.useContext(_A);let w,M;T&&(l=l||"tablist",o=T.activeKey,w=T.getControlledId,M=T.getControllerId);const U=S.useRef(null),F=ie=>{const ae=U.current;if(!ae)return null;const re=ya(ae,`[${kT}]:not([aria-disabled=true])`),se=ae.querySelector("[aria-selected=true]");if(!se||se!==document.activeElement)return null;const I=re.indexOf(se);if(I===-1)return null;let C=I+ie;return C>=re.length&&(C=0),C<0&&(C=re.length-1),re[C]},j=(ie,ae)=>{ie!=null&&(s?.(ie,ae),_?.(ie,ae))},Y=ie=>{if(c?.(ie),!T)return;let ae;switch(ie.key){case"ArrowLeft":case"ArrowUp":ae=F(-1);break;case"ArrowRight":case"ArrowDown":ae=F(1);break;default:return}ae&&(ie.preventDefault(),j(ae.dataset[CN("EventKey")]||null,ie),g.current=!0,p())};S.useEffect(()=>{if(U.current&&g.current){const ie=U.current.querySelector(`[${kT}][aria-selected=true]`);ie?.focus()}g.current=!1});const J=jh(e,U);return b.jsx(nh.Provider,{value:j,children:b.jsx(Pg.Provider,{value:{role:l,activeKey:kh(o),getControlledId:w||LT,getControllerId:M||LT},children:b.jsx(n,Object.assign({},m,{onKeyDown:Y,ref:J,role:l}))})})});EA.displayName="Nav";const TA=Object.assign(EA,{Item:vA}),SA=S.forwardRef(({bsPrefix:i,active:e,disabled:n,eventKey:s,className:o,variant:l,action:c,as:m,...p},g)=>{i=Re(i,"list-group-item");const[_,T]=Hg({key:kh(s,p.href),active:e,...p}),w=Yo(U=>{if(n){U.preventDefault(),U.stopPropagation();return}_.onClick(U)});n&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const M=m||(c?p.href?"a":"button":"div");return b.jsx(M,{ref:g,...p,..._,onClick:w,className:Te(o,i,T.isActive&&"active",n&&"disabled",l&&`${i}-${l}`,c&&`${i}-action`)})});SA.displayName="ListGroupItem";const AA=S.forwardRef((i,e)=>{const{className:n,bsPrefix:s,variant:o,horizontal:l,numbered:c,as:m="div",...p}=Dh(i,{activeKey:"onSelect"}),g=Re(s,"list-group");let _;return l&&(_=l===!0?"horizontal":`horizontal-${l}`),b.jsx(TA,{ref:e,...p,as:m,className:Te(n,g,o&&`${g}-${o}`,_&&`${g}-${_}`,c&&`${g}-numbered`)})});AA.displayName="ListGroup";const Ao=Object.assign(AA,{Item:SA});function Ep(i){i===void 0&&(i=Dg());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function zN(i){const e=S.useRef(i);return e.current=i,e}function BN(i){const e=zN(i);S.useEffect(()=>()=>e.current(),[])}function HN(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const PT=Ph("modal-open");class qg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return HN(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(Ir(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(PT,""),Ir(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(PT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Tp=(i,e)=>Oh?i==null?(e||Dg()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function qN(i,e){const n=Ug(),[s,o]=S.useState(()=>Tp(i,n?.document));if(!s){const l=Tp(i);l&&o(l)}return S.useEffect(()=>{},[e,s]),S.useEffect(()=>{const l=Tp(i);l!==s&&o(l)},[i,s]),s}function FN({children:i,in:e,onExited:n,mountOnEnter:s,unmountOnExit:o}){const l=S.useRef(null),c=S.useRef(e),m=Ar(n);S.useEffect(()=>{e?c.current=!0:m(l.current)},[e,m]);const p=jh(l,Qo(i)),g=S.cloneElement(i,{ref:p});return e?g:o||!c.current&&s?null:g}const GN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $N(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function KN(i){let{onEnter:e,onEntering:n,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:m,children:p}=i,g=$N(i,GN);const _=S.useRef(null),T=jh(_,Qo(p)),w=ae=>re=>{ae&&_.current&&ae(_.current,re)},M=S.useCallback(w(e),[e]),U=S.useCallback(w(n),[n]),F=S.useCallback(w(s),[s]),j=S.useCallback(w(o),[o]),Y=S.useCallback(w(l),[l]),J=S.useCallback(w(c),[c]),ie=S.useCallback(w(m),[m]);return Object.assign({},g,{nodeRef:_},e&&{onEnter:M},n&&{onEntering:U},s&&{onEntered:F},o&&{onExit:j},l&&{onExiting:Y},c&&{onExited:J},m&&{addEndListener:ie},{children:typeof p=="function"?(ae,re)=>p(ae,Object.assign({},re,{ref:T})):S.cloneElement(p,{ref:T})})}const QN=["component"];function YN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const XN=S.forwardRef((i,e)=>{let{component:n}=i,s=YN(i,QN);const o=KN(s);return b.jsx(n,Object.assign({ref:e},o))});function WN({in:i,onTransition:e}){const n=S.useRef(null),s=S.useRef(!0),o=Ar(e);return OT(()=>{if(!n.current)return;let l=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),OT(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function JN({children:i,in:e,onExited:n,onEntered:s,transition:o}){const[l,c]=S.useState(!e);e&&l&&c(!1);const m=WN({in:!!e,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(c(!0),n?.(g.element)))};Promise.resolve(o(g)).then(_,T=>{throw g.in||c(!0),T})}}),p=jh(m,Qo(i));return l&&!e?null:S.cloneElement(i,{ref:p})}function UT(i,e,n){return i?b.jsx(XN,Object.assign({},n,{component:i})):e?b.jsx(JN,Object.assign({},n,{transition:e})):b.jsx(FN,Object.assign({},n))}const ZN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function eD(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}let Sp;function tD(i){return Sp||(Sp=new qg({ownerDocument:i?.document})),Sp}function nD(i){const e=Ug(),n=i||tD(e),s=S.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:S.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{s.current.backdrop=o},[])})}const wA=S.forwardRef((i,e)=>{let{show:n=!1,role:s="dialog",className:o,style:l,children:c,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:T,runTransition:w,backdropTransition:M,runBackdropTransition:U,autoFocus:F=!0,enforceFocus:j=!0,restoreFocus:Y=!0,restoreFocusOptions:J,renderDialog:ie,renderBackdrop:ae=Je=>b.jsx("div",Object.assign({},Je)),manager:re,container:se,onShow:I,onHide:C=()=>{},onExit:N,onExited:V,onExiting:x,onEnter:P,onEntering:D,onEntered:ke}=i,at=eD(i,ZN);const K=Ug(),le=qN(se),fe=nD(re),Ve=oN(),Pe=lN(n),[L,W]=S.useState(!n),oe=S.useRef(null);S.useImperativeHandle(e,()=>fe,[fe]),Oh&&!Pe&&n&&(oe.current=Ep(K?.document)),n&&L&&W(!1);const ue=Ar(()=>{if(fe.add(),Le.current=eh(document,"keydown",yt),me.current=eh(document,"focus",()=>setTimeout(be),!0),I&&I(),F){var Je,Ei;const nr=Ep((Je=(Ei=fe.dialog)==null?void 0:Ei.ownerDocument)!=null?Je:K?.document);fe.dialog&&nr&&!MT(fe.dialog,nr)&&(oe.current=nr,fe.dialog.focus())}}),_e=Ar(()=>{if(fe.remove(),Le.current==null||Le.current(),me.current==null||me.current(),Y){var Je;(Je=oe.current)==null||Je.focus==null||Je.focus(J),oe.current=null}});S.useEffect(()=>{!n||!le||ue()},[n,le,ue]),S.useEffect(()=>{L&&_e()},[L,_e]),BN(()=>{_e()});const be=Ar(()=>{if(!j||!Ve()||!fe.isTopModal())return;const Je=Ep(K?.document);fe.dialog&&Je&&!MT(fe.dialog,Je)&&fe.dialog.focus()}),Oe=Ar(Je=>{Je.target===Je.currentTarget&&(g?.(Je),m===!0&&C())}),yt=Ar(Je=>{p&&GI(Je)&&fe.isTopModal()&&(_?.(Je),Je.defaultPrevented||C())}),me=S.useRef(),Le=S.useRef(),At=(...Je)=>{W(!0),V?.(...Je)};if(!le)return null;const Nt=Object.assign({role:s,ref:fe.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},at,{style:l,className:o,tabIndex:-1});let Dt=ie?ie(Nt):b.jsx("div",Object.assign({},Nt,{children:S.cloneElement(c,{role:"document"})}));Dt=UT(T,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:x,onExited:At,onEnter:P,onEntering:D,onEntered:ke,children:Dt});let ht=null;return m&&(ht=ae({ref:fe.setBackdropRef,onClick:Oe}),ht=UT(M,U,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ht})),b.jsx(b.Fragment,{children:xo.createPortal(b.jsxs(b.Fragment,{children:[ht,Dt]}),le)})});wA.displayName="Modal";const iD=Object.assign(wA,{Manager:qg});function rD(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function sD(i,e){i.classList?i.classList.add(e):rD(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function jT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function aD(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=jT(i.className,e):i.setAttribute("class",jT(i.className&&i.className.baseVal||"",e))}const wo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class bA extends qg{adjustAndStore(e,n,s){const o=n.style[e];n.dataset[e]=o,Ir(n,{[e]:`${parseFloat(Ir(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],Ir(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(sD(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ya(n,wo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),ya(n,wo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),ya(n,wo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();aD(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ya(n,wo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),ya(n,wo.STICKY_CONTENT).forEach(l=>this.restore(o,l)),ya(n,wo.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Ap;function oD(i){return Ap||(Ap=new bA(i)),Ap}const RA=S.createContext({onHide(){}}),CA=S.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:o,...l},c)=>{const m=S.useContext(RA),p=Yo(()=>{m?.onHide(),s?.()});return b.jsxs("div",{ref:c,...l,children:[o,n&&b.jsx(Lh,{"aria-label":i,variant:e,onClick:p})]})});CA.displayName="AbstractModalHeader";const IA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"nav-item"),b.jsx(n,{ref:o,className:Te(i,e),...s})));IA.displayName="NavItem";const NA=S.forwardRef(({bsPrefix:i,className:e,as:n=Mg,active:s,eventKey:o,disabled:l=!1,...c},m)=>{i=Re(i,"nav-link");const[p,g]=Hg({key:kh(o,c.href),active:s,disabled:l,...c});return b.jsx(n,{...c,...p,ref:m,disabled:l,className:Te(e,i,l&&"disabled",g.isActive&&"active")})});NA.displayName="NavLink";const DA=S.forwardRef((i,e)=>{const{as:n="div",bsPrefix:s,variant:o,fill:l=!1,justify:c=!1,navbar:m,navbarScroll:p,className:g,activeKey:_,...T}=Dh(i,{activeKey:"onSelect"}),w=Re(s,"nav");let M,U,F=!1;const j=S.useContext(Xo),Y=S.useContext(Lg);return j?(M=j.bsPrefix,F=m??!0):Y&&({cardHeaderBsPrefix:U}=Y),b.jsx(TA,{as:n,ref:e,activeKey:_,className:Te(g,{[w]:!F,[`${M}-nav`]:F,[`${M}-nav-scroll`]:F&&p,[`${U}-${o}`]:!!U,[`${w}-${o}`]:!!o,[`${w}-fill`]:l,[`${w}-justified`]:c}),...T})});DA.displayName="Nav";const bo=Object.assign(DA,{Item:IA,Link:NA}),xA=S.forwardRef(({bsPrefix:i,className:e,as:n,...s},o)=>{i=Re(i,"navbar-brand");const l=n||(s.href?"a":"span");return b.jsx(l,{...s,ref:o,className:Te(e,i)})});xA.displayName="NavbarBrand";const OA=S.forwardRef(({children:i,bsPrefix:e,...n},s)=>{e=Re(e,"navbar-collapse");const o=S.useContext(Xo);return b.jsx($S,{in:!!(o&&o.expanded),...n,children:b.jsx("div",{ref:s,className:e,children:i})})});OA.displayName="NavbarCollapse";const MA=S.forwardRef(({bsPrefix:i,className:e,children:n,label:s="Toggle navigation",as:o="button",onClick:l,...c},m)=>{i=Re(i,"navbar-toggler");const{onToggle:p,expanded:g}=S.useContext(Xo)||{},_=Yo(T=>{l&&l(T),p&&p()});return o==="button"&&(c.type="button"),b.jsx(o,{...c,ref:m,onClick:_,"aria-label":s,className:Te(e,i,!g&&"collapsed"),children:n||b.jsx("span",{className:`${i}-icon`})})});MA.displayName="NavbarToggle";const qp=new WeakMap,zT=(i,e)=>{if(!i||!e)return;const n=qp.get(e)||new Map;qp.set(e,n);let s=n.get(i);return s||(s=e.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function lD(i,e=typeof window>"u"?void 0:window){const n=zT(i,e),[s,o]=S.useState(()=>n?n.matches:!1);return DN(()=>{let l=zT(i,e);if(!l)return o(!1);let c=qp.get(e);const m=()=>{o(l.matches)};return l.refCount++,l.addListener(m),m(),()=>{l.removeListener(m),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[i]),s}function uD(i){const e=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return e[Math.min(e.indexOf(m)+1,e.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(m,p,g){let _;typeof m=="object"?(_=m,g=p,p=!0):(p=p||!0,_={[m]:p});let T=S.useMemo(()=>Object.entries(_).reduce((w,[M,U])=>((U==="up"||U===!0)&&(w=n(w,l(M))),(U==="down"||U===!0)&&(w=n(w,o(M))),w),""),[JSON.stringify(_)]);return lD(T,g)}return c}const cD=uD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),VA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"offcanvas-body"),b.jsx(n,{ref:o,className:Te(i,e),...s})));VA.displayName="OffcanvasBody";const fD={[di]:"show",[Sr]:"show"},LA=S.forwardRef(({bsPrefix:i,className:e,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...m},p)=>(i=Re(i,"offcanvas"),b.jsx(Mh,{ref:p,addEndListener:xg,in:s,mountOnEnter:o,unmountOnExit:l,appear:c,...m,childRef:Qo(n),children:(g,_)=>S.cloneElement(n,{..._,className:Te(e,n.props.className,(g===di||g===bu)&&`${i}-toggling`,fD[g])})})));LA.displayName="OffcanvasToggling";const kA=S.forwardRef(({bsPrefix:i,className:e,closeLabel:n="Close",closeButton:s=!1,...o},l)=>(i=Re(i,"offcanvas-header"),b.jsx(CA,{ref:l,...o,className:Te(e,i),closeLabel:n,closeButton:s})));kA.displayName="OffcanvasHeader";const hD=Vh("h5"),PA=S.forwardRef(({className:i,bsPrefix:e,as:n=hD,...s},o)=>(e=Re(e,"offcanvas-title"),b.jsx(n,{ref:o,className:Te(i,e),...s})));PA.displayName="OffcanvasTitle";function dD(i){return b.jsx(LA,{...i})}function mD(i){return b.jsx(th,{...i})}const UA=S.forwardRef(({bsPrefix:i,className:e,children:n,"aria-labelledby":s,placement:o="start",responsive:l,show:c=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:T,onHide:w,container:M,autoFocus:U=!0,enforceFocus:F=!0,restoreFocus:j=!0,restoreFocusOptions:Y,onEntered:J,onExit:ie,onExiting:ae,onEnter:re,onEntering:se,onExited:I,backdropClassName:C,manager:N,renderStaticNode:V=!1,...x},P)=>{const D=S.useRef();i=Re(i,"offcanvas");const[ke,at]=S.useState(!1),K=Yo(w),le=cD(l||"xs","up");S.useEffect(()=>{at(l?c&&!le:c)},[c,l,le]);const fe=S.useMemo(()=>({onHide:K}),[K]);function Ve(){return N||(g?(D.current||(D.current=new bA({handleContainerOverflow:!1})),D.current):oD())}const Pe=(ue,..._e)=>{ue&&(ue.style.visibility="visible"),re?.(ue,..._e)},L=(ue,..._e)=>{ue&&(ue.style.visibility=""),I?.(..._e)},W=S.useCallback(ue=>b.jsx("div",{...ue,className:Te(`${i}-backdrop`,C)}),[C,i]),oe=ue=>b.jsx("div",{...ue,...x,className:Te(e,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return b.jsxs(b.Fragment,{children:[!ke&&(l||V)&&oe({}),b.jsx(RA.Provider,{value:fe,children:b.jsx(iD,{show:ke,ref:P,backdrop:m,container:M,keyboard:p,autoFocus:U,enforceFocus:F&&!g,restoreFocus:j,restoreFocusOptions:Y,onEscapeKeyDown:_,onShow:T,onHide:K,onEnter:Pe,onEntering:se,onEntered:J,onExit:ie,onExiting:ae,onExited:L,manager:Ve(),transition:dD,backdropTransition:mD,renderBackdrop:W,renderDialog:oe})})]})});UA.displayName="Offcanvas";const pD=Object.assign(UA,{Body:VA,Header:kA,Title:PA}),jA=S.forwardRef(({onHide:i,...e},n)=>{const s=S.useContext(Xo),o=Yo(()=>{s==null||s.onToggle==null||s.onToggle(),i?.()});return b.jsx(pD,{ref:n,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});jA.displayName="NavbarOffcanvas";const zA=S.forwardRef(({className:i,bsPrefix:e,as:n="span",...s},o)=>(e=Re(e,"navbar-text"),b.jsx(n,{ref:o,className:Te(i,e),...s})));zA.displayName="NavbarText";const BA=S.forwardRef((i,e)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:l,fixed:c,sticky:m,className:p,as:g="nav",expanded:_,onToggle:T,onSelect:w,collapseOnSelect:M=!1,...U}=Dh(i,{expanded:"onToggle"}),F=Re(n,"navbar"),j=S.useCallback((...ie)=>{w?.(...ie),M&&_&&T?.(!1)},[w,M,_,T]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let Y=`${F}-expand`;typeof s=="string"&&(Y=`${Y}-${s}`);const J=S.useMemo(()=>({onToggle:()=>T?.(!_),bsPrefix:F,expanded:!!_,expand:s}),[F,_,s,T]);return b.jsx(Xo.Provider,{value:J,children:b.jsx(nh.Provider,{value:j,children:b.jsx(g,{ref:e,...U,className:Te(p,F,s&&Y,o&&`${F}-${o}`,l&&`bg-${l}`,m&&`sticky-${m}`,c&&`fixed-${c}`)})})})});BA.displayName="Navbar";const Mf=Object.assign(BA,{Brand:xA,Collapse:OA,Offcanvas:jA,Text:zA,Toggle:MA}),Fi=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Re(i,"row"),c=Ig(),m=Ng(),p=`${l}-cols`,g=[];return c.forEach(_=>{const T=s[_];delete s[_];let w;T!=null&&typeof T=="object"?{cols:w}=T:w=T;const M=_!==m?`-${_}`:"";w!=null&&g.push(`${p}${M}-${w}`)}),b.jsx(n,{ref:o,...s,className:Te(e,l,...g)})});Fi.displayName="Row";function gD(i,e=HS,n=qS){const s=[];return Object.entries(i).forEach(([o,l])=>{l!=null&&(typeof l=="object"?e.forEach(c=>{const m=l[c];if(m!=null){const p=c!==n?`-${c}`:"";s.push(`${o}${p}-${m}`)}}):s.push(`${o}-${l}`))}),s}const Os=S.forwardRef(({as:i="div",bsPrefix:e,className:n,direction:s,gap:o,...l},c)=>{e=Re(e,s==="horizontal"?"hstack":"vstack");const m=Ig(),p=Ng();return b.jsx(i,{...l,ref:c,className:Te(n,e,...gD({gap:o},m,p))})});Os.displayName="Stack";const yD=()=>{};var BT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_D=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,M=g&63;p||(M=64,c||(w=64)),s.push(n[_],n[T],n[w],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(HA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_D(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new vD;const w=l<<2|m>>4;if(s.push(w),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(i){const e=HA(i);return qA.encodeByteArray(e,!0)},sh=function(i){return ED(i).replace(/\./g,"")},FA=function(i){try{return qA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=()=>TD().__FIREBASE_DEFAULTS__,AD=()=>{if(typeof process>"u"||typeof BT>"u")return;const i=BT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&FA(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return yD()||SD()||AD()||wD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},GA=i=>zh()?.emulatorHosts?.[i],bD=i=>{const e=GA(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$A=()=>zh()?.config,KA=i=>zh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sh(JSON.stringify(n)),sh(JSON.stringify(c)),""].join(".")}const _u={};function ID(){const i={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?i.emulator.push(e):i.prod.push(e);return i}function ND(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let HT=!1;function YA(i,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||_u[i]===e||_u[i]||HT)return;_u[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=ID().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{HT=!0,c()},w}function _(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=ND(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),F=n("learnmore"),j=document.getElementById(F)||document.createElement("a"),Y=n("preprendIcon"),J=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),_(j,F);const ae=g();p(J,Y),ie.append(J,U,j,ae),document.body.appendChild(ie)}l?(U.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function xD(){const i=zh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MD(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LD(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function kD(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PD(){try{return typeof indexedDB=="object"}catch{return!1}}function UD(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="FirebaseError";class Ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jD,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?zD(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ur(o,m,s)}}function zD(i,e){return i.replace(BD,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BD=/\{\$([^}]+)}/g;function HD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ba(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(qT(l)&&qT(c)){if(!ba(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function qT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function du(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function qD(i,e){const n=new FD(i,e);return n.subscribe.bind(n)}class FD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GD(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i){return i&&i._delegate?i._delegate:i}class Ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QD(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(i){return i===_a?void 0:i}function QD(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $D(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const XD={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},WD=He.INFO,JD={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ZD=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=JD[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=WD,this._logHandler=ZD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const e2=(i,e)=>e.some(n=>i instanceof n);let FT,GT;function t2(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,Fp=new WeakMap,WA=new WeakMap,bp=new WeakMap,Gg=new WeakMap;function i2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{n(Cs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&XA.set(n,i)}).catch(()=>{}),Gg.set(e,i),e}function r2(i){if(Fp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Fp.set(i,e)}let Gp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||WA.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function s2(i){Gp=i(Gp)}function a2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Rp(this),e,...n);return WA.set(s,e.sort?e.sort():[e]),Cs(s)}:n2().includes(i)?function(...e){return i.apply(Rp(this),e),Cs(XA.get(this))}:function(...e){return Cs(i.apply(Rp(this),e))}}function o2(i){return typeof i=="function"?a2(i):(i instanceof IDBTransaction&&r2(i),e2(i,t2())?new Proxy(i,Gp):i)}function Cs(i){if(i instanceof IDBRequest)return i2(i);if(bp.has(i))return bp.get(i);const e=o2(i);return e!==i&&(bp.set(i,e),Gg.set(e,i)),e}const Rp=i=>Gg.get(i);function l2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=Cs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Cs(c.result),p.oldVersion,p.newVersion,Cs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const u2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],Cp=new Map;function $T(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u2.includes(n)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cp.set(e,l),l}s2(i=>({...i,get:(e,n,s)=>$T(e,n)||i.get(e,n,s),has:(e,n)=>!!$T(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h2(i){return i.getComponent()?.type==="VERSION"}const $p="@firebase/app",KT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Fg("@firebase/app"),d2="@firebase/app-compat",m2="@firebase/analytics-compat",p2="@firebase/analytics",g2="@firebase/app-check-compat",y2="@firebase/app-check",_2="@firebase/auth",v2="@firebase/auth-compat",E2="@firebase/database",T2="@firebase/data-connect",S2="@firebase/database-compat",A2="@firebase/functions",w2="@firebase/functions-compat",b2="@firebase/installations",R2="@firebase/installations-compat",C2="@firebase/messaging",I2="@firebase/messaging-compat",N2="@firebase/performance",D2="@firebase/performance-compat",x2="@firebase/remote-config",O2="@firebase/remote-config-compat",M2="@firebase/storage",V2="@firebase/storage-compat",L2="@firebase/firestore",k2="@firebase/ai",P2="@firebase/firestore-compat",U2="firebase",j2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="[DEFAULT]",z2={[$p]:"fire-core",[d2]:"fire-core-compat",[p2]:"fire-analytics",[m2]:"fire-analytics-compat",[y2]:"fire-app-check",[g2]:"fire-app-check-compat",[_2]:"fire-auth",[v2]:"fire-auth-compat",[E2]:"fire-rtdb",[T2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[A2]:"fire-fn",[w2]:"fire-fn-compat",[b2]:"fire-iid",[R2]:"fire-iid-compat",[C2]:"fire-fcm",[I2]:"fire-fcm-compat",[N2]:"fire-perf",[D2]:"fire-perf-compat",[x2]:"fire-rc",[O2]:"fire-rc-compat",[M2]:"fire-gcs",[V2]:"fire-gcs-compat",[L2]:"fire-fst",[P2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[U2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,B2=new Map,Qp=new Map;function QT(i,e){try{i.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Po(i){const e=i.name;if(Qp.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,i);for(const n of ah.values())QT(n,i);for(const n of B2.values())QT(n,i);return!0}function $g(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Rn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new ju("app","Firebase",H2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=j2;function JA(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Kp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(n||(n=$A()),!n)throw Is.create("no-options");const l=ah.get(o);if(l){if(ba(n,l.options)&&ba(s,l.config))return l;throw Is.create("duplicate-app",{appName:o})}const c=new YD(o);for(const p of Qp.values())c.addComponent(p);const m=new q2(n,s,c);return ah.set(o,m),m}function ZA(i=Kp){const e=ah.get(i);if(!e&&i===Kp&&$A())return JA();if(!e)throw Is.create("no-app",{appName:i});return e}function Ns(i,e,n){let s=z2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(c.join(" "));return}Po(new Ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",G2=1,Ru="firebase-heartbeat-store";let Ip=null;function ew(){return Ip||(Ip=l2(F2,G2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw Is.create("idb-open",{originalErrorMessage:i.message})})),Ip}async function $2(i){try{const n=(await ew()).transaction(Ru),s=await n.objectStore(Ru).get(tw(i));return await n.done,s}catch(e){if(e instanceof Ur)Or.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}}async function YT(i,e){try{const s=(await ew()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,tw(i)),await s.done}catch(n){if(n instanceof Ur)Or.warn(n.message);else{const s=Is.create("idb-set",{originalErrorMessage:n?.message});Or.warn(s.message)}}}function tw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1024,Q2=30;class Y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Q2){const o=J2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XT(),{heartbeatsToSend:n,unsentEntries:s}=X2(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function XT(){return new Date().toISOString().substring(0,10)}function X2(i,e=K2){const n=[];let s=i.slice();for(const o of i){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),WT(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),WT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PD()?UD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function WT(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function J2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i){Po(new Ra("platform-logger",e=>new f2(e),"PRIVATE")),Po(new Ra("heartbeat",e=>new Y2(e),"PRIVATE")),Ns($p,KT,i),Ns($p,KT,"esm2020"),Ns("fire-js","")}Z2("");var ex="firebase",tx="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(ex,tx,"app");function nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nx=nw,iw=new ju("auth","Firebase",nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Fg("@firebase/auth");function ix(i,...e){oh.logLevel<=He.WARN&&oh.warn(`Auth (${Jo}): ${i}`,...e)}function Hf(i,...e){oh.logLevel<=He.ERROR&&oh.error(`Auth (${Jo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw Qg(i,...e)}function pi(i,...e){return Qg(i,...e)}function Kg(i,e,n){const s={...nx(),[e]:n};return new ju("auth","Firebase",s).create(e,{appName:i.name})}function Ki(i){return Kg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ei(i,"argument-error"),Kg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return iw.create(i,...e)}function Ae(i,e,...n){if(!i)throw Qg(e,...n)}function br(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hf(e),new Error(e)}function Mr(i,e){i||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){return typeof self<"u"&&self.location?.href||""}function rx(){return JT()==="http:"||JT()==="https:"}function JT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rx()||MD()||"connection"in navigator)?navigator.onLine:!0}function ax(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=DD()||VD()}get(){return sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e){Mr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ux=new Bu(3e4,6e4);function js(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function jr(i,e,n,s,o={}){return aw(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=zu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return OD()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Wo(i.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await ow(i,i.config.apiHost,n,m),g)})}async function aw(i,e,n){i._canInitEmulator=!1;const s={...ox,...e};try{const o=new fx(i),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Vf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Vf(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Kg(i,_,g);ei(i,_)}}catch(o){if(o instanceof Ur)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Hu(i,e,n,s,o={}){const l=await jr(i,e,n,s,o);return"mfaPendingCredential"in l&&ei(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function ow(i,e,n,s){const o=`${e}${n}?${s}`,l=i,c=l.config.emulator?Yg(i.config,o):`${i.config.apiScheme}://${o}`;return lx.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function cx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),ux.get())})}}function Vf(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function ZT(i){return i!==void 0&&i.enterprise!==void 0}class hx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dx(i,e){return jr(i,"GET","/v2/recaptchaConfig",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(i,e){return jr(i,"POST","/v1/accounts:delete",e)}async function lh(i,e){return jr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function px(i,e=!1){const n=St(i),s=await n.getIdToken(e),o=Xg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:vu(Np(o.auth_time)),issuedAtTime:vu(Np(o.iat)),expirationTime:vu(Np(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Np(i){return Number(i)*1e3}function Xg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=FA(n);return o?JSON.parse(o):(Hf("Failed to decode base64 JWT payload"),null)}catch(o){return Hf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(i){const e=Xg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ur&&gx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function gx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(i){const e=i.auth,n=await i.getIdToken(),s=await Uo(i,lh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?lw(o.providerUserInfo):[],c=vx(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function _x(i){const e=St(i);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lw(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(i,e){const n=await aw(i,{},async()=>{const s=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await ow(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Wo(i.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tx(i,e){return jr(i,"POST","/v2/accounts:revokeToken",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await Ex(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Mo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return px(this,e)}reload(){return _x(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Uo(this,mx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:M,providerData:U,stsTokenManager:F}=n;Ae(T&&F,e,"internal-error");const j=Mo.fromJSON(this.name,F);Ae(typeof T=="string",e,"internal-error"),vs(s,e.name),vs(o,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof M=="boolean",e,"internal-error"),vs(l,e.name),vs(c,e.name),vs(m,e.name),vs(p,e.name),vs(g,e.name),vs(_,e.name);const Y=new mi({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:_});return U&&Array.isArray(U)&&(Y.providerData=U.map(J=>({...J}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Mo;o.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?lw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Mo;m.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function Rr(i){Mr(i instanceof Function,"Expected a class definition");let e=t0.get(i);return e?(Mr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,t0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uw.type="NONE";const n0=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(i,e,n){return`firebase:${i}:${e}:${n}`}class Vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=qf(this.userKey,o.apiKey,l),this.fullPersistenceKey=qf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vo(Rr(n0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Rr(n0);const c=qf(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await lh(e,{idToken:_}).catch(()=>{});if(!w)break;T=await mi._fromGetAccountInfoResponse(e,w,_)}else T=mi._fromJSON(e,_);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Vo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Vo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(gw(e))return"Webos";if(fw(e))return"Safari";if((e.includes("chrome/")||hw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function cw(i=hn()){return/firefox\//i.test(i)}function fw(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hw(i=hn()){return/crios\//i.test(i)}function dw(i=hn()){return/iemobile/i.test(i)}function mw(i=hn()){return/android/i.test(i)}function pw(i=hn()){return/blackberry/i.test(i)}function gw(i=hn()){return/webos/i.test(i)}function Wg(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Sx(i=hn()){return Wg(i)&&!!window.navigator?.standalone}function Ax(){return LD()&&document.documentMode===10}function yw(i=hn()){return Wg(i)||mw(i)||gw(i)||pw(i)||/windows phone/i.test(i)||dw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i,e=[]){let n;switch(i){case"Browser":n=i0(hn());break;case"Worker":n=`${i0(hn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e={}){return jr(i,"GET","/v2/passwordPolicy",js(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=6;class Cx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ax()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Ki(this));const n=e?St(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bx(this),n=new Cx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Tx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ix(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tr(i){return St(i)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=qD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nx(i){Bh=i}function vw(i){return Bh.loadJS(i)}function Dx(){return Bh.recaptchaEnterpriseScript}function xx(){return Bh.gapiScript}function Ox(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Mx{constructor(){this.enterprise=new Vx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lx="recaptcha-enterprise",Ew="NO_RECAPTCHA";class kx{constructor(e){this.type=Lx,this.auth=tr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{dx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new hx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;ZT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Ew)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&ZT(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Dx();p.length!==0&&(p+=m),vw(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function s0(i,e,n,s=!1,o=!1){const l=new kx(i);let c;if(o)c=Ew;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await s0(i,e,n,n==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await s0(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(i,e){const n=$g(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ba(l,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function Ux(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function jx(i,e,n){const s=tr(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Tw(e),{host:c,port:m}=zx(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(ba(g,s.config.emulator)&&ba(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Wo(c)?(QA(`${l}//${c}${p}`),YA("Auth",!0)):Bx()}function Tw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function zx(i){const e=Tw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:a0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:a0(c)}}}function a0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Bx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function Hx(i,e){return jr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(i,e){return Hu(i,"POST","/v1/accounts:signInWithPassword",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,e){return Hu(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}async function Gx(i,e){return Hu(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Jg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",qx);case"emailLink":return Fx(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,s,"signUpPassword",Hx);case"emailLink":return Gx(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(i,e){return Hu(i,"POST","/v1/accounts:signInWithIdp",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="http://localhost";class Ca extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new Ca(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:$x,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qx(i){const e=hu(du(i)).link,n=e?hu(du(e)).deep_link_id:null,s=hu(du(i)).deep_link_id;return(s?hu(du(s)).link:null)||s||n||e||i}class Zg{constructor(e){const n=hu(du(e)),s=n.apiKey??null,o=n.oobCode??null,l=Kx(n.mode??null);Ae(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Qx(e);try{return new Zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zg.parseLink(n);return Ae(s,"argument-error"),Cu._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends qu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends qu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends qu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ws.credential(n,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,e){return Hu(i,"POST","/v1/accounts:signUp",js(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await mi._fromIdTokenResponse(e,s,o),c=o0(s);return new Ia({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=o0(s);return new Ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function o0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function Sw(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(i,l,e,s):l})}async function Xx(i,e,n=!1){const s=await Uo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,e,n=!1){const{auth:s}=i;if(Rn(s.app))return Promise.reject(Ki(s));const o="reauthenticate";try{const l=await Uo(i,Sw(s,o,e,i),n);Ae(l.idToken,s,"internal-error");const c=Xg(l.idToken);Ae(c,s,"internal-error");const{sub:m}=c;return Ae(i.uid===m,s,"user-mismatch"),Ia._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(i,e,n=!1){if(Rn(i.app))return Promise.reject(Ki(i));const s="signIn",o=await Sw(i,s,e),l=await Ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(l.user),l}async function Jx(i,e){return Aw(tr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(i){const e=tr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zx(i,e,n){if(Rn(i.app))return Promise.reject(Ki(i));const s=tr(i),c=await Wp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ww(i),p}),m=await Ia._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function eO(i,e,n){return Rn(i.app)?Promise.reject(Ki(i)):Jx(St(i),Zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ww(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(i,e){return jr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=St(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Uo(s,tO(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function iO(i,e,n,s){return St(i).onIdTokenChanged(e,n,s)}function rO(i,e,n){return St(i).beforeAuthStateChanged(e,n)}function sO(i,e,n,s){return St(i).onAuthStateChanged(e,n,s)}function aO(i){return St(i).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1e3,lO=10;class Rw extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Ax()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rw.type="LOCAL";const uO=Rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cw.type="SESSION";const Iw=Cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),p=await cO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=ey("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function hO(i){Qi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function dO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mO(){return navigator?.serviceWorker?.controller||null}function pO(){return Nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",gO=1,hh="firebaseLocalStorage",xw="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(i,e){return i.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function yO(){const i=indexedDB.deleteDatabase(Dw);return new Fu(i).toPromise()}function Jp(){const i=indexedDB.open(Dw,gO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(hh,{keyPath:xw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await yO(),e(await Jp()))})})}async function l0(i,e,n){const s=Fh(i,!0).put({[xw]:e,value:n});return new Fu(s).toPromise()}async function _O(i,e){const n=Fh(i,!1).get(e),s=await new Fu(n).toPromise();return s===void 0?null:s.value}function u0(i,e){const n=Fh(i,!0).delete(e);return new Fu(n).toPromise()}const vO=800,EO=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(pO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await l0(e,fh,"1"),await u0(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>l0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_O(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Fh(o,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const TO=Ow;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,e){return e?Rr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SO(i){return Aw(i.auth,new ny(i),i.bypassAuthState)}function AO(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),Wx(n,new ny(i),i.bypassAuthState)}async function wO(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),Xx(n,new ny(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return wO;case"reauthViaPopup":case"reauthViaRedirect":return AO;default:ei(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Bu(2e3,1e4);async function RO(i,e,n){if(Rn(i.app))return Promise.reject(pi(i,"operation-not-supported-in-this-environment"));const s=tr(i);rw(i,e,Hh);const o=ty(s,n);return new Ea(s,"signInViaPopup",e,o).executeNotNull()}class Ea extends Mw{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bO.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="pendingRedirect",Ff=new Map;class IO extends Mw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await NO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NO(i,e){const n=Lw(e),s=Vw(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function DO(i,e){return Vw(i)._set(Lw(e),"true")}function xO(i,e){Ff.set(i._key(),e)}function Vw(i){return Rr(i._redirectPersistence)}function Lw(i){return qf(CO,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(i,e,n){return OO(i,e,n)}async function OO(i,e,n){if(Rn(i.app))return Promise.reject(Ki(i));const s=tr(i);rw(i,e,Hh),await s._initializationPromise;const o=ty(s,n);return await DO(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function MO(i,e){return await tr(i)._initializationPromise,kw(i,e,!1)}async function kw(i,e,n=!1){if(Rn(i.app))return Promise.reject(Ki(i));const s=tr(i),o=ty(s,e),c=await new IO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=600*1e3;class LO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Pw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VO&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Pw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(i,e={}){return jr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jO=/^https?/;async function zO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await PO(i);for(const n of e)try{if(BO(n))return}catch{}ei(i,"unauthorized-domain")}function BO(i){const e=Yp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!jO.test(n))return!1;if(UO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Bu(3e4,6e4);function h0(){const i=Qi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function qO(i){return new Promise((e,n)=>{function s(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(pi(i,"network-request-failed"))},timeout:HO.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=Ox("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(pi(i,"network-request-failed"))},vw(`${xx()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function FO(i){return Gf=Gf||qO(i),Gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Bu(5e3,15e3),$O="__/auth/iframe",KO="emulator/auth/iframe",QO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XO(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Yg(e,KO):`https://${i.config.authDomain}/${$O}`,s={apiKey:e.apiKey,appName:i.name,v:Jo},o=YO.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${zu(s).slice(1)}`}async function WO(i){const e=await FO(i),n=Qi().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:XO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QO,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=pi(i,"network-request-failed"),m=Qi().setTimeout(()=>{l(c)},GO.get());function p(){Qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,eM=600,tM="_blank",nM="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(i,e,n,s=ZO,o=eM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...JO,width:s.toString(),height:o.toString(),top:l,left:c},g=hn().toLowerCase();n&&(m=hw(g)?tM:n),cw(g)&&(e=e||nM,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[M,U])=>`${w}${M}=${U},`,"");if(Sx(g)&&m!=="_self")return rM(e||"",m),new d0(null);const T=window.open(e||"",m,_);Ae(T,i,"popup-blocked");try{T.focus()}catch{}return new d0(T)}function rM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="__/auth/handler",aM="emulator/auth/handler",oM=encodeURIComponent("fac");async function m0(i,e,n,s,o,l){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Jo,eventId:o};if(e instanceof Hh){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",HD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof qu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${oM}=${encodeURIComponent(p)}`:"";return`${lM(i)}?${zu(m).slice(1)}${g}`}function lM({config:i}){return i.emulator?Yg(i,aM):`https://${i.authDomain}/${sM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class uM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iw,this._completeRedirectFn=kw,this._overrideRedirectResult=xO}async _openPopup(e,n,s,o){Mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await m0(e,n,s,Yp(),o);return iM(e,l,ey())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await m0(e,n,s,Yp(),o);return hO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Mr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WO(e),s=new LO(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},o=>{const l=o?.[0]?.[Dp];l!==void 0&&n(!!l),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yw()||fw()||Wg()}}const cM=uM;var p0="@firebase/auth",g0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dM(i){Po(new Ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_w(i)},g=new Ix(s,o,l,p);return Ux(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new Ra("auth-internal",e=>{const n=tr(e.getProvider("auth").getImmediate());return(s=>new fM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(p0,g0,hM(i)),Ns(p0,g0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=300,pM=KA("authIdTokenMaxAge")||mM;let y0=null;const gM=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pM)return;const o=n?.token;y0!==o&&(y0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yM(i=ZA()){const e=$g(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Px(i,{popupRedirectResolver:cM,persistence:[TO,uO,Iw]}),s=KA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=gM(l.toString());rO(n,c,()=>c(n.currentUser)),iO(n,m=>c(m))}}const o=GA("auth");return o&&jx(n,`http://${o}`),n}function _M(){return document.getElementsByTagName("head")?.[0]??document}Nx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=pi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",_M().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dM("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,Uw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function N(){}N.prototype=C.prototype,I.F=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(V,x,P){for(var D=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)D[ke-2]=arguments[ke];return C.prototype[x].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,N){N||(N=0);const V=Array(16);if(typeof C=="string")for(var x=0;x<16;++x)V[x]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(x=0;x<16;++x)V[x]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],x=I.g[2];let P=I.g[3],D;D=C+(P^N&(x^P))+V[0]+3614090360&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(x^C&(N^x))+V[1]+3905402710&4294967295,P=C+(D<<12&4294967295|D>>>20),D=x+(N^P&(C^N))+V[2]+606105819&4294967295,x=P+(D<<17&4294967295|D>>>15),D=N+(C^x&(P^C))+V[3]+3250441966&4294967295,N=x+(D<<22&4294967295|D>>>10),D=C+(P^N&(x^P))+V[4]+4118548399&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(x^C&(N^x))+V[5]+1200080426&4294967295,P=C+(D<<12&4294967295|D>>>20),D=x+(N^P&(C^N))+V[6]+2821735955&4294967295,x=P+(D<<17&4294967295|D>>>15),D=N+(C^x&(P^C))+V[7]+4249261313&4294967295,N=x+(D<<22&4294967295|D>>>10),D=C+(P^N&(x^P))+V[8]+1770035416&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(x^C&(N^x))+V[9]+2336552879&4294967295,P=C+(D<<12&4294967295|D>>>20),D=x+(N^P&(C^N))+V[10]+4294925233&4294967295,x=P+(D<<17&4294967295|D>>>15),D=N+(C^x&(P^C))+V[11]+2304563134&4294967295,N=x+(D<<22&4294967295|D>>>10),D=C+(P^N&(x^P))+V[12]+1804603682&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(x^C&(N^x))+V[13]+4254626195&4294967295,P=C+(D<<12&4294967295|D>>>20),D=x+(N^P&(C^N))+V[14]+2792965006&4294967295,x=P+(D<<17&4294967295|D>>>15),D=N+(C^x&(P^C))+V[15]+1236535329&4294967295,N=x+(D<<22&4294967295|D>>>10),D=C+(x^P&(N^x))+V[1]+4129170786&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^x&(C^N))+V[6]+3225465664&4294967295,P=C+(D<<9&4294967295|D>>>23),D=x+(C^N&(P^C))+V[11]+643717713&4294967295,x=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(x^P))+V[0]+3921069994&4294967295,N=x+(D<<20&4294967295|D>>>12),D=C+(x^P&(N^x))+V[5]+3593408605&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^x&(C^N))+V[10]+38016083&4294967295,P=C+(D<<9&4294967295|D>>>23),D=x+(C^N&(P^C))+V[15]+3634488961&4294967295,x=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(x^P))+V[4]+3889429448&4294967295,N=x+(D<<20&4294967295|D>>>12),D=C+(x^P&(N^x))+V[9]+568446438&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^x&(C^N))+V[14]+3275163606&4294967295,P=C+(D<<9&4294967295|D>>>23),D=x+(C^N&(P^C))+V[3]+4107603335&4294967295,x=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(x^P))+V[8]+1163531501&4294967295,N=x+(D<<20&4294967295|D>>>12),D=C+(x^P&(N^x))+V[13]+2850285829&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^x&(C^N))+V[2]+4243563512&4294967295,P=C+(D<<9&4294967295|D>>>23),D=x+(C^N&(P^C))+V[7]+1735328473&4294967295,x=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(x^P))+V[12]+2368359562&4294967295,N=x+(D<<20&4294967295|D>>>12),D=C+(N^x^P)+V[5]+4294588738&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^x)+V[8]+2272392833&4294967295,P=C+(D<<11&4294967295|D>>>21),D=x+(P^C^N)+V[11]+1839030562&4294967295,x=P+(D<<16&4294967295|D>>>16),D=N+(x^P^C)+V[14]+4259657740&4294967295,N=x+(D<<23&4294967295|D>>>9),D=C+(N^x^P)+V[1]+2763975236&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^x)+V[4]+1272893353&4294967295,P=C+(D<<11&4294967295|D>>>21),D=x+(P^C^N)+V[7]+4139469664&4294967295,x=P+(D<<16&4294967295|D>>>16),D=N+(x^P^C)+V[10]+3200236656&4294967295,N=x+(D<<23&4294967295|D>>>9),D=C+(N^x^P)+V[13]+681279174&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^x)+V[0]+3936430074&4294967295,P=C+(D<<11&4294967295|D>>>21),D=x+(P^C^N)+V[3]+3572445317&4294967295,x=P+(D<<16&4294967295|D>>>16),D=N+(x^P^C)+V[6]+76029189&4294967295,N=x+(D<<23&4294967295|D>>>9),D=C+(N^x^P)+V[9]+3654602809&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^x)+V[12]+3873151461&4294967295,P=C+(D<<11&4294967295|D>>>21),D=x+(P^C^N)+V[15]+530742520&4294967295,x=P+(D<<16&4294967295|D>>>16),D=N+(x^P^C)+V[2]+3299628645&4294967295,N=x+(D<<23&4294967295|D>>>9),D=C+(x^(N|~P))+V[0]+4096336452&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~x))+V[7]+1126891415&4294967295,P=C+(D<<10&4294967295|D>>>22),D=x+(C^(P|~N))+V[14]+2878612391&4294967295,x=P+(D<<15&4294967295|D>>>17),D=N+(P^(x|~C))+V[5]+4237533241&4294967295,N=x+(D<<21&4294967295|D>>>11),D=C+(x^(N|~P))+V[12]+1700485571&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~x))+V[3]+2399980690&4294967295,P=C+(D<<10&4294967295|D>>>22),D=x+(C^(P|~N))+V[10]+4293915773&4294967295,x=P+(D<<15&4294967295|D>>>17),D=N+(P^(x|~C))+V[1]+2240044497&4294967295,N=x+(D<<21&4294967295|D>>>11),D=C+(x^(N|~P))+V[8]+1873313359&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~x))+V[15]+4264355552&4294967295,P=C+(D<<10&4294967295|D>>>22),D=x+(C^(P|~N))+V[6]+2734768916&4294967295,x=P+(D<<15&4294967295|D>>>17),D=N+(P^(x|~C))+V[13]+1309151649&4294967295,N=x+(D<<21&4294967295|D>>>11),D=C+(x^(N|~P))+V[4]+4149444226&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~x))+V[11]+3174756917&4294967295,P=C+(D<<10&4294967295|D>>>22),D=x+(C^(P|~N))+V[2]+718787259&4294967295,x=P+(D<<15&4294967295|D>>>17),D=N+(P^(x|~C))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const N=C-this.blockSize,V=this.C;let x=this.h,P=0;for(;P<C;){if(x==0)for(;P<=N;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<C;)if(V[x++]=I.charCodeAt(P++),x==this.blockSize){o(this,V),x=0;break}}else for(;P<C;)if(V[x++]=I[P++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)I[C++]=this.g[N]>>>V&255;return I};function l(I,C){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function c(I,C){this.h=C;const N=[];let V=!0;for(let x=I.length-1;x>=0;x--){const P=I[x]|0;V&&P==C||(N[x]=P,V=!1)}this.g=N}var m={};function p(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return j(g(-I));const C=[];let N=1;for(let V=0;I>=N;V++)C[V]=I/N|0,N*=4294967296;return new c(C,0)}function _(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return j(_(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(C,8));let V=T;for(let P=0;P<I.length;P+=8){var x=Math.min(8,I.length-P);const D=parseInt(I.substring(P,P+x),C);x<8?(x=g(Math.pow(C,x)),V=V.j(x).add(g(D))):(V=V.j(N),V=V.add(g(D)))}return V}var T=p(0),w=p(1),M=p(16777216);i=c.prototype,i.m=function(){if(F(this))return-j(this).m();let I=0,C=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);I+=(V>=0?V:4294967296+V)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(F(this))return"-"+j(this).toString(I);const C=g(Math.pow(I,6));var N=this;let V="";for(;;){const x=ae(N,C).g;N=Y(N,x.j(C));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=x,U(N))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function F(I){return I.h==-1}i.l=function(I){return I=Y(this,I),F(I)?-1:U(I)?0:1};function j(I){const C=I.g.length,N=[];for(let V=0;V<C;V++)N[V]=~I.g[V];return new c(N,~I.h).add(w)}i.abs=function(){return F(this)?j(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),N=[];let V=0;for(let x=0;x<=C;x++){let P=V+(this.i(x)&65535)+(I.i(x)&65535),D=(P>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);V=D>>>16,P&=65535,D&=65535,N[x]=D<<16|P}return new c(N,N[N.length-1]&-2147483648?-1:0)};function Y(I,C){return I.add(j(C))}i.j=function(I){if(U(this)||U(I))return T;if(F(this))return F(I)?j(this).j(j(I)):j(j(this).j(I));if(F(I))return j(this.j(j(I)));if(this.l(M)<0&&I.l(M)<0)return g(this.m()*I.m());const C=this.g.length+I.g.length,N=[];for(var V=0;V<2*C;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<I.g.length;x++){const P=this.i(V)>>>16,D=this.i(V)&65535,ke=I.i(x)>>>16,at=I.i(x)&65535;N[2*V+2*x]+=D*at,J(N,2*V+2*x),N[2*V+2*x+1]+=P*at,J(N,2*V+2*x+1),N[2*V+2*x+1]+=D*ke,J(N,2*V+2*x+1),N[2*V+2*x+2]+=P*ke,J(N,2*V+2*x+2)}for(I=0;I<C;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=C;I<2*C;I++)N[I]=0;return new c(N,0)};function J(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ie(I,C){this.g=I,this.h=C}function ae(I,C){if(U(C))throw Error("division by zero");if(U(I))return new ie(T,T);if(F(I))return C=ae(j(I),C),new ie(j(C.g),j(C.h));if(F(C))return C=ae(I,j(C)),new ie(j(C.g),C.h);if(I.g.length>30){if(F(I)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var N=w,V=C;V.l(I)<=0;)N=re(N),V=re(V);var x=se(N,1),P=se(V,1);for(V=se(V,2),N=se(N,2);!U(V);){var D=P.add(V);D.l(I)<=0&&(x=x.add(N),P=D),V=se(V,1),N=se(N,1)}return C=Y(I,x.j(C)),new ie(x,C)}for(x=T;I.l(C)>=0;){for(N=Math.max(1,Math.floor(I.m()/C.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(N),D=P.j(C);F(D)||D.l(I)>0;)N-=V,P=g(N),D=P.j(C);U(P)&&(P=w),x=x.add(P),I=Y(I,D)}return new ie(x,I)}i.B=function(I){return ae(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)&I.i(V);return new c(N,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)|I.i(V);return new c(N,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)^I.i(V);return new c(N,this.h^I.h)};function re(I){const C=I.g.length+1,N=[];for(let V=0;V<C;V++)N[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(N,I.h)}function se(I,C){const N=C>>5;C%=32;const V=I.g.length-N,x=[];for(let P=0;P<V;P++)x[P]=C>0?I.i(P+N)>>>C|I.i(P+N+1)<<32-C:I.i(P+N);return new c(x,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Uw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ds=c}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jw,mu,zw,$f,Zp,Bw,Hw,qw;(function(){var i,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(f,y){if(y)e:{var E=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var B=f[R];if(!(B in E))break e;E=E[B]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,E){return f.call.apply(f.bind,arguments)}function g(f,y,E){return g=p,g.apply(null,arguments)}function _(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function T(f,y){function E(){}E.prototype=y.prototype,f.Z=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,B,$){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return y.prototype[B].apply(R,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function M(f){const y=f.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function U(f,y){for(let R=1;R<arguments.length;R++){const B=arguments[R];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=f.length||0;const $=B.length||0;f.length=E+$;for(let ce=0;ce<$;ce++)f[E+ce]=B[ce]}else f.push(B)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(f){c.setTimeout(()=>{throw f},0)}function Y(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,E){const R=ie.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ie=new F(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,se=!1,I=new J,C=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(N)}};function N(){for(var f;f=Y();){try{f.h.call(f.g)}catch(E){j(E)}var y=ie;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}se=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function ke(f,y){x.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}T(ke,x),ke.prototype.init=function(f,y){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(f,y,E,R,B){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=B,this.key=++K,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ve(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function Pe(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function L(f){const y={};for(const E in f)y[E]=f[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(f,y){let E,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(E in R)f[E]=R[E];for(let $=0;$<W.length;$++)E=W[$],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,y,E,R,B){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ce=be(f,y,R,B);return ce>-1?(y=f[ce],E||(y.fa=!1)):(y=new le(y,this.src,$,!!R,B),y.fa=E,f.push(y)),y};function _e(f,y){const E=y.type;if(E in f.g){var R=f.g[E],B=Array.prototype.indexOf.call(R,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(R,B,1),$&&(fe(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function be(f,y,E,R){for(let B=0;B<f.length;++B){const $=f[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==R)return B}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),yt={};function me(f,y,E,R,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)me(f,y[$],E,R,B);return null}return E=rl(E),f&&f[at]?f.J(y,E,m(R)?!!R.capture:!1,B):Le(f,y,E,!1,R,B)}function Le(f,y,E,R,B,$){if(!y)throw Error("Invalid event type");const ce=m(B)?!!B.capture:!!B;let De=Ei(f);if(De||(f[Oe]=De=new ue(f)),E=De.add(y,E,R,ce,$),E.proxy)return E;if(R=At(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)P||(B=ce),B===void 0&&(B=!1),f.addEventListener(y.toString(),R,B);else if(f.attachEvent)f.attachEvent(ht(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function At(){function f(E){return y.call(f.src,f.listener,E)}const y=Je;return f}function Nt(f,y,E,R,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Nt(f,y[$],E,R,B);else R=m(R)?!!R.capture:!!R,E=rl(E),f&&f[at]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],E=be(y,E,R,B),E>-1&&(fe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=Ei(f))&&(y=f.g[y.toString()],f=-1,y&&(f=be(y,E,R,B)),(E=f>-1?y[f]:null)&&Dt(E))}function Dt(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[at])_e(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(ht(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Ei(y))?(_e(E,f),E.h==0&&(E.src=null,y[Oe]=null)):fe(f)}}}function ht(f){return f in yt?yt[f]:yt[f]="on"+f}function Je(f,y){if(f.da)f=!0;else{y=new ke(y,this);const E=f.listener,R=f.ha||f.src;f.fa&&Dt(f),f=E.call(R,y)}return f}function Ei(f){return f=f[Oe],f instanceof ue?f:null}var nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function rl(f){return typeof f=="function"?f:(f[nr]||(f[nr]=function(y){return f.handleEvent(y)}),f[nr])}function xt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}T(xt,V),xt.prototype[at]=!0,xt.prototype.removeEventListener=function(f,y,E,R){Nt(this,f,y,E,R)};function qt(f,y){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new x(y,f);else if(y instanceof x)y.target=y.target||f;else{var B=y;y=new x(R,f),oe(y,B)}B=!0;let $,ce;if(E)for(ce=E.length-1;ce>=0;ce--)$=y.g=E[ce],B=zr($,R,!0,y)&&B;if($=y.g=f,B=zr($,R,!0,y)&&B,B=zr($,R,!1,y)&&B,E)for(ce=0;ce<E.length;ce++)$=y.g=E[ce],B=zr($,R,!1,y)&&B}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const E=f.g[y];for(let R=0;R<E.length;R++)fe(E[R]);delete f.g[y],f.h--}}this.G=null},xt.prototype.J=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},xt.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function zr(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const ce=y[$];if(ce&&!ce.da&&ce.capture==E){const De=ce.listener,bt=ce.ha||ce.src;ce.fa&&_e(f.i,ce),B=De.call(bt,R)!==!1&&B}}return B&&!R.defaultPrevented}function ud(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function tc(f){f.g=ud(()=>{f.g=null,f.i&&(f.i=!1,tc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class dn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(f){V.call(this),this.h=f,this.g={}}T(Hs,V);var sl=[];function al(f){Ve(f.g,function(y,E){this.g.hasOwnProperty(E)&&Dt(y)},f),f.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),al(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=c.JSON.stringify,cd=c.JSON.parse,nc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ic(){}function rc(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){x.call(this,"d")}T(Jt,x);function zn(){x.call(this,"c")}T(zn,x);var wt={},sc=null;function Va(){return sc=sc||new xt}wt.Ia="serverreachability";function ac(f){x.call(this,wt.Ia,f)}T(ac,x);function Ti(f){const y=Va();qt(y,new ac(y))}wt.STAT_EVENT="statevent";function qs(f,y){x.call(this,wt.STAT_EVENT,f),this.stat=y}T(qs,x);function Ot(f){const y=Va();qt(y,new qs(y,f))}wt.Ja="timingevent";function Si(f,y){x.call(this,wt.Ja,f),this.size=y}T(Si,x);function Ai(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function fd(f,y,E,R,B,$){f.info(function(){if(f.g)if($){var ce="",De=$.split("&");for(let Ye=0;Ye<De.length;Ye++){var bt=De[Ye].split("=");if(bt.length>1){const dt=bt[0];bt=bt[1];const Fn=dt.split("_");ce=Fn.length>=2&&Fn[1]=="type"?ce+(dt+"="+bt+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+y+`
`+E+`
`+ce})}function oc(f,y,E,R,B,$,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+ce})}function wi(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+hd(f,E)+(R?" "+R:"")})}function Fs(f,y){f.info(function(){return"TIMEOUT: "+y})}ni.prototype.info=function(){};function hd(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var B=R[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Br($)}catch{return y}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function $s(){}T($s,ic),$s.prototype.g=function(){return new XMLHttpRequest},ll=new $s;function ir(f){return encodeURIComponent(String(f))}function lc(f){var y=1;f=f.split(":");const E=[];for(;y>0&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function ii(f,y,E,R){this.j=f,this.i=y,this.l=E,this.S=R||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Mt={},Kt={};function bi(f,y,E){f.M=1,f.A=Ks(Lt(y)),f.u=E,f.R=!0,La(f,null)}function La(f,y){f.F=Date.now(),Ri(f),f.B=Lt(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),ja(E.i,"t",R),f.C=0,E=f.j.L,f.h=new ri,f.g=Ac(f.j,E?y:null,!f.u),f.P>0&&(f.O=new dn(g(f.Y,f,f.g),f.P)),y=f.V,E=f.g,R=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(sl[0]=B.toString()),B=sl);for(let $=0;$<B.length;$++){const ce=me(E,B[$],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.J?L(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Ti(),fd(f.i,f.v,f.B,f.l,f.S,f.u)}ii.prototype.ba=function(f){f=f.target;const y=this.O;y&&oi(f)==3?y.j():this.Y(f)},ii.prototype.Y=function(f){try{if(f==this.g)e:{const De=oi(this.g),bt=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||De!=4||bt==7||(bt==8||Ye<=0?Ti(3):Ti(2)),Ci(this);var y=this.g.ca();this.X=y;var E=dd(this);if(this.o=y==200,oc(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,B=this.g;if((R=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var $=R;break t}}$=null}if(f=$)wi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,f);else{this.o=!1,this.m=3,Ot(12),Dn(this),Bn(this);break e}}if(this.R){f=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=cc(this,E),dt==Kt){De==4&&(this.m=4,Ot(14),f=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Mt){this.m=4,Ot(15),wi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else wi(this.i,this.l,dt,null),Ii(this,dt);if(uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Ot(16),f=!1),this.o=this.o&&f,!f)wi(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),Bn(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Al(ce),ce.P=!0,Ot(11))}}else wi(this.i,this.l,E,null),Ii(this,E);De==4&&Dn(this),this.o&&!this.K&&(De==4?vc(this.j,this):(this.o=!1,Ri(this)))}else sr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Dn(this),Bn(this)}}}catch{}finally{}};function dd(f){if(!uc(f))return f.g.la();const y=Zt(f.g);if(y==="")return"";let E="";const R=y.length,B=oi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),Bn(f),"";f.h.i=new c.TextDecoder}for(let $=0;$<R;$++)f.h.h=!0,E+=f.h.i.decode(y[$],{stream:!(B&&$==R-1)});return y.length=0,f.h.g+=E,f.C=0,f.h.g}function uc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function cc(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?Kt:(E=Number(y.substring(E,R)),isNaN(E)?Mt:(R+=1,R+E>y.length?Kt:(y=y.slice(R,R+E),f.C=R+E,y)))}ii.prototype.cancel=function(){this.K=!0,Dn(this)};function Ri(f){f.T=Date.now()+f.H,ka(f,f.H)}function ka(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ai(g(f.aa,f),y)}function Ci(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ii.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Fs(this.i,this.B),this.M!=2&&(Ti(),Ot(17)),Dn(this),this.m=2,Bn(this)):ka(this,this.T-f)};function Bn(f){f.j.I==0||f.K||vc(f.j,f)}function Dn(f){Ci(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,al(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Ii(f,y){try{var E=f.j;if(E.I!=0&&(E.g==f||Di(E.h,f))){if(!f.L&&Di(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Fa(E),Yr(E);else break e;ea(E),Ot(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(g(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((f.L||E.g==f)&&Fa(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ye=B[y];const dt=Ye[0];if(!(dt<=E.K))if(E.K=dt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Fn=Ye[3];Fn!=null&&(E.ka=Fn,E.j.info("VER="+E.ka));const Pi=Ye[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const li=Ye[5];li!=null&&typeof li=="number"&&li>0&&(R=1.5*li,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ui=f.g;if(ui){const ta=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var $=R.h;$.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(fl($,$.h),$.h=null))}if(R.G){const Ga=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(R.wa=Ga,Ze(R.J,R.G,Ga))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ce=f;if(R.na=Sc(R,R.L?R.ba:null,R.W),ce.L){hl(R.h,ce);var De=ce,bt=R.O;bt&&(De.H=bt),De.D&&(Ci(De),Ri(De)),R.g=ce}else yc(R);E.i.length>0&&Li(E)}else Ye[0]!="stop"&&Ye[0]!="close"||ki(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ki(E,7):Tl(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Ti(4)}catch{}}var Vt=class{constructor(f,y){this.g=f,this.map=y}};function ul(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ni(f){return f.h?1:f.g?f.g.size:0}function Di(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function fl(f,y){f.g?f.g.add(y):f.h=y}function hl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.G);return y}return M(f.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(f,y){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let B,$=null;R>=0?(B=f[E].substring(0,R),$=f[E].substring(R+1)):B=f[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function xn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof xn?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,Hr(this,f.u),this.h=f.h,ml(this,pc(f.i)),this.m=f.m):f&&(y=String(f).match(fc))?(this.l=!1,Qt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Hr(this,y[4]),this.h=xi(y[5]||"",!0),ml(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}xn.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Qs(y,Ua,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Qs(y,Ua,!0),"@"),f.push(ir(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Qs(E,E.charAt(0)=="/"?pl:hc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Qs(E,dc)),f.join("")},xn.prototype.resolve=function(f){const y=Lt(this);let E=!!f.j;E?Qt(y,f.j):E=!!f.o,E?y.o=f.o:E=!!f.g,E?y.g=f.g:E=f.u!=null;var R=f.h;if(E)Hr(y,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var B=y.h.lastIndexOf("/");B!=-1&&(R=y.h.slice(0,B+1)+R)}if(B=R,B==".."||B==".")R="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){R=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let ce=0;ce<B.length;){const De=B[ce++];De=="."?R&&ce==B.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),R&&ce==B.length&&$.push("")):($.push(De),R=!0)}R=$.join("/")}else R=B}return E?y.h=R:E=f.i.toString()!=="",E?ml(y,pc(f.i)):E=!!f.m,E&&(y.m=f.m),y};function Lt(f){return new xn(f)}function Qt(f,y,E){f.j=E?xi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Hr(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function ml(f,y,E){y instanceof Fr?(f.i=y,za(f.i,f.l)):(E||(y=Qs(y,qr)),f.i=new Fr(y,f.l))}function Ze(f,y,E){f.i.set(y,E)}function Ks(f){return Ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,yn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function yn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ua=/[#\/\?@]/g,hc=/[#\?:]/g,pl=/[#\?]/g,qr=/[#\?@]/g,dc=/#/g;function Fr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&Pa(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Fr.prototype,i.add=function(f,y){_n(this),this.i=null,f=Gr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function mc(f,y){_n(f),y=Gr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function gl(f,y){return _n(f),y=Gr(f,y),f.g.has(y)}i.forEach=function(f,y){_n(this),this.g.forEach(function(E,R){E.forEach(function(B){f.call(y,B,R,this)},this)},this)};function yl(f,y){_n(f);let E=[];if(typeof y=="string")gl(f,y)&&(E=E.concat(f.g.get(Gr(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)E=E.concat(f[y]);return E}i.set=function(f,y){return _n(this),this.i=null,f=Gr(this,f),gl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=yl(this,f),f.length>0?String(f[0]):y):y};function ja(f,y,E){mc(f,y),E.length>0&&(f.i=null,f.g.set(Gr(f,y),M(E)),f.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const B=ir(E);E=yl(this,E);for(let $=0;$<E.length;$++){let ce=B;E[$]!==""&&(ce+="="+ir(E[$])),f.push(ce)}}return this.i=f.join("&")};function pc(f){const y=new Fr;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Gr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function za(f,y){y&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(E,R){const B=R.toLowerCase();R!=B&&(mc(this,R),ja(this,B,E))},f)),f.j=y}function si(f,y){const E=new ni;if(c.Image){const R=new Image;R.onload=_(Hn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=_(Hn,E,"TestLoadImage: error",!1,y,R),R.onabort=_(Hn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=_(Hn,E,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function _l(f,y){const E=new ni,R=new AbortController,B=setTimeout(()=>{R.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then($=>{clearTimeout(B),$.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Hn(E,"TestPingServer: error",!1,y)})}function Hn(f,y,E,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(E)}catch{}}function $r(){this.g=new nc}function Oi(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Oi,ic),Oi.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(f,y){xt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ys,xt),i=Ys.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,ai(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Kr(this):ai(this),this.readyState==3&&Ba(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,Kr(this))},i.Na=function(f){this.g&&(this.response=f,Kr(this))},i.ga=function(){this.g&&Kr(this)};function Kr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ai(f)}i.setRequestHeader=function(f,y){this.A.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qn(f){let y="";return Ve(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Xs(f,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=qn(E),typeof f=="string"?E!=null&&ir(E):Ze(f,y,E))}function nt(f){xt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(nt,xt);var Mi=/^https?$/i,vl=["POST","PUT"];i=nt.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){Ws(this,$);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)E.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())E.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(vl,y,void 0)>=0)||R||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of E)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ws(this,$)}};function Ws(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,El(f),rr(f)}function El(f){f.A||(f.A=!0,qt(f,"complete"),qt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qt(this,"complete"),qt(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},i.Xa=function(){Js(this)};function Js(f){if(f.h&&typeof l<"u"){if(f.v&&oi(f)==4)setTimeout(f.Ca.bind(f),0);else if(qt(f,"readystatechange"),oi(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=$===0){let ce=String(f.D).match(fc)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),R=!Mi.test(ce?ce.toLowerCase():"")}E=R}if(E)qt(f,"complete"),qt(f,"success");else{f.o=6;try{var B=oi(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",El(f)}}finally{rr(f)}}}}function rr(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,y||qt(f,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function oi(f){return f.g?f.g.readyState:0}i.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),cd(y)}};function Zt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sr(f){const y={};f=(f.g&&oi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(D(f[R]))continue;var E=lc(f[R]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}Pe(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Qr(f){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,f),this.Za=Vi("retryDelaySeedMs",1e4,f),this.Ta=Vi("forwardChannelMaxRetries",2,f),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(f&&f.concurrentRequestLimit),this.Ba=new $r,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qr.prototype,i.ka=8,i.I=1,i.connect=function(f,y,E,R){Ot(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Sc(this,null,this.W),Li(this)};function Tl(f){if(Ha(f),f.I==3){var y=f.V++,E=Lt(f.J);if(Ze(E,"SID",f.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),Zs(f,E),y=new ii(f,f.j,y),y.M=2,y.A=Ks(Lt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}Tc(f)}function Yr(f){f.g&&(Al(f),f.g.cancel(),f.g=null)}function Ha(f){Yr(f),f.v&&(c.clearTimeout(f.v),f.v=null),Fa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Li(f){if(!cl(f.h)&&!f.m){f.m=!0;var y=f.Ea;re||C(),se||(re(),se=!0),I.add(y,f),f.D=0}}function qa(f,y){return Ni(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ai(g(f.Ea,f,y),Ec(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new ii(this,this.j,f);let $=this.o;if(this.U&&($?($=L($),oe($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=gc(this,B,y),E=Lt(this.J),Ze(E,"RID",f),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),Zs(this,E),$&&(this.R?y="headers="+ir(qn($))+"&"+y:this.u&&Xs(E,this.u,$)),fl(this.h,B),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),B.U=!0,bi(B,E,null)):bi(B,E,y),this.I=2}}else this.I==3&&(f?Sl(this,f):this.i.length==0||cl(this.h)||Sl(this))};function Sl(f,y){var E;y?E=y.l:E=f.V++;const R=Lt(f.J);Ze(R,"SID",f.M),Ze(R,"RID",E),Ze(R,"AID",f.K),Zs(f,R),f.u&&f.o&&Xs(R,f.u,f.o),E=new ii(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),y&&(f.i=y.G.concat(f.i)),y=gc(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fl(f.h,E),bi(E,R,y)}function Zs(f,y){f.H&&Ve(f.H,function(E,R){Ze(y,R,E)}),f.l&&Ve({},function(E,R){Ze(y,R,E)})}function gc(f,y,E){E=Math.min(f.i.length,E);const R=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let De=-1;for(;;){const bt=["count="+E];De==-1?E>0?(De=B[0].g,bt.push("ofs="+De)):De=0:bt.push("ofs="+De);let Ye=!0;for(let dt=0;dt<E;dt++){var $=B[dt].g;const Fn=B[dt].map;if($-=De,$<0)De=Math.max(0,B[dt].g-100),Ye=!1;else try{$="req"+$+"_"||"";try{var ce=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Pi,li]of ce){let ui=li;m(li)&&(ui=Br(li)),bt.push($+Pi+"="+encodeURIComponent(ui))}}catch(Pi){throw bt.push($+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(Fn)}}if(Ye){ce=bt.join("&");break e}}ce=void 0}return f=f.i.splice(0,E),y.G=f,ce}function yc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;re||C(),se||(re(),se=!0),I.add(y,f),f.A=0}}function ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ai(g(f.Da,f),Ec(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,_c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ai(g(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Yr(this),_c(this))};function Al(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function _c(f){f.g=new ii(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Lt(f.na);Ze(y,"RID","rpc"),Ze(y,"SID",f.M),Ze(y,"AID",f.K),Ze(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ze(y,"TO",f.ia),Ze(y,"TYPE","xmlhttp"),Zs(f,y),f.u&&f.o&&Xs(y,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ks(Lt(y)),E.u=null,E.R=!0,La(E,f)}i.Va=function(){this.C!=null&&(this.C=null,Yr(this),ea(this),Ot(19))};function Fa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function vc(f,y){var E=null;if(f.g==y){Fa(f),Al(f),f.g=null;var R=2}else if(Di(f.h,y))E=y.G,hl(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;R=Va(),qt(R,new Si(R,E)),Li(f)}else yc(f);else if(B=y.m,B==3||B==0&&y.X>0||!(R==1&&qa(f,y)||R==2&&ea(f)))switch(E&&E.length>0&&(y=f.h,y.i=y.i.concat(E)),B){case 1:ki(f,5);break;case 4:ki(f,10);break;case 3:ki(f,6);break;default:ki(f,2)}}}function Ec(f,y){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*y}function ki(f,y){if(f.j.info("Error code "+y),y==2){var E=g(f.bb,f),R=f.Ua;const B=!R;R=new xn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(R,"https"),Ks(R),B?si(R.toString(),E):_l(R.toString(),E)}else Ot(2);f.I=0,f.l&&f.l.pa(y),Tc(f),Ha(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Tc(f){if(f.I=0,f.ja=[],f.l){const y=dl(f.h);(y.length!=0||f.i.length!=0)&&(U(f.ja,y),U(f.ja,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.oa()}}function Sc(f,y,E){var R=E instanceof xn?Lt(E):new xn(E);if(R.g!="")y&&(R.g=y+"."+R.g),Hr(R,R.u);else{var B=c.location;R=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new xn(null);R&&Qt($,R),y&&($.g=y),B&&Hr($,B),E&&($.h=E),R=$}return E=f.G,y=f.wa,E&&y&&Ze(R,E,y),Ze(R,"VER",f.ka),Zs(f,R),R}function Ac(f,y,E){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new nt(new Oi({ab:E})):new nt(f.ma),y.Fa(f.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}i=wc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Xr(){}Xr.prototype.g=function(f,y){return new mn(f,y)};function mn(f,y){xt.call(this),this.g=new Qr(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ar(this)}T(mn,xt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Tl(this.g)},mn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Br(f),f=E);y.i.push(new Vt(y.Ya++,f)),y.I==3&&Li(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,mn.Z.N.call(this)};function bc(f){Jt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}T(bc,Jt);function Rc(){zn.call(this),this.status=1}T(Rc,zn);function ar(f){this.g=f}T(ar,wc),ar.prototype.ra=function(){qt(this.g,"a")},ar.prototype.qa=function(f){qt(this.g,new bc(f))},ar.prototype.pa=function(f){qt(this.g,new Rc)},ar.prototype.oa=function(){qt(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,qw=function(){return new Xr},Hw=function(){return Va()},Bw=wt,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,$f=Gs,ol.COMPLETE="complete",zw=ol,rc.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",xt.prototype.listen=xt.prototype.J,mu=rc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,jw=nt}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Fg("@firebase/firestore");function Co(){return Na.logLevel}function de(i,...e){if(Na.logLevel<=He.DEBUG){const n=e.map(iy);Na.debug(`Firestore (${el}): ${i}`,...n)}}function Vr(i,...e){if(Na.logLevel<=He.ERROR){const n=e.map(iy);Na.error(`Firestore (${el}): ${i}`,...n)}}function jo(i,...e){if(Na.logLevel<=He.WARN){const n=e.map(iy);Na.warn(`Firestore (${el}): ${i}`,...n)}}function iy(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Fw(i,s,n)}function Fw(i,e,n){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vr(s),new Error(s)}function We(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Fw(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class EM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TM{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Nr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new Gw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class SM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new SM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bM(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function qe(i,e){return i<e?-1:i>e?1:0}function eg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return xp(o)===xp(l)?qe(o,l):xp(o)?1:-1}return qe(i.length,e.length)}const RM=55296,CM=57343;function xp(i){const e=i.charCodeAt(0);return e>=RM&&e<=CM}function zo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__name__";class Hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=Hi.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=Hi.isNumericId(e),o=Hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class lt extends Hi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const IM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Hi{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return IM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new an([S0])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function NM(i,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function A0(i){if(!Ee.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function w0(i){if(Ee.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Gh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function In(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function Gu(i,e){if(!Kw(i))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=-62135596800,R0=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*R0);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ht("string",ft._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ft(0,0))}static max(){return new Ce(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function DM(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Ms(o,Ee.empty(),e)}function xM(i){return new Ms(i.readTime,i.key,Iu)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(Ce.min(),Ee.empty(),Iu)}static max(){return new Ms(Ce.max(),Ee.empty(),Iu)}}function OM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==MM)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===l&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function LM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function Kh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function kM(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="";function PM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=C0(e)),e=UM(i.get(n),e);return C0(e)}function UM(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":n+="";break;case Qw:n+="";break;default:n+=l}}return n}function C0(i){return i+Qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function zs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Yw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new sn(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new jn([])}unionWith(e){let n=new $t(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xw("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const jM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(i){if(We(!!i,39018),typeof i=="string"){let e=0;const n=jM.exec(i);if(We(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ls(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="server_timestamp",Jw="__type__",Zw="__previous_value__",eb="__local_write_time__";function ay(i){return(i?.mapValue?.fields||{})[Jw]?.stringValue===Ww}function Qh(i){const e=i.mapValue.fields[Zw];return ay(e)?Qh(e):e}function Nu(i){const e=Vs(i.mapValue.fields[eb].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,s,o,l,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const mh="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__type__",BM="__max__",Pf={mapValue:{}},nb="__vector__",ph="value";function ks(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ay(i)?4:qM(i)?9007199254740991:HM(i)?10:11:we(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const n=ks(i);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Nu(i).isEqual(Nu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Vs(o.timestampValue),m=Vs(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Ls(o.bytesValue).isEqual(Ls(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),m=It(l.doubleValue);return c===m?dh(c)===dh(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(I0(c)!==I0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Zi(c[p],m[p])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function xu(i,e){return(i.values||[]).find((n=>Zi(n,e)))!==void 0}function Bo(i,e){if(i===e)return 0;const n=ks(i),s=ks(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return D0(i.timestampValue,e.timestampValue);case 4:return D0(Nu(i),Nu(e));case 5:return eg(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=Ls(l),p=Ls(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=qe(m[g],p[g]);if(_!==0)return _}return qe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=qe(It(l.latitude),It(c.latitude));return m!==0?m:qe(It(l.longitude),It(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return x0(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},p=c.fields||{},g=m[ph]?.arrayValue,_=p[ph]?.arrayValue,T=qe(g?.values?.length||0,_?.values?.length||0);return T!==0?T:x0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Pf.mapValue&&c===Pf.mapValue)return 0;if(l===Pf.mapValue)return 1;if(c===Pf.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=eg(p[T],_[T]);if(w!==0)return w;const M=Bo(m[p[T]],g[_[T]]);if(M!==0)return M}return qe(p.length,_.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function D0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const n=Vs(i),s=Vs(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function x0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=Bo(n[o],s[o]);if(l)return l}return qe(n.length,s.length)}function Ho(i){return tg(i)}function tg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ls(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ee.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=tg(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${tg(n.fields[c])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function Kf(i){switch(ks(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+Kf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Kf(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return zs(s.fields,((l,c)=>{o+=l.length+Kf(c)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function O0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ng(i){return!!i&&"integerValue"in i}function oy(i){return!!i&&"arrayValue"in i}function M0(i){return!!i&&"nullValue"in i}function V0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qf(i){return!!i&&"mapValue"in i}function HM(i){return(i?.mapValue?.fields||{})[tb]?.stringValue===nb}function Eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return zs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Eu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(i.arrayValue.values[n]);return e}return{...i}}function qM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Eu(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zs(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Cn(Eu(this.value))}}function ib(i){const e=[];return zs(i.fields,((n,s)=>{const o=new an([n]);if(Qf(s)){const l=ib(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ce.min(),Ce.min(),Ce.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ce.min(),Ce.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ce.min(),Ce.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function L0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(c.referenceValue),n.key):s=Bo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function k0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class Bt extends rb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $M(e,n,s):n==="array-contains"?new YM(e,s):n==="in"?new XM(e,s):n==="not-in"?new WM(e,s):n==="array-contains-any"?new JM(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new KM(e,s):new QM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends rb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return sb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sb(i){return i.op==="and"}function ab(i){return GM(i)&&sb(i)}function GM(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function ig(i){if(i instanceof Bt)return i.field.canonicalString()+i.op.toString()+Ho(i.value);if(ab(i))return i.filters.map((e=>ig(e))).join(",");{const e=i.filters.map((n=>ig(n))).join(",");return`${i.op}(${e})`}}function ob(i,e){return i instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof yi?(function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,m)=>l&&ob(c,o.filters[m])),!0):!1})(i,e):void we(19439)}function lb(i){return i instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(i):i instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(lb).join(" ,")+"}"})(i):"Filter"}class $M extends Bt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class KM extends Bt{constructor(e,n){super(e,"in",n),this.keys=ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QM extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ub(i,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class YM extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oy(n)&&xu(n.arrayValue,this.value)}}class XM extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class WM extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class JM extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function P0(i,e=null,n=[],s=[],o=null,l=null,c=null){return new ZM(i,e,n,s,o,l,c)}function ly(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ig(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=n}return e.Te}function uy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!FM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ob(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!k0(i.startAt,e.startAt)&&k0(i.endAt,e.endAt)}function rg(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eV(i,e,n,s,o,l,c,m){return new $u(i,e,n,s,o,l,c,m)}function Yh(i){return new $u(i)}function U0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cb(i){return i.collectionGroup!==null}function Tu(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new $t(an.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yh(l,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new yh(an.keyField(),s))}return e.Ie}function Yi(i){const e=Ne(i);return e.Ee||(e.Ee=tV(e,Tu(i))),e.Ee}function tV(i,e){if(i.limitType==="F")return P0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new yh(o.field,l)}));const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return P0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function sg(i,e){const n=i.filters.concat([e]);return new $u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function ag(i,e,n){return new $u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return uy(Yi(i),Yi(e))&&i.limitType===e.limitType}function fb(i){return`${ly(Yi(i))}|lt:${i.limitType}`}function Io(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lb(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(Yi(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of Tu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=L0(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Tu(s),o)||s.endAt&&!(function(c,m,p){const g=L0(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Tu(s),o))})(i,e)}function nV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hb(i){return(e,n)=>{let s=!1;for(const o of Tu(i)){const l=iV(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function iV(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Bo(p,g):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return Yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new _t(Ee.comparator);function Lr(){return rV}const db=new _t(Ee.comparator);function pu(...i){let e=db;for(const n of i)e=e.insert(n.key,n);return e}function mb(i){let e=db;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ta(){return Su()}function pb(){return Su()}function Su(){return new xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const sV=new _t(Ee.comparator),aV=new $t(Ee.comparator);function Fe(...i){let e=aV;for(const n of i)e=e.add(n);return e}const oV=new $t(qe);function lV(){return oV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function gb(i){return{integerValue:""+i}}function uV(i,e){return kM(e)?gb(e):cy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function cV(i,e,n){return i instanceof Ou?(function(o,l){const c={fields:{[Jw]:{stringValue:Ww},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ay(l)&&(l=Qh(l)),l&&(c.fields[Zw]=l),{mapValue:c}})(n,e):i instanceof Mu?_b(i,e):i instanceof Vu?vb(i,e):(function(o,l){const c=yb(o,l),m=j0(c)+j0(o.Ae);return ng(c)&&ng(o.Ae)?gb(m):cy(o.serializer,m)})(i,e)}function fV(i,e,n){return i instanceof Mu?_b(i,e):i instanceof Vu?vb(i,e):n}function yb(i,e){return i instanceof _h?(function(s){return ng(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ou extends Jh{}class Mu extends Jh{constructor(e){super(),this.elements=e}}function _b(i,e){const n=Eb(e);for(const s of i.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Vu extends Jh{constructor(e){super(),this.elements=e}}function vb(i,e){let n=Eb(e);for(const s of i.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class _h extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j0(i){return It(i.integerValue||i.doubleValue)}function Eb(i){return oy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.field=e,this.transform=n}}function dV(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Mu&&o instanceof Mu||s instanceof Vu&&o instanceof Vu?zo(s.elements,o.elements,Zi):s instanceof _h&&o instanceof _h?Zi(s.Ae,o.Ae):s instanceof Ou&&o instanceof Ou})(i.transform,e.transform)}class mV{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function Tb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new fy(i.key,Nn.none()):new Ku(i.key,i.data,Nn.none());{const n=i.data,s=Cn.empty();let o=new $t(an.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Bs(i.key,s,new jn(o.toArray()),Nn.none())}}function pV(i,e,n){i instanceof Ku?(function(o,l,c){const m=o.value.clone(),p=B0(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Bs?(function(o,l,c){if(!Yf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=B0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Sb(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Au(i,e,n,s){return i instanceof Ku?(function(l,c,m,p){if(!Yf(l.precondition,c))return m;const g=l.value.clone(),_=H0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Bs?(function(l,c,m,p){if(!Yf(l.precondition,c))return m;const g=H0(l.fieldTransforms,p,c),_=c.data;return _.setAll(Sb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(l,c,m){return Yf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function gV(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=yb(s.transform,o||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,l))}return n||null}function z0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,((l,c)=>dV(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ku extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends Zh{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function B0(i,e,n){const s=new Map;We(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,fV(c,m,n[o]))}return s}function H0(i,e,n){const s=new Map;for(const o of i){const l=o.transform,c=n.data.field(o.field);s.set(o.field,cV(l,c,e))}return s}class fy extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yV extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pV(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pb();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const p=Tb(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((n,s)=>z0(n,s)))&&zo(this.baseMutations,e.baseMutations,((n,s)=>z0(n,s)))}}class hy{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return sV})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new hy(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,$e;function TV(i){switch(i){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function Ab(i){if(i===void 0)return Vr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case zt.OK:return ee.OK;case zt.CANCELLED:return ee.CANCELLED;case zt.UNKNOWN:return ee.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ee.INTERNAL;case zt.UNAVAILABLE:return ee.UNAVAILABLE;case zt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case zt.NOT_FOUND:return ee.NOT_FOUND;case zt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case zt.ABORTED:return ee.ABORTED;case zt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case zt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:i})}}($e=zt||(zt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Ds([4294967295,4294967295],0);function q0(i){const e=SV().encode(i),n=new Uw;return n.update(e),new Uint8Array(n.digest())}function F0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ds([n,s],0),new Ds([o,l],0)]}class dy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(s<0)throw new gu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ds.fromNumber(s)));return o.compare(AV)===1&&(o=new Ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q0(e),[s,o]=F0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new dy(l,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=q0(e),[s,o]=F0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ed(Ce.min(),o,new _t(qe),Lr(),Fe())}}class Qu{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Qu(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class wb{constructor(e,n){this.targetId=e,this.Ce=n}}class bb{constructor(e,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class G0{constructor(){this.ve=0,this.Fe=$0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:l})}})),new Qu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=$0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=Uf(),this.He=Uf(),this.Ye=new _t(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(rg(l))if(s===0){const c=new Ee(l.path);this.et(n,c,fn.newNoDocument(c,Ce.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Ls(s).toUint8Array()}catch(p){if(p instanceof Xw)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dy(c,o,l)}catch(p){return jo(p instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&rg(m.target)){const p=new Ee(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,fn.newNoDocument(p,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Fe();this.He.forEach(((l,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new ed(e,n,this.Ye,this.je,s);return this.je=Lr(),this.Je=Uf(),this.He=Uf(),this.Ye=new _t(qe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new G0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uf(){return new _t(Ee.comparator)}function $0(){return new _t(Ee.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},RV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CV={and:"AND",or:"OR"};class IV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function og(i,e){return i.useProto3Json||Kh(e)?e:{value:e}}function vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function NV(i,e){return vh(i,e.toTimestamp())}function Xi(i){return We(!!i,49232),Ce.fromTimestamp((function(n){const s=Vs(n);return new ft(s.seconds,s.nanos)})(i))}function my(i,e){return lg(i,e).canonicalString()}function lg(i,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Cb(i){const e=lt.fromString(i);return We(Ob(e),10190,{key:e.toString()}),e}function ug(i,e){return my(i.databaseId,e.path)}function Op(i,e){const n=Cb(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(Nb(n))}function Ib(i,e){return my(i.databaseId,e)}function DV(i){const e=Cb(i);return e.length===4?lt.emptyPath():Nb(e)}function cg(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Nb(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K0(i,e,n){return{name:ug(i,e),fields:n.value.mapValue.fields}}function xV(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string",58123),on.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),on.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:Ab(g.code);return new he(_,g.message||"")})(c);n=new bb(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Op(i,s.document.name),l=Xi(s.document.updateTime),c=s.document.createTime?Xi(s.document.createTime):Ce.min(),m=new Cn({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,l,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Xf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Op(i,s.document),l=s.readTime?Xi(s.readTime):Ce.min(),c=fn.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Xf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Op(i,s.document),l=s.removedTargetIds||[];n=new Xf([],l,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new EV(o,l),m=s.targetId;n=new wb(m,c)}}return n}function OV(i,e){let n;if(e instanceof Ku)n={update:K0(i,e.key,e.value)};else if(e instanceof fy)n={delete:ug(i,e.key)};else if(e instanceof Bs)n={update:K0(i,e.key,e.data),updateMask:BV(e.fieldMask)};else{if(!(e instanceof yV))return we(16599,{Vt:e.type});n={verify:ug(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:NV(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(i,e.precondition)),n}function MV(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((n=>(function(o,l){let c=o.updateTime?Xi(o.updateTime):Xi(l);return c.isEqual(Ce.min())&&(c=Xi(l)),new mV(c,o.transformResults||[])})(n,e)))):[]}function VV(i,e){return{documents:[Ib(i,e.path)]}}function LV(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ib(i,o);const l=(function(g){if(g.length!==0)return xb(yi.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:No(w.field),direction:UV(w.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=og(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function kV(i){let e=DV(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(T){const w=Db(T);return w instanceof yi&&ab(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((w=>(function(U){return new yh(Do(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Kh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,M=T.values||[];return new gh(M,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,M=T.values||[];return new gh(M,w)})(n.endAt)),eV(e,o,c,l,m,"F",p,g)}function PV(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Db(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Bt.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((s=>Db(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function UV(i){return bV[i]}function jV(i){return RV[i]}function zV(i){return CV[i]}function No(i){return{fieldPath:i.canonicalString()}}function Do(i){return an.fromServerFormat(i.fieldPath)}function xb(i){return i instanceof Bt?(function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(M0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(M0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:jV(n.op),value:n.value}}})(i):i instanceof yi?(function(n){const s=n.getFilters().map((o=>xb(o)));return s.length===1?s[0]:{compositeFilter:{op:zV(n.op),filters:s}}})(i):we(54877,{filter:i})}function BV(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ob(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s,o,l=Ce.min(),c=Ce.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.yt=e}}function qV(i){const e=kV({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Cn=new GV}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ms.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class GV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new $t(lt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(Mb,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",$V=1048576;function X0([i,e],[n,s]){const o=qe(i,n);return o===0?qe(e,s):o}class KV{constructor(e){this.Ir=e,this.buffer=new $t(X0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();X0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?de(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)}))}}class YV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve($h.ce);const s=new KV(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Q0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Co()<=He.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function XV(i,e){return new YV(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Au(s.mutation,o,jn.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const o=Ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let c=pu();return l.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let l=Lr();const c=Su(),m=(function(){return Su()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Bs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Au(_.mutation,g,_.mutation.getFieldMask(),ft.now())):c.set(g.key,jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new JV(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Su();let o=new _t(((c,m)=>c-m)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||jn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Fe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=pb();_.forEach((w=>{if(!l.has(w)){const M=Tb(n.get(w),s.get(w));M!==null&&T.set(w,M),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ne.resolve(Ta());let m=Iu,p=l;return c.next((g=>ne.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Fe()))).next((_=>({batchId:m,changes:mb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=pu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(e,l).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new $u(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))}));let m=pu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Au(_.mutation,g,jn.empty(),ft.now()),Wh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qV(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return ne.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.St(e,n,l)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ta(),l=n.length+1,c=new Ee(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Ta(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new vV(n,s));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new $t(Xt.$r),this.Ur=new $t(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new lt([])),s=new Xt(n,e),o=new Xt(n,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new lt([])),s=new Xt(n,e),o=new Xt(n,e+1);let l=Fe();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Xt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _V(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?sy:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);l.push(m)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(qe);return n.forEach((o=>{const l=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new Ee(l),0);let m=new $t(qe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const l=new Xt(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Lr();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=Lr();const c=n.path,m=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OM(xM(_),s)<=0||(o.has(_.key)||Wh(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new s4(this)}getSize(e){return ne.resolve(this.size)}}class s4 extends WV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.persistence=e,this.si=new xa((n=>ly(n)),uy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(l).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new n4,this.referenceDelegate=e(this),this.Pi=new a4(this),this.indexManager=new FV,this.remoteDocumentCache=(function(o){return new r4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HV(n),this.Ii=new e4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new i4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new o4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class o4 extends VM{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new py,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new xa((s=>PM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=XV(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Fe(),o=Fe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new yy(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kD()?8:LM(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new l4;return this.Ss(e,n,c).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>l.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Co()<=He.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Co()<=He.DEBUG&&de("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Co()<=He.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ne.resolve())}ys(e,n){if(U0(n))return ne.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ag(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,ag(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return U0(n)||o.isEqual(Ce.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?ne.resolve(null):(Co()<=He.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,c,n,DM(o,Iu)).next((m=>m)))}))}Ds(e,n){let s=new $t(hb(e));return n.forEach(((o,l)=>{Wh(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return Co()<=He.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,Ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",c4=3e8;class f4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(qe),this.xs=new xa((l=>ly(l)),uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function h4(i,e,n,s){return new f4(i,e,n,s)}async function Lb(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let p=Fe();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function d4(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,w=T.keys();let M=ne.resolve();return w.forEach((U=>{M=M.next((()=>_.getEntry(p,U))).next((F=>{const j=g.docVersions.get(U);We(j!==null,48541),F.version.compareTo(j)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Fe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kb(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m4(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T))));let M=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(on.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,s)),o=o.insert(T,M),(function(F,j,Y){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=c4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(w,M,_)&&m.push(n.Pi.updateTargetData(l,M))}));let p=Lr(),g=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(p4(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ce.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(_)}return ne.waitFor(m).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function p4(i,e,n){let s=Fe(),o=Fe();return n.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=Lr();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):de(_y,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function g4(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function y4(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((l=>l?(o=l,ne.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new bs(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function fg(i,e,n){const s=Ne(i),o=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!nl(c))throw c;de(_y,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function W0(i,e,n){const s=Ne(i);let o=Ce.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ne(p),w=T.xs.get(_);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)})(s,c,Yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ce.min(),n?l:Fe()))).next((m=>(_4(s,nV(e),m),{documents:m,Qs:l})))))}function _4(i,e,n){let s=i.Os.get(e)||Ce.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class J0{constructor(){this.activeTargetIds=lV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v4{constructor(){this.Mo=new J0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="ConnectivityMonitor";class eS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function hg(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",T4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=hg(),m=this.zo(e,n.toUriEncodedString());de(Mp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),_=Wo(g);return this.Jo(e,m,p,s,_).then((T=>(de(Mp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw jo(Mp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const s=T4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class w4 extends S4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=hg();return new Promise(((m,p)=>{const g=new jw;g.setWithCredentials(!0),g.listenOnce(zw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $f.NO_ERROR:const T=g.getResponseJson();de(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case $f.TIMEOUT:de(un,`RPC '${e}' ${c} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const w=g.getStatus();if(de(un,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const F=(function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(U.status);p(new he(F,U.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(un,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);de(un,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qw(),m=Hw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=l.join("");de(un,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let w=!1,M=!1;const U=new A4({Yo:j=>{M?de(un,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(de(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),de(un,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),F=(j,Y,J)=>{j.listen(Y,(ie=>{try{J(ie)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return F(T,mu.EventType.OPEN,(()=>{M||(de(un,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),F(T,mu.EventType.CLOSE,(()=>{M||(M=!0,de(un,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),F(T,mu.EventType.ERROR,(j=>{M||(M=!0,jo(un,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),F(T,mu.EventType.MESSAGE,(j=>{if(!M){const Y=j.data[0];We(!!Y,16349);const J=Y,ie=J?.error||J[0]?.error;if(ie){de(un,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let re=(function(C){const N=zt[C];if(N!==void 0)return Ab(N)})(ae),se=ie.message;re===void 0&&(re=ee.INTERNAL,se="Unknown error status: "+ae+" with message "+ie.message),M=!0,U.a_(new he(re,se)),T.close()}else de(un,`RPC '${e}' stream ${o} received:`,Y),U.u_(Y)}})),F(m,Bw.STAT_EVENT,(j=>{j.stat===Zp.PROXY?de(un,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Zp.NOPROXY&&de(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(i){return new IV(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="PersistentStream";class Ub{constructor(e,n,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(tS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(tS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b4 extends Ub{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Xi(c.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cg(this.serializer),n.addTarget=(function(l,c){let m;const p=c.target;if(m=rg(p)?{documents:VV(l,p)}:{query:LV(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Rb(l,c.resumeToken);const g=og(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){m.readTime=vh(l,c.snapshotVersion.toTimestamp());const g=og(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=PV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.q_(n)}}class R4 extends Ub{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MV(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>OV(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class I4 extends C4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,lg(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())}))}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,lg(n,s),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class D4{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Oa(this)&&(de(Da,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await nd(g)})(this))}))})),this.Ra=new N4(s,o)}}async function nd(i){if(Oa(i))for(const e of i.da)await e(!0)}async function Yu(i){for(const e of i.da)await e(!1)}function jb(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sy(n)?Ty(n):il(n).O_()&&Ey(n,e))}function vy(i,e){const n=Ne(i),s=il(n);n.Ia.delete(e),s.O_()&&zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Ra.set("Unknown"))}function Ey(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(i).Y_(e)}function zb(i,e){i.Va.Ue(e),il(i).Z_(e)}function Ty(i){i.Va=new wV({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),il(i).start(),i.Ra.ua()}function Sy(i){return Oa(i)&&!il(i).x_()&&i.Ia.size>0}function Oa(i){return Ne(i).Ea.size===0}function Bb(i){i.Va=void 0}async function x4(i){i.Ra.set("Online")}async function O4(i){i.Ia.forEach(((e,n)=>{Ey(i,e)}))}async function M4(i,e){Bb(i),Sy(i)?(i.Ra.ha(e),Ty(i)):i.Ra.set("Unknown")}async function V4(i,e,n){if(i.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){de(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(i,s)}else if(e instanceof Xf?i.Va.Ze(e):e instanceof wb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await kb(i.localStore);n.compareTo(s)>=0&&await(function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(on.EMPTY_BYTE_STRING,_.snapshotVersion)),zb(l,p);const T=new bs(_.target,p,g,_.sequenceNumber);Ey(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){de(Da,"Failed to raise snapshot:",s),await Th(i,s)}}async function Th(i,e,n){if(!nl(e))throw e;i.Ea.add(1),await Yu(i),i.Ra.set("Offline"),n||(n=()=>kb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(Da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await nd(i)}))}function Hb(i,e){return e().catch((n=>Th(i,n,e)))}async function id(i){const e=Ne(i),n=Ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sy;for(;L4(e);)try{const o=await g4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,k4(e,o)}catch(o){await Th(e,o)}qb(e)&&Fb(e)}function L4(i){return Oa(i)&&i.Ta.length<10}function k4(i,e){i.Ta.push(e);const n=Ps(i);n.O_()&&n.X_&&n.ea(e.mutations)}function qb(i){return Oa(i)&&!Ps(i).x_()&&i.Ta.length>0}function Fb(i){Ps(i).start()}async function P4(i){Ps(i).ra()}async function U4(i){const e=Ps(i);for(const n of i.Ta)e.ea(n.mutations)}async function j4(i,e,n){const s=i.Ta.shift(),o=hy.from(s,e,n);await Hb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await id(i)}async function z4(i,e){e&&Ps(i).X_&&await(async function(s,o){if((function(c){return TV(c)&&c!==ee.ABORTED})(o.code)){const l=s.Ta.shift();Ps(s).B_(),await Hb(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await id(s)}})(i,e),qb(i)&&Fb(i)}async function nS(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),de(Da,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await Yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nd(n)}async function B4(i,e){const n=Ne(i);e?(n.Ea.delete(2),await nd(n)):e||(n.Ea.add(2),await Yu(n),n.Ra.set("Unknown"))}function il(i){return i.ma||(i.ma=(function(n,s,o){const l=Ne(n);return l.sa(),new b4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:x4.bind(null,i),t_:O4.bind(null,i),r_:M4.bind(null,i),H_:V4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sy(i)?Ty(i):i.Ra.set("Unknown")):(await i.ma.stop(),Bb(i))}))),i.ma}function Ps(i){return i.fa||(i.fa=(function(n,s,o){const l=Ne(n);return l.sa(),new R4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:P4.bind(null,i),r_:z4.bind(null,i),ta:U4.bind(null,i),na:j4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await id(i)):(await i.fa.stop(),i.Ta.length>0&&(de(Da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new Ay(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(i,e){if(Vr("AsyncQueue",`${e}: ${i}`),nl(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=pu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.ga=new _t(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,o,l,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Fo(e,n,ko.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class q4{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),l=o.queries;o.queries=rS(),l.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function rS(){return new xa((i=>fb(i)),Xh)}async function by(i,e){const n=Ne(i);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new H4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=wy(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Cy(n)}async function Ry(i,e){const n=Ne(i),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function F4(i,e){const n=Ne(i);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Cy(n)}function G4(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(e)}function Cy(i){i.Ca.forEach((e=>{e.next()}))}var dg,sS;(sS=dg||(dg={})).Ma="default",sS.Cache="cache";class Iy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class $4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=hb(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new iS,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const w=o.get(_),M=Wh(this.query,T)?T:null,U=!!w&&this.mutatedKeys.has(w.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;w&&M?w.data.isEqual(M.data)?U!==F&&(s.track({type:3,doc:M}),j=!0):this.su(w,M)||(s.track({type:2,doc:M}),j=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),j=!0):w&&!M&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(M?(c=c.add(M),l=F?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(M,U){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:j})}};return F(M)-F(U)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Fo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new $b(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ny="SyncEngine";class K4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Q4{constructor(e){this.key=e,this.hu=!1}}class Y4{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xa((m=>fb(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X4(i,e,n=!0){const s=Jb(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Kb(s,e,n,!0),o}async function W4(i,e){const n=Jb(i);await Kb(n,e,!0,!1)}async function Kb(i,e,n,s){const o=await y4(i.localStore,Yi(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,n);let m;return s&&(m=await J4(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&jb(i.remoteStore,o),m}async function J4(i,e,n,s,o){i.pu=(T,w,M)=>(async function(F,j,Y,J){let ie=j.view.ru(Y);ie.Cs&&(ie=await W0(F.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,ie))));const ae=J&&J.targetChanges.get(j.targetId),re=J&&J.targetMismatches.get(j.targetId)!=null,se=j.view.applyChanges(ie,F.isPrimaryClient,ae,re);return oS(F,j.targetId,se.au),se.snapshot})(i,T,w,M);const l=await W0(i.localStore,e,!0),c=new $4(e,l.Qs),m=c.ru(l.documents),p=Qu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);oS(i,n,g.au);const _=new K4(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function Z4(i,e,n){const s=Ne(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Xh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vy(s.remoteStore,o.targetId),mg(s,o.targetId)})).catch(tl)):(mg(s,o.targetId),await fg(s.localStore,o.targetId,!0))}async function eL(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vy(n.remoteStore,s.targetId))}async function tL(i,e,n){const s=lL(i);try{const o=await(function(c,m){const p=Ne(c),g=ft.now(),_=m.reduce(((M,U)=>M.add(U.key)),Fe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=Lr(),F=Fe();return p.Ns.getEntries(M,_).next((j=>{U=j,U.forEach(((Y,J)=>{J.isValidDocument()||(F=F.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,U))).next((j=>{T=j;const Y=[];for(const J of m){const ie=gV(J,T.get(J.key).overlayedDocument);ie!=null&&Y.push(new Bs(J.key,ie,ib(ie.value.mapValue),Nn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Y,m)})).next((j=>{w=j;const Y=j.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(M,j.batchId,Y)}))})).then((()=>({batchId:w.batchId,changes:mb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(qe)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Xu(s,o.changes),await id(s.remoteStore)}catch(o){const l=wy(o,"Failed to persist write");n.reject(l)}}async function Qb(i,e){const n=Ne(i);try{const s=await m4(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Xu(n,s,e)}catch(s){await tl(s)}}function aS(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ne(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Cy(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nL(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new _t(Ee.comparator);c=c.insert(l,fn.newNoDocument(l,Ce.min()));const m=Fe().add(l),p=new ed(Ce.min(),new Map,new _t(qe),c,m);await Qb(s,p),s.du=s.du.remove(l),s.Au.delete(e),Dy(s)}else await fg(s.localStore,e,!1).then((()=>mg(s,e,n))).catch(tl)}async function iL(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await d4(n.localStore,e);Xb(n,s,null),Yb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(n,o)}catch(o){await tl(o)}}async function rL(i,e,n){const s=Ne(i);try{const o=await(function(c,m){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(We(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Xb(s,e,n),Yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Xu(s,o)}catch(o){await tl(o)}}function Yb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Xb(i,e,n){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Wb(i,s)}))}function Wb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(vy(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dy(i))}function oS(i,e,n){for(const s of n)s instanceof Gb?(i.Ru.addReference(s.key,e),sL(i,s)):s instanceof $b?(de(Ny,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Wb(i,s.key)):we(19791,{wu:s})}function sL(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(de(Ny,"New document in limbo: "+n),i.Eu.add(s),Dy(i))}function Dy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ee(lt.fromString(e)),s=i.fu.next();i.Au.set(s,new Q4(n)),i.du=i.du.insert(n,s),jb(i.remoteStore,new bs(Yi(Yh(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function Xu(i,e,n){const s=Ne(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=yy.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(M=>_.persistence.referenceDelegate.addReference(T,w.targetId,M))).next((()=>ne.forEach(w.ds,(M=>_.persistence.referenceDelegate.removeReference(T,w.targetId,M)))))))))}catch(T){if(!nl(T))throw T;de(_y,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const M=_.Ms.get(w),U=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(w,F)}}})(s.localStore,l))}async function aL(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){de(Ny,"User change. New user:",e.toKey());const s=await Lb(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ee.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Xu(n,s.Ls)}}function oL(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Jb(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nL.bind(null,e),e.Pu.H_=F4.bind(null,e.eventManager),e.Pu.yu=G4.bind(null,e.eventManager),e}function lL(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h4(this.persistence,new u4,e.initialUser,this.serializer)}Cu(e){return new Vb(gy.mi,this.serializer)}Du(e){return new v4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class uL extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Vb((s=>Eh.mi(s,n)),this.serializer)}}class pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aL.bind(null,this.syncEngine),await B4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q4})()}createDatastore(e){const n=td(e.databaseInfo.databaseId),s=(function(l){return new w4(l)})(e.databaseInfo);return(function(l,c,m,p){return new I4(l,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,c,m){return new D4(s,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aS(this.syncEngine,n,0)),(function(){return eS.v()?new eS:new E4})())}createSyncEngine(e,n){return(function(o,l,c,m,p,g,_){const T=new Y4(o,l,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);de(Da,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class cL{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lp(i,e){i.asyncQueue.verifyOperationInProgress(),de(Us,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Lb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function lS(i,e){i.asyncQueue.verifyOperationInProgress();const n=await fL(i);de(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>nS(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>nS(e.remoteStore,o))),i._onlineComponents=e}async function fL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Us,"Using user provided OfflineComponentProvider");try{await Lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await Lp(i,new Sh)}}else de(Us,"Using default OfflineComponentProvider"),await Lp(i,new uL(void 0));return i._offlineComponents}async function Zb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Us,"Using user provided OnlineComponentProvider"),await lS(i,i._uninitializedComponentsProvider._online)):(de(Us,"Using default OnlineComponentProvider"),await lS(i,new pg))),i._onlineComponents}function hL(i){return Zb(i).then((e=>e.syncEngine))}async function Ah(i){const e=await Zb(i),n=e.eventManager;return n.onListen=X4.bind(null,e.syncEngine),n.onUnlisten=Z4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eL.bind(null,e.syncEngine),n}function dL(i,e,n={}){const s=new Nr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new xy({next:w=>{_.Nu(),c.enqueueAndForget((()=>Ry(l,T)));const M=w.docs.has(m);!M&&w.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Iy(Yh(m.path),_,{includeMetadataChanges:!0,qa:!0});return by(l,T)})(await Ah(i),i.asyncQueue,e,n,s))),s.promise}function mL(i,e,n={}){const s=new Nr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new xy({next:w=>{_.Nu(),c.enqueueAndForget((()=>Ry(l,T))),w.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Iy(m,_,{includeMetadataChanges:!0,qa:!0});return by(l,T)})(await Ah(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firestore.googleapis.com",cS=!0;class fS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tR,this.ssl=cS}else this.host=e.host,this.ssl=e.ssl??cS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$V)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vM;switch(s.type){case"firstParty":return new AM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=uS.get(n);s&&(de("ComponentProvider","Removing Datastore"),uS.delete(n),s.terminate())})(this),Promise.resolve()}}function pL(i,e,n,s={}){i=In(i,rd);const o=Wo(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(QA(`https://${m}`),YA("Firestore",!0)),l.host!==tR&&l.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!ba(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=cn.MOCK_USER;else{g=CD(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new cn(T)}i._authCredentials=new EM(new Gw(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Gu(n,Tt._jsonSchema))return new Tt(e,s||null,new Ee(lt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Ht("string",Tt._jsonSchemaVersion),referencePath:Ht("string")};class xs extends Ma{constructor(e,n,s){super(e,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function va(i,e,...n){if(i=St(i),$w("collection","path",e),i instanceof rd){const s=lt.fromString(e,...n);return w0(s),new xs(i,null,s)}{if(!(i instanceof Tt||i instanceof xs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return w0(s),new xs(i.firestore,null,s)}}function $i(i,e,...n){if(i=St(i),arguments.length===1&&(e=ry.newId()),$w("doc","path",e),i instanceof rd){const s=lt.fromString(e,...n);return A0(s),new Tt(i,null,new Ee(s))}{if(!(i instanceof Tt||i instanceof xs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return A0(s),new Tt(i.firestore,i instanceof xs?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pb(this,"async_queue_retry"),this._c=()=>{const s=Vp();s&&de(hS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;de(hS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",mS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ay.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:mS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mS(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(i,["next","error","complete"])}class kr extends rd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function gL(i,e){const n=typeof i=="object"?i:ZA(),s=typeof i=="string"?i:mh,o=$g(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=bD("firestore");l&&pL(o,...l)}return o}function Wu(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||yL(i),i._firestoreClient}function yL(i){const e=i._freezeSettings(),n=(function(o,l,c,m){return new zM(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new cL(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(on.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ht("string",Zn._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Ht("string",Wi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Ht("string",Ji._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=/^__.*__$/;class vL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class nR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Oy{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iR(this.Ac)&&_L.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||td(e)}Cc(e,n,s,o=!1){return new Oy({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(i){const e=i._freezeSettings(),n=td(i._databaseId);return new EL(i._databaseId,!!e.ignoreUndefinedProperties,n)}function My(i,e,n,s,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,n,o);Ly("Data must be an object, but it was:",c,s);const m=aR(s,c);let p,g;if(l.merge)p=new jn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=gg(e,T,n);if(!c.contains(w))throw new he(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lR(_,w)||_.push(w)}p=new jn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new vL(new Cn(m),p,g)}class ad extends sd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}class Vy extends sd{_toFieldTransform(e){return new hV(e.path,new Ou)}isEqual(e){return e instanceof Vy}}function rR(i,e,n,s){const o=i.Cc(1,e,n);Ly("Data must be an object, but it was:",o,s);const l=[],c=Cn.empty();zs(s,((p,g)=>{const _=ky(e,p,n);g=St(g);const T=o.yc(_);if(g instanceof ad)l.push(_);else{const w=ec(g,T);w!=null&&(l.push(_),c.set(_,w))}}));const m=new jn(l);return new nR(c,m,o.fieldTransforms)}function sR(i,e,n,s,o,l){const c=i.Cc(1,e,n),m=[gg(e,s,n)],p=[o];if(l.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push(gg(e,l[w])),p.push(l[w+1]);const g=[],_=Cn.empty();for(let w=m.length-1;w>=0;--w)if(!lR(g,m[w])){const M=m[w];let U=p[w];U=St(U);const F=c.yc(M);if(U instanceof ad)g.push(M);else{const j=ec(U,F);j!=null&&(g.push(M),_.set(M,j))}}const T=new jn(g);return new nR(_,T,c.fieldTransforms)}function TL(i,e,n,s=!1){return ec(n,i.Cc(s?4:3,e))}function ec(i,e){if(oR(i=St(i)))return Ly("Unsupported field value:",e,i),aR(i,e);if(i instanceof sd)return(function(s,o){if(!iR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const m of s){let p=ec(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uV(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:vh(o.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,l)}}if(s instanceof Wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:Rb(o.serializer,s._byteString)};if(s instanceof Tt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:my(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ji)return(function(c,m){return{mapValue:{fields:{[tb]:{stringValue:nb},[ph]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return cy(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Gh(s)}`)})(i,e)}function aR(i,e){const n={};return Yw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(i,((s,o)=>{const l=ec(o,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function oR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Wi||i instanceof Zn||i instanceof Tt||i instanceof sd||i instanceof Ji)}function Ly(i,e,n){if(!oR(n)||!Kw(n)){const s=Gh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function gg(i,e,n){if((e=St(e))instanceof Ju)return e._internalPath;if(typeof e=="string")return ky(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const SL=new RegExp("[~\\*/\\[\\]]");function ky(i,e,n){if(e.search(SL)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ju(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+i+p)}function lR(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AL extends uR{data(){return super.data()}}function cR(i,e){return typeof e=="string"?ky(i,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}class wL extends Py{}function bL(i,e,...n){let s=[];e instanceof Py&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((p=>p instanceof jy)).length,m=l.filter((p=>p instanceof Uy)).length;if(c>1||c>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uy extends wL{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uy(e,n,s)}_apply(e){const n=this._parse(e);return hR(e._query,n),new Ma(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=Zu(e.firestore);return(function(l,c,m,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){yS(T,_);const U=[];for(const F of T)U.push(gS(p,l,F));w={arrayValue:{values:U}}}else w=gS(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||yS(T,_),w=TL(m,c,T,_==="in"||_==="not-in");return Bt.create(g,_,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jy extends Py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const p of m)hR(c,p),c=sg(c,p)})(e._query,n),new Ma(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gS(i,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!Ee.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return O0(i,new Ee(s))}if(n instanceof Tt)return O0(i,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function yS(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hR(i,e){const n=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RL{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zs(e,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Wi(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);We(Ob(s),9688,{name:e});const o=new Du(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return o.isEqual(n)||Vr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends uR{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cR("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Ht("string",Aa._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Wf extends Aa{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wf(this._firestore,this._userDataWriter,s.key,s,new yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Wf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new Wf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:CL(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){i=In(i,Tt);const e=In(i.firestore,kr);return dL(Wu(e),i._key).then((n=>mR(e,i,n)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Ht("string",wa._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class By extends RL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function dR(i){i=In(i,Ma);const e=In(i.firestore,kr),n=Wu(e),s=new By(e);return fR(i._query),mL(n,i._query).then((o=>new wa(e,s,i,o)))}function IL(i,e,n){i=In(i,Tt);const s=In(i.firestore,kr),o=zy(i.converter,e,n);return od(s,[My(Zu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Nn.none())])}function NL(i,e,n,...s){i=In(i,Tt);const o=In(i.firestore,kr),l=Zu(o);let c;return c=typeof(e=St(e))=="string"||e instanceof Ju?sR(l,"updateDoc",i._key,e,n,s):rR(l,"updateDoc",i._key,e),od(o,[c.toMutation(i._key,Nn.exists(!0))])}function _S(i,e){const n=In(i.firestore,kr),s=$i(i),o=zy(i.converter,e);return od(n,[My(Zu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Nn.exists(!1))]).then((()=>s))}function DL(i,...e){i=St(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pS(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pS(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,m;if(i instanceof Tt)c=In(i.firestore,kr),m=Yh(i._key.path),l={next:p=>{e[s]&&e[s](mR(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=In(i,Ma);c=In(p.firestore,kr),m=p._query;const g=new By(c);l={next:_=>{e[s]&&e[s](new wa(c,g,p,_))},error:e[s+1],complete:e[s+2]},fR(i._query)}return(function(g,_,T,w){const M=new xy(w),U=new Iy(_,M,T);return g.asyncQueue.enqueueAndForget((async()=>by(await Ah(g),U))),()=>{M.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ry(await Ah(g),U)))}})(Wu(c),m,o,l)}function od(i,e){return(function(s,o){const l=new Nr;return s.asyncQueue.enqueueAndForget((async()=>tL(await hL(s),o,l))),l.promise})(Wu(i),e)}function mR(i,e,n){const s=n.docs.get(e._key),o=new By(i);return new Aa(i,o,e._key,s,new yu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zu(e)}set(e,n,s){this._verifyNotCommitted();const o=kp(e,this._firestore),l=zy(o.converter,n,s),c=My(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,Nn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const l=kp(e,this._firestore);let c;return c=typeof(n=St(n))=="string"||n instanceof Ju?sR(this._dataReader,"WriteBatch.update",l._key,n,s,o):rR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=kp(e,this._firestore);return this._mutations=this._mutations.concat(new fy(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kp(i,e){if((i=St(i)).firestore!==e)throw new he(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ld(){return new Vy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(i){return Wu(i=In(i,kr)),new xL(i,(e=>od(i,e)))}(function(e,n=!0){(function(o){el=o})(Jo),Po(new Ra("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new kr(new TM(s.getProvider("auth-internal")),new wM(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,_)})(c,o),c);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Ns(v0,E0,e),Ns(v0,E0,"esm2020")})();const ML={apiKey:"AIzaSyC1V0sjf8MbuLUAHXzeBvx8UkXkJ_uK0G4",authDomain:"bllk-bypass.firebaseapp.com",projectId:"bllk-bypass",storageBucket:"bllk-bypass.firebasestorage.app",messagingSenderId:"285336398327",appId:"1:285336398327:web:01872b871e88fb232526f2"},pR=JA(ML),Wt=yM(pR),gn=gL(pR);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function VL(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function m(_){try{g(s.next(_))}catch(T){c(T)}}function p(_){try{g(s.throw(_))}catch(T){c(T)}}function g(_){_.done?l(_.value):o(_.value).then(m,p)}g((s=s.apply(i,[])).next())})}function LL(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(_){g=[6,_],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(){return Oo=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Oo.apply(this,arguments)},gR=function(i){return{loading:i==null,value:i}},kL=function(){return function(i,e){switch(e.type){case"error":return Oo(Oo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return gR(e.defaultValue);case"value":return Oo(Oo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},PL=(function(i){var e=i?i():void 0,n=S.useReducer(kL(),gR(e)),s=n[0],o=n[1],l=S.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),c=S.useCallback(function(p){o({type:"error",error:p})},[]),m=S.useCallback(function(p){o({type:"value",value:p})},[]);return S.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:c,setValue:m,value:s.value}},[s.error,s.loading,l,c,m,s.value])}),UL=(function(i,e){var n=PL(function(){return i.currentUser}),s=n.error,o=n.loading,l=n.setError,c=n.setValue,m=n.value;return S.useEffect(function(){var p=sO(i,function(g){return VL(void 0,void 0,void 0,function(){var _;return LL(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return c(g),[2]}})})},l);return function(){p()}},[i]),[m,o,s]});function jL(){if(typeof navigator>"u"||typeof window>"u")return!1;const i=navigator.userAgent||navigator.vendor||window.opera||"",n=/android|iphone|ipad|ipod|blackberry|bb|playbook|windows phone|opera mini|mobile|silk/i.test(i),s=window.innerWidth<=768,o="ontouchstart"in window||navigator.maxTouchPoints>0;return n||s&&o}async function vS(i){try{const e=$i(gn,"users",i.uid),n={displayName:i.displayName??"",email:i.email??"",photoURL:i.photoURL??null,providers:(i.providerData??[]).map(s=>s.providerId),updatedAt:ld()};await IL(e,n,{merge:!0})}catch(e){console.error("ensureUserDoc failed:",e)}}const yR=S.createContext(null);function zL({children:i}){const[e,n]=UL(Wt);S.useEffect(()=>{MO(Wt).catch(()=>{})},[]),S.useEffect(()=>{e&&vS(e).catch(console.error)},[e?.uid]);const s=S.useMemo(()=>({user:e,loading:n,async signInEmail(o,l){await eO(Wt,o,l)},async signUpEmail(o,l,c){const m=await Zx(Wt,o,l);c&&await nO(m.user,{displayName:c}),await vS(m.user)},async signInGoogle(){const o=new wr;o.setCustomParameters({prompt:"select_account"});try{jL()?await c0(Wt,o):await RO(Wt,o)}catch(l){if(String(l?.code||"").includes("popup-"))await c0(Wt,o);else throw l}},async signOut(){await aO(Wt)}}),[e,n]);return b.jsx(yR.Provider,{value:s,children:i})}function Hy(){const i=S.useContext(yR);if(!i)throw new Error("useAuth must be used within AuthProvider");return i}function BL({children:i}){const{user:e,loading:n}=Hy(),s=vi();return n?null:e?b.jsx(b.Fragment,{children:i}):b.jsx(wg,{to:"/login",state:{next:s.pathname+s.search},replace:!0})}function HL(i){const n=new URLSearchParams(i).get("unit");return n&&n.trim()?n.trim():null}function qL({children:i}){const e=vi();if(HL(e.search))return b.jsx(b.Fragment,{children:i});const[s,o]=S.useState(null);return S.useEffect(()=>{async function l(){const c=Wt.currentUser;if(!c){o(!1);return}try{const m=await Lu($i(gn,"users",c.uid));o(!!m.data()?.verified)}catch{o(!1)}}l()},[Wt.currentUser?.uid]),s===null?null:s?b.jsx(b.Fragment,{children:i}):b.jsx(wg,{to:"/login",state:{next:e.pathname+e.search},replace:!0})}function FL(i,e=window.location.search){const s=new URLSearchParams(e).get(i);return s&&s.trim()?s.trim():null}function GL(){return FL("unit")}const _R="America/Regina";function Jf(){return new Intl.DateTimeFormat("en-CA",{timeZone:_R,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date)}function $L(i){return new Intl.DateTimeFormat("en-CA",{timeZone:_R,year:"numeric",month:"2-digit",day:"2-digit"}).format(i)}const yg="America/Regina";function KL(i,e){if(!i)throw new Error("Missing date");const[n,s,o]=i.split("-").map(m=>parseInt(m,10));if(!Number.isFinite(n)||!Number.isFinite(s)||!Number.isFinite(o))throw new Error(`Bad date "${i}"`);const[l,c]=(e||"00:00").split(":").map(m=>parseInt(m,10));if(!Number.isFinite(l)||!Number.isFinite(c))throw new Error(`Bad time "${e}"`);return{y:n,m:s,d:o,hh:l,mm:c}}function ES(i,e){const l=(new Intl.DateTimeFormat("en-CA",{timeZone:e,timeZoneName:"shortOffset",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i).find(g=>g.type==="timeZoneName")?.value||"GMT+00:00").match(/([+-])(\d{2}):?(\d{2})/);if(!l)return 0;const c=l[1]==="-"?-1:1,m=parseInt(l[2],10),p=parseInt(l[3],10);return c*(m*60+p)}function bh(i,e){const{y:n,m:s,d:o,hh:l,mm:c}=KL(i,e),m=Date.UTC(n,s-1,o,l,c,0,0),p=ES(new Date(m),yg),g=Date.UTC(n,s-1,o,l,c,0,0)-p*6e4,_=ES(new Date(g),yg),T=_===p?g:Date.UTC(n,s-1,o,l,c,0,0)-_*6e4;return new Date(T)}function TS(i){try{if(!i)return"";const e=typeof i?.toDate=="function"?i.toDate():typeof i?.toMillis=="function"?new Date(i.toMillis()):i instanceof Date?i:new Date(i);return new Intl.DateTimeFormat("en-CA",{timeZone:yg,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e)}catch{return""}}function QL(i){if(i===null||typeof i!="object")return!1;const e=Object.getPrototypeOf(i);return e===Object.prototype||e===null}function YL(i){return!!(i&&typeof i.toMillis=="function")}function XL(i){return!!(i&&typeof i=="object"&&typeof i._methodName=="string")}function Rh(i){if(i instanceof Date||YL(i)||XL(i))return i;if(Array.isArray(i))return i.map(n=>Rh(n)).filter(n=>n!==void 0);if(QL(i)){const e={};for(const[n,s]of Object.entries(i)){if(s===void 0)continue;const o=Rh(s);o!==void 0&&(e[n]=o)}return e}return i}function WL(i,e){const[n,s,o]=i.split("-").map(Number),[l,c,m]=e.split("-").map(Number),p=new Date(Date.UTC(n,s-1,o)),g=new Date(Date.UTC(l,c-1,m)),_=[];for(let T=p;T<=g;T=new Date(T.getTime()+864e5)){const w=T.getUTCFullYear(),M=String(T.getUTCMonth()+1).padStart(2,"0"),U=String(T.getUTCDate()).padStart(2,"0");_.push(`${w}-${M}-${U}`)}return _}function SS(i){const{hospitalId:e,kind:n,notes:s,startDate:o,startTime:l,endDate:c,endTime:m,createdByUid:p}=i,g=bh(o,l),_=c&&m?bh(c,m):null,T=o,w={hospitalId:e,kind:n,notes:s,status:"active",startedAt:g,clearedAt:_,createdAt:ld(),createdByUid:p,source:{type:"user"},dateKey:T};return Rh(w)}function AS(i){const{hospitalId:e,kind:n,notes:s,startDate:o,startTime:l,endDate:c,endTime:m,unitId:p,unitReportKey:g}=i,_=bh(o,l),T=c&&m?bh(c,m):null,w=o,M={hospitalId:e,kind:n,notes:s,status:"active",startedAt:_,clearedAt:T,createdAt:ld(),source:{type:"unit",unitId:p},unitReportKey:g,dateKey:w};return Rh(M)}function Es(i,e){if(i==null)throw new Error(`Missing ${e} datetime`);if(typeof i?.toMillis=="function"){const s=i.toMillis();if(!Number.isFinite(s))throw new Error(`Invalid ${e} datetime`);return}const n=i instanceof Date?i:new Date(i);if(!(n instanceof Date)||Number.isNaN(n.getTime()))throw new Error(`Invalid ${e} datetime`)}function JL(){const[i,e]=S.useState(!1),[n,s]=S.useState(!1);S.useEffect(()=>{const me=Wt.currentUser;if(!me){e(!1),s(!0);return}Lu($i(gn,"users",me.uid)).then(Le=>e(!!Le.data()?.verified)).finally(()=>s(!0))},[Wt.currentUser?.uid]);const o=GL(),[l,c]=S.useState(null),[m,p]=S.useState(!1);S.useEffect(()=>{if(!o){c(null),p(!0);return}Lu($i(gn,"units",o)).then(me=>{const Le=me.data();Le&&Le.active?c({id:o,...Le}):c(null)}).finally(()=>p(!0))},[o]);const[g,_]=S.useState([]);S.useEffect(()=>{(async()=>{const At=(await dR(bL(va(gn,"hospitals")))).docs.map(Nt=>({id:Nt.id,...Nt.data()})).filter(Nt=>Nt.active!==!1);_(At)})()},[]);const T=S.useMemo(()=>o&&m?l?"unit":"blocked":n&&i?"user":"blocked",[o,l,m,i,n]),w=S.useMemo(()=>g,[g]),M=S.useMemo(()=>{if(T!=="unit"||!l)return w;const me=new Set(l.allowedHospitals||[]);return w.filter(Le=>me.has(Le.id))},[T,l,w]),[U,F]=S.useState("");S.useEffect(()=>{!U&&M.length>0?F(M[0].id):T==="unit"&&l&&U&&!l.allowedHospitals.includes(U)&&F(M[0]?.id??"")},[T,l?.id,M.length]);const[j,Y]=S.useState("full"),[J,ie]=S.useState(""),[ae,re]=S.useState(Jf()),[se,I]=S.useState("07:00"),[C,N]=S.useState(""),[V,x]=S.useState(""),[P,D]=S.useState(!1),[ke,at]=S.useState(Jf()),[K,le]=S.useState(Jf()),[fe,Ve]=S.useState("07:00"),[Pe,L]=S.useState("19:00"),[W,oe]=S.useState(!1),[ue,_e]=S.useState(""),[be,Oe]=S.useState("");async function yt(me){me.preventDefault(),oe(!0),_e(""),Oe("");try{if(!U)throw new Error("Please select a hospital.");if(T==="blocked")throw new Error("You must be signed in and verified or use a valid unit QR to report.");if(console.log("[report] inputs",{mode:T,hospitalId:U,kind:j,notes:J,isRecurring:P,startDate:ae,startTime:se,endDate:C,endTime:V,recStartDate:ke,recEndDate:K,recDailyStart:fe,recDailyEnd:Pe,unitId:l?.id}),P){const Le=WL(ke,K),At=OL(gn);if(T==="user"){const Nt=Wt.currentUser?.uid;if(!Nt)throw new Error("Not signed in.");for(const Dt of Le){const ht=SS({hospitalId:U,kind:j,notes:J.trim()||void 0,startDate:Dt,startTime:fe,endDate:Dt,endTime:Pe,createdByUid:Nt});Es(ht.startedAt,"start"),ht.clearedAt!=null&&Es(ht.clearedAt,"end"),console.log("[report] payload (user, recurring)",ht);const Je=$i(va(gn,"days",ht.dateKey,"diverts"));At.set(Je,ht)}}else{if(!l)throw new Error("Invalid unit.");for(const Nt of Le){const Dt=AS({hospitalId:U,kind:j,notes:J.trim()||void 0,startDate:Nt,startTime:fe,endDate:Nt,endTime:Pe,unitId:l.id,unitReportKey:l.reportKey});Es(Dt.startedAt,"start"),Dt.clearedAt!=null&&Es(Dt.clearedAt,"end"),console.log("[report] payload (unit, recurring)",Dt);const ht=$i(va(gn,"days",Dt.dateKey,"diverts"));At.set(ht,Dt)}}console.log("[report] batching",Le.length,"diverts"),await At.commit(),Oe(`Created ${Le.length} divert${Le.length>1?"s":""}.`)}else if(T==="user"){const Le=Wt.currentUser?.uid;if(!Le)throw new Error("Not signed in.");const At=SS({hospitalId:U,kind:j,notes:J.trim()||void 0,startDate:ae,startTime:se,endDate:C||void 0,endTime:V||void 0,createdByUid:Le});Es(At.startedAt,"start"),At.clearedAt!=null&&Es(At.clearedAt,"end"),console.log("[report] payload (user)",At),await _S(va(gn,"days",At.dateKey,"diverts"),At),Oe("Divert reported.")}else{if(!l)throw new Error("Invalid unit.");const Le=AS({hospitalId:U,kind:j,notes:J.trim()||void 0,startDate:ae,startTime:se,endDate:C||void 0,endTime:V||void 0,unitId:l.id,unitReportKey:l.reportKey});Es(Le.startedAt,"start"),Le.clearedAt!=null&&Es(Le.clearedAt,"end"),console.log("[report] payload (unit)",Le),await _S(va(gn,"days",Le.dateKey,"diverts"),Le),Oe("Divert reported (via unit).")}ie(""),P||(N(""),x(""))}catch(Le){console.error(Le),_e(Le?.message??"Failed to submit divert.")}finally{oe(!1)}}return T==="blocked"?b.jsx(pt,{children:b.jsxs(pt.Body,{children:[b.jsx(pt.Title,{children:"Report a divert"}),b.jsxs(Sa,{variant:"warning",className:"mt-2 mb-0",children:["To report a divert, please"," ",b.jsx("strong",{children:"sign in with a verified account"})," or",b.jsx("strong",{children:" open this page using a unit QR"}),"."]})]})}):b.jsx(pt,{children:b.jsx(pt.Body,{children:b.jsxs(Os,{gap:3,children:[b.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-2",children:[b.jsx(pt.Title,{className:"mb-0",children:"Report a divert"}),b.jsx("div",{className:"text-muted small",children:T==="user"?"Verified account":l?`Verified via Unit QR  ${l.label}`:""})]}),ue&&b.jsx(Sa,{variant:"danger",className:"mb-0",children:ue}),be&&b.jsx(Sa,{variant:"success",className:"mb-0",children:be}),b.jsx(ye,{onSubmit:yt,children:b.jsxs(Os,{gap:3,children:[b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Hospital"}),b.jsx(ye.Select,{value:U,onChange:me=>F(me.target.value),required:!0,disabled:T==="unit"&&M.length<=1,children:M.map(me=>b.jsx("option",{value:me.id,children:me.name},me.id))}),T==="unit"&&l&&b.jsx(ye.Text,{children:"Limited to units allowed hospitals."})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Divert type"}),b.jsxs(ye.Select,{value:j,onChange:me=>Y(me.target.value),children:[b.jsx("option",{value:"full",children:"Full divert"}),b.jsx("option",{value:"labs-xray",children:"Labs/X-Ray unavailable"}),b.jsx("option",{value:"ct",children:"CT down"}),b.jsx("option",{value:"other",children:"Other"})]})]})})]}),b.jsx(Fi,{children:b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Single vs Recurring"}),b.jsx(ye.Check,{type:"switch",id:"recurring-switch",label:"Recurring daily window",checked:P,onChange:me=>D(me.currentTarget.checked)}),b.jsx(ye.Text,{children:"Enable to create one divert per day across a date range."})]})})}),P?b.jsxs(b.Fragment,{children:[b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"From date"}),b.jsx(ye.Control,{type:"date",value:ke,onChange:me=>at(me.target.value),required:!0})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"To date"}),b.jsx(ye.Control,{type:"date",value:K,onChange:me=>le(me.target.value),required:!0})]})})]}),b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Daily start time"}),b.jsx(ye.Control,{type:"time",value:fe,onChange:me=>Ve(me.target.value),required:!0})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Daily end time"}),b.jsx(ye.Control,{type:"time",value:Pe,onChange:me=>L(me.target.value),required:!0})]})})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Start date"}),b.jsx(ye.Control,{type:"date",value:ae,onChange:me=>re(me.target.value),required:!0})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Start time"}),b.jsx(ye.Control,{type:"time",value:se,onChange:me=>I(me.target.value),required:!0})]})})]}),b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"End date (optional)"}),b.jsx(ye.Control,{type:"date",value:C,onChange:me=>N(me.target.value)})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"End time (optional)"}),b.jsx(ye.Control,{type:"time",value:V,onChange:me=>x(me.target.value)})]})})]})]}),b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{className:"mb-1",children:"Notes (optional)"}),b.jsx(ye.Control,{as:"textarea",rows:2,placeholder:"Anything useful for crews (e.g., department contact, reason)",value:J,onChange:me=>ie(me.target.value)})]}),b.jsx("div",{className:"d-flex gap-2",children:b.jsx(Rs,{type:"submit",disabled:W,children:W?"Submitting...":"Report divert"})})]})})]})})})}function ZL(){const{user:i}=Hy(),e=Ih(),[n,s]=S.useState(!1);S.useEffect(()=>{let l=!0;return(async()=>{if(!i)return s(!1);try{const c=await Lu($i(gn,"users",i.uid));l&&s(!!c.data()?.verified)}catch{l&&s(!1)}})(),()=>{l=!1}},[i?.uid]);async function o(){await Wt.signOut(),e("/")}return b.jsx(Mf,{expand:"md",className:"mb-4 border-bottom",children:b.jsxs(kg,{children:[b.jsx(Mf.Brand,{as:Cg,to:"/",children:"EMS Diverts"}),b.jsx(Mf.Toggle,{"aria-controls":"main-nav"}),b.jsxs(Mf.Collapse,{id:"main-nav",children:[b.jsxs(bo,{className:"me-auto",children:[b.jsx(bo.Link,{as:cu,to:"/",end:!0,children:"Home"}),b.jsx(bo.Link,{as:cu,to:"/report",children:"Report"})]}),b.jsx(bo,{className:"align-items-center gap-2",children:i?b.jsxs(b.Fragment,{children:[b.jsxs(bo.Link,{as:cu,to:"/account",className:"d-flex align-items-center gap-2",children:[b.jsx("span",{className:"text-truncate",style:{maxWidth:160},children:i.displayName||i.email||"Account"}),n&&b.jsx(qi,{bg:"success",title:"Verified reporter",children:"Verified"})]}),b.jsx(Rs,{size:"sm",variant:"outline-secondary",onClick:o,children:"Sign out"})]}):b.jsx(bo.Link,{as:cu,to:"/login",children:"Sign in"})})]})]})})}function ek(){const i=new Date,e=new Date(i.getTime()+1440*60*1e3);return{start:i,end:e}}function wS(i){return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,10)}function bS(i){return i.toTimeString().slice(0,5)}function tk(i,e,n=3){const s=new Set,o=1440*60*1e3,l=new Date(i.getTime());l.setHours(0,0,0,0),l.setTime(l.getTime()-n*o);const c=new Date(e.getTime());c.setHours(0,0,0,0);for(let m=l;m<=c;m=new Date(m.getTime()+o))s.add($L(m));return Array.from(s)}function nk(){const[i,e]=S.useState([]);S.useEffect(()=>{(async()=>{const re=await dR(va(gn,"hospitals"));e(re.docs.map(se=>({id:se.id,...se.data()})).filter(se=>se.active!==!1).sort((se,I)=>se.name.localeCompare(I.name)))})()},[]);const{start:n,end:s}=ek(),[o,l]=S.useState(wS(n)),[c,m]=S.useState(bS(n)),[p,g]=S.useState(wS(s)),[_,T]=S.useState(bS(s)),[w,M]=S.useState("all"),U=S.useMemo(()=>new Date(`${o}T${c||"00:00"}:00Z`),[o,c]),F=S.useMemo(()=>new Date(`${p}T${_||"23:59"}:00Z`),[p,_]),[j,Y]=S.useState({});S.useEffect(()=>{const re=tk(U,F,7),se=[];return Y({}),re.forEach(I=>{const C=va(gn,"days",I,"diverts"),N=DL(C,V=>{Y(x=>({...x,[I]:V.docs.map(P=>({id:P.id,ref:P.ref,...P.data()}))}))});se.push(N)}),()=>se.forEach(I=>I())},[U.getTime(),F.getTime()]);const J=S.useMemo(()=>{const re=Object.values(j).flat(),se=x=>{if(!x&&x!==0)return null;if(typeof x?.toMillis=="function")return x.toMillis();if(x instanceof Date)return x.getTime();const P=new Date(x).getTime();return Number.isFinite(P)?P:null},I=U.getTime(),C=F.getTime(),N=re.filter(x=>x?.status==="active").filter(x=>{const P=se(x.startedAt),D=se(x.clearedAt);if(P==null)return!1;const ke=P<=C,at=D==null,K=D!=null&&D>I;return ke&&(at||K)}),V=w==="all"?N:N.filter(x=>x.hospitalId===w);return V.sort((x,P)=>{const D=se(x.startedAt)??0,ke=se(P.startedAt)??0;return D!==ke?D-ke:String(x.hospitalId).localeCompare(String(P.hospitalId))}),V},[j,w,U.getTime(),F.getTime()]);async function ie(re){try{await NL($i(gn,re),{status:"cleared",clearedAt:ld()})}catch(se){alert(se?.message??"Failed to clear divert.")}}const ae=re=>i.find(se=>se.id===re)?.name||re;return b.jsxs(Os,{gap:4,children:[b.jsx(pt,{children:b.jsxs(pt.Body,{children:[b.jsx(pt.Title,{className:"mb-3",children:"Active diverts"}),b.jsx(ye,{children:b.jsxs(Fi,{className:"g-3",children:[b.jsxs(Gt,{md:6,lg:5,children:[b.jsx(ye.Label,{className:"mb-1",children:"Time window (Regina)"}),b.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[b.jsx(ye.Control,{type:"date",value:o,onChange:re=>l(re.target.value),style:{maxWidth:160}}),b.jsx(ye.Control,{type:"time",value:c,onChange:re=>m(re.target.value),style:{maxWidth:120}}),b.jsx("span",{className:"align-self-center",children:"to"}),b.jsx(ye.Control,{type:"date",value:p,onChange:re=>g(re.target.value),style:{maxWidth:160}}),b.jsx(ye.Control,{type:"time",value:_,onChange:re=>T(re.target.value),style:{maxWidth:120}})]}),b.jsxs(ye.Text,{children:["Default shows now  next 24 hours (Regina). Today is"," ",Jf(),"."]})]}),b.jsxs(Gt,{md:6,lg:7,children:[b.jsx(ye.Label,{className:"mb-1",children:"Hospital"}),b.jsxs(ye.Select,{value:w,onChange:re=>M(re.target.value),children:[b.jsx("option",{value:"all",children:"All Hospitals"}),i.map(re=>b.jsx("option",{value:re.id,children:re.name},re.id))]}),b.jsx(ye.Text,{children:"Select one hospital or view all."})]})]})})]})}),J.length===0?b.jsx(Sa,{variant:"light",className:"border",children:"No active diverts in this window."}):b.jsx(Os,{gap:3,children:J.map(re=>{const se=re.kind==="full"?b.jsx(qi,{bg:"danger",children:"FULL DIVERT"}):re.kind==="labs-xray-divert"?b.jsx(qi,{bg:"warning",text:"dark",children:"LABS/X-RAY DIVERT"}):re.kind==="ct-divert"?b.jsx(qi,{bg:"info",text:"dark",children:"CT DIVERT"}):b.jsx(qi,{bg:"secondary",children:"OTHER"});return b.jsx(pt,{children:b.jsx(pt.Body,{children:b.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-3",children:[b.jsxs("div",{children:[b.jsxs(pt.Title,{className:"mb-1",children:[ae(re.hospitalId)," ",b.jsx(qi,{bg:"secondary",className:"ms-1",children:re.hospitalId})]}),b.jsxs("div",{className:"mb-2 d-flex align-items-center gap-2",children:[se,b.jsx(qi,{bg:"success",children:"ACTIVE"})]}),b.jsxs("div",{className:"text-muted",children:[b.jsx("strong",{children:"Start:"})," ",TS(re.startedAt),re.clearedAt&&b.jsxs(b.Fragment,{children:[" "," ",b.jsx("strong",{children:"End:"})," ",TS(re.clearedAt)]})]}),re.notes&&b.jsx("div",{className:"mt-2",children:re.notes})]}),Wt.currentUser&&b.jsx(Rs,{variant:"outline-secondary",size:"sm",onClick:()=>ie(re.ref.path),children:"End now"})]})})},re.ref.path)})})]})}function ik(){const{signInEmail:i,signUpEmail:e,signInGoogle:n,loading:s,user:o}=Hy(),l=Ih(),c=vi(),m=c.state&&c.state.next||"/",[p,g]=S.useState("signin"),[_,T]=S.useState(""),[w,M]=S.useState(""),[U,F]=S.useState(""),[j,Y]=S.useState("");async function J(ae){ae.preventDefault(),Y("");try{p==="signin"?await i(_.trim(),w):await e(_.trim(),w,U.trim()||void 0),l(m,{replace:!0})}catch(re){Y(re?.message??"Authentication failed")}}async function ie(){Y("");try{await n(),l(m,{replace:!0})}catch(ae){Y(ae?.message??"Google sign-in failed")}}return o&&!s?(l(m,{replace:!0}),null):b.jsx(pt,{children:b.jsx(pt.Body,{children:b.jsxs(Os,{gap:3,children:[b.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[b.jsx(pt.Title,{className:"mb-0",children:p==="signin"?"Sign in":"Create your account"}),b.jsx(Rs,{variant:"link",className:"p-0",onClick:()=>{g(ae=>ae==="signin"?"signup":"signin"),Y("")},children:p==="signin"?"Need an account? Sign up":"Have an account? Sign in"})]}),j&&b.jsx(Sa,{variant:"danger",className:"mb-0",children:j}),b.jsx(ye,{onSubmit:J,children:b.jsxs(Os,{gap:3,children:[p==="signup"&&b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Display name"}),b.jsx(ye.Control,{type:"text",placeholder:"Jane Paramedic",value:U,onChange:ae=>F(ae.target.value)})]}),b.jsxs(Fi,{children:[b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Email"}),b.jsx(ye.Control,{type:"email",autoComplete:"email",value:_,onChange:ae=>T(ae.target.value),required:!0})]})}),b.jsx(Gt,{md:6,children:b.jsxs(ye.Group,{children:[b.jsx(ye.Label,{children:"Password"}),b.jsx(ye.Control,{type:"password",autoComplete:p==="signin"?"current-password":"new-password",value:w,onChange:ae=>M(ae.target.value),required:!0})]})})]}),b.jsxs("div",{className:"d-flex gap-2",children:[b.jsx(Rs,{type:"submit",disabled:s,children:p==="signin"?"Sign in":"Create account"}),b.jsx(Rs,{variant:"outline-secondary",onClick:ie,disabled:s,children:"Continue with Google"})]}),b.jsxs(ye.Text,{className:"text-muted",children:["After signing ",p==="signin"?"in":"up",", youll be sent to: ",b.jsx("strong",{children:m})]})]})}),b.jsx("div",{className:"text-muted small",children:"By signing in you agree to our operational use of data to track divert status."})]})})})}function rk(){const i=Wt.currentUser,[e,n]=S.useState(null),[s,o]=S.useState("");S.useEffect(()=>{let m=!0;async function p(){if(o(""),!i){n(null);return}try{const g=await Lu($i(gn,"users",i.uid));m&&n(!!g.data()?.verified)}catch(g){m&&(n(null),o(g?.message??"Failed to load account profile."))}}return p(),()=>{m=!1}},[i?.uid]);const l=S.useMemo(()=>i?.providerData?.map(m=>m.providerId)??[],[i?.providerData]);async function c(){await Wt.signOut()}return i?b.jsx(pt,{children:b.jsx(pt.Body,{children:b.jsxs(Os,{gap:3,children:[b.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-3",children:[b.jsxs("div",{className:"d-flex align-items-center gap-3",children:[b.jsx(sk,{url:i.photoURL,name:i.displayName||i.email||"You"}),b.jsxs("div",{children:[b.jsxs(pt.Title,{className:"mb-1",children:[i.displayName||i.email||"Your account"," ",e?b.jsx(qi,{bg:"success",className:"align-middle",children:"Verified"}):b.jsx(qi,{bg:"secondary",className:"align-middle",children:"Unverified"})]}),b.jsxs("div",{className:"text-muted",children:[i.email||"No email","  UID:"," ",b.jsx("code",{className:"user-select-all",children:i.uid})]})]})]}),b.jsx("div",{className:"d-flex gap-2",children:b.jsx(Rs,{variant:"outline-secondary",onClick:c,children:"Sign out"})})]}),s&&b.jsx(Sa,{variant:"danger",className:"mb-0",children:s}),b.jsxs(Fi,{className:"g-3",children:[b.jsx(Gt,{md:6,children:b.jsx(pt,{className:"h-100",children:b.jsxs(pt.Body,{children:[b.jsx(pt.Subtitle,{className:"mb-2 text-muted",children:"Authentication"}),b.jsxs(Ao,{variant:"flush",children:[b.jsxs(Ao.Item,{children:[b.jsx("strong",{children:"Email:"})," ",i.email||""]}),b.jsxs(Ao.Item,{children:[b.jsx("strong",{children:"Email verified:"})," ",i.emailVerified?"Yes":"No"]}),b.jsxs(Ao.Item,{children:[b.jsx("strong",{children:"Providers:"})," ",l.length?l.join(", "):""]}),b.jsxs(Ao.Item,{children:[b.jsx("strong",{children:"Last sign-in:"})," ",i.metadata?.lastSignInTime||""]}),b.jsxs(Ao.Item,{children:[b.jsx("strong",{children:"Created:"})," ",i.metadata?.creationTime||""]})]})]})})}),b.jsx(Gt,{md:6,children:b.jsx(pt,{className:"h-100",children:b.jsxs(pt.Body,{children:[b.jsx(pt.Subtitle,{className:"mb-2 text-muted",children:"Reporting status"}),b.jsx("p",{className:"mb-2",children:e?"You can report diverts and clear them early.":"You can sign in, but you cannot submit or clear diverts unless you scan a valid unit QR. Contact an admin to be marked as verified if appropriate."}),b.jsx("div",{className:"small text-muted",children:"Verification is managed by admins and can be updated at any time."})]})})})]})]})})}):b.jsx(Sa,{variant:"warning",className:"mb-0",children:"Youre not signed in."})}function sk({url:i,name:e}){if(i)return b.jsx(lA,{src:i,alt:e,roundedCircle:!0,style:{width:56,height:56,objectFit:"cover"}});const n=e.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase();return b.jsx("div",{className:"d-flex align-items-center justify-content-center rounded-circle bg-secondary text-white",style:{width:56,height:56,fontWeight:600},"aria-label":e,title:e,children:n||"U"})}function ak(){return b.jsxs(b.Fragment,{children:[b.jsx(ZL,{}),b.jsx(kg,{className:"py-4",children:b.jsxs(QC,{children:[b.jsx(Ro,{path:"/",element:b.jsx(nk,{})}),b.jsx(Ro,{path:"/login",element:b.jsx(ik,{})}),b.jsx(Ro,{path:"/account",element:b.jsx(BL,{children:b.jsx(rk,{})})}),b.jsx(Ro,{path:"/report",element:b.jsx(qL,{children:b.jsx(JL,{})})}),b.jsx(Ro,{path:"*",element:b.jsx(wg,{to:"/",replace:!0})})]})})]})}rC.createRoot(document.getElementById("root")).render(b.jsx(Gi.StrictMode,{children:b.jsx(yI,{basename:"/",children:b.jsx(zL,{children:b.jsx(ak,{})})})}));

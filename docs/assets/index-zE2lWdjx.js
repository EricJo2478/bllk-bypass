(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ku(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lp={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function H1(){if(lT)return ru;lT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var uT;function q1(){return uT||(uT=1,lp.exports=H1()),lp.exports}var w=q1(),up={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function F1(){if(cT)return Ie;cT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,j={};function Y(V,W,ae){this.props=V,this.context=W,this.refs=j,this.updater=ae||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=Y.prototype;function te(V,W,ae){this.props=V,this.context=W,this.refs=j,this.updater=ae||U}var oe=te.prototype=new ee;oe.constructor=te,H(oe,Y.prototype),oe.isPureReactComponent=!0;var de=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(V,W,ae){var le=ae.ref;return{$$typeof:i,type:V,key:W,ref:le!==void 0?le:null,props:ae}}function L(V,W){return D(V.type,W,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var N=/\/+/g;function Le(V,W){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):W.toString(36)}function qe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ie,ie):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,W,ae,le,ye){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var Ve=!1;if(V===null)Ve=!0;else switch(be){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(V.$$typeof){case i:case e:Ve=!0;break;case _:return Ve=V._init,Q(Ve(V._payload),W,ae,le,ye)}}if(Ve)return ye=ye(V),Ve=le===""?"."+Le(V,0):le,de(ye)?(ae="",Ve!=null&&(ae=Ve.replace(N,"$&/")+"/"),Q(ye,W,ae,"",function(Ae){return Ae})):ye!=null&&(M(ye)&&(ye=L(ye,ae+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+Ve)),W.push(ye)),1;Ve=0;var ut=le===""?".":le+":";if(de(V))for(var Ze=0;Ze<V.length;Ze++)le=V[Ze],be=ut+Le(le,Ze),Ve+=Q(le,W,ae,be,ye);else if(Ze=O(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(le=V.next()).done;)le=le.value,be=ut+Le(le,Ze++),Ve+=Q(le,W,ae,be,ye);else if(be==="object"){if(typeof V.then=="function")return Q(qe(V),W,ae,le,ye);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(V,W,ae){if(V==null)return V;var le=[],ye=0;return Q(V,le,"","",function(be){return W.call(ae,be,ye++)}),le}function ce(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var De=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Fe={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=T,Ie.Children=Fe,Ie.Component=Y,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=H({},V.props),ye=V.key;if(W!=null)for(be in W.key!==void 0&&(ye=""+W.key),W)!C.call(W,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&W.ref===void 0||(le[be]=W[be]);var be=arguments.length-2;if(be===1)le.children=ae;else if(1<be){for(var Ve=Array(be),ut=0;ut<be;ut++)Ve[ut]=arguments[ut+2];le.children=Ve}return D(V.type,ye,le)},Ie.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,W,ae){var le,ye={},be=null;if(W!=null)for(le in W.key!==void 0&&(be=""+W.key),W)C.call(W,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=W[le]);var Ve=arguments.length-2;if(Ve===1)ye.children=ae;else if(1<Ve){for(var ut=Array(Ve),Ze=0;Ze<Ve;Ze++)ut[Ze]=arguments[Ze+2];ye.children=ut}if(V&&V.defaultProps)for(le in Ve=V.defaultProps,Ve)ye[le]===void 0&&(ye[le]=Ve[le]);return D(V,be,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=M,Ie.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ce}},Ie.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Ie.startTransition=function(V){var W=I.T,ae={};I.T=ae;try{var le=V(),ye=I.S;ye!==null&&ye(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ie,De)}catch(be){De(be)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),I.T=W}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(V){return I.H.use(V)},Ie.useActionState=function(V,W,ae){return I.H.useActionState(V,W,ae)},Ie.useCallback=function(V,W){return I.H.useCallback(V,W)},Ie.useContext=function(V){return I.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,W){return I.H.useDeferredValue(V,W)},Ie.useEffect=function(V,W){return I.H.useEffect(V,W)},Ie.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(V,W,ae){return I.H.useImperativeHandle(V,W,ae)},Ie.useInsertionEffect=function(V,W){return I.H.useInsertionEffect(V,W)},Ie.useLayoutEffect=function(V,W){return I.H.useLayoutEffect(V,W)},Ie.useMemo=function(V,W){return I.H.useMemo(V,W)},Ie.useOptimistic=function(V,W){return I.H.useOptimistic(V,W)},Ie.useReducer=function(V,W,ae){return I.H.useReducer(V,W,ae)},Ie.useRef=function(V){return I.H.useRef(V)},Ie.useState=function(V){return I.H.useState(V)},Ie.useSyncExternalStore=function(V,W,ae){return I.H.useSyncExternalStore(V,W,ae)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var fT;function vg(){return fT||(fT=1,up.exports=F1()),up.exports}var S=vg();const $i=ku(S);var cp={exports:{}},su={},fp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function G1(){return hT||(hT=1,(function(i){function e(Q,se){var ce=Q.length;Q.push(se);e:for(;0<ce;){var De=ce-1>>>1,Fe=Q[De];if(0<o(Fe,se))Q[De]=se,Q[ce]=Fe,ce=De;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ce=Q.pop();if(ce!==se){Q[0]=ce;e:for(var De=0,Fe=Q.length,V=Fe>>>1;De<V;){var W=2*(De+1)-1,ae=Q[W],le=W+1,ye=Q[le];if(0>o(ae,ce))le<Fe&&0>o(ye,ae)?(Q[De]=ye,Q[le]=ce,De=le):(Q[De]=ae,Q[W]=ce,De=W);else if(le<Fe&&0>o(ye,ce))Q[De]=ye,Q[le]=ce,De=le;else break e}}return se}function o(Q,se){var ce=Q.sortIndex-se.sortIndex;return ce!==0?ce:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,b=3,O=!1,U=!1,H=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function de(Q){if(H=!1,oe(Q),!U)if(n(p)!==null)U=!0,ie||(ie=!0,P());else{var se=n(g);se!==null&&qe(de,se.startTime-Q)}}var ie=!1,I=-1,C=5,D=-1;function L(){return j?!0:!(i.unstable_now()-D<C)}function M(){if(j=!1,ie){var Q=i.unstable_now();D=Q;var se=!0;try{e:{U=!1,H&&(H=!1,ee(I),I=-1),O=!0;var ce=b;try{t:{for(oe(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&L());){var De=T.callback;if(typeof De=="function"){T.callback=null,b=T.priorityLevel;var Fe=De(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof Fe=="function"){T.callback=Fe,oe(Q),se=!0;break t}T===n(p)&&s(p),oe(Q)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&qe(de,V.startTime-Q),se=!1}}break e}finally{T=null,b=ce,O=!1}se=void 0}}finally{se?P():ie=!1}}}var P;if(typeof te=="function")P=function(){te(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Le=N.port2;N.port1.onmessage=M,P=function(){Le.postMessage(null)}}else P=function(){Y(M,0)};function qe(Q,se){I=Y(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ce=b;b=se;try{return Q()}finally{b=ce}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=b;b=Q;try{return se()}finally{b=ce}},i.unstable_scheduleCallback=function(Q,se,ce){var De=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,Q){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,Q={id:_++,callback:se,priorityLevel:Q,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>De?(Q.sortIndex=ce,e(g,Q),n(p)===null&&Q===n(g)&&(H?(ee(I),I=-1):H=!0,qe(de,ce-De))):(Q.sortIndex=Fe,e(p,Q),U||O||(U=!0,ie||(ie=!0,P()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var se=b;return function(){var ce=b;b=se;try{return Q.apply(this,arguments)}finally{b=ce}}}})(hp)),hp}var dT;function $1(){return dT||(dT=1,fp.exports=G1()),fp.exports}var dp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function K1(){if(mT)return ln;mT=1;var i=vg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},ln.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ln.requestFormReset=function(p){s.d.r(p)},ln.unstable_batchedUpdates=function(p,g){return p(g)},ln.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var pT;function bS(){if(pT)return dp.exports;pT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dp.exports=K1(),dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function Q1(){if(gT)return su;gT=1;var i=$1(),e=vg(),n=bS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=l(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,u=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===u)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,u=d;break}if(A===u){v=!0,u=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,u=h;break}if(A===u){v=!0,u=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Y:return"Profiler";case j:return"StrictMode";case de:return"Suspense";case ie:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case te:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Le(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return Le(t(r))}catch{}}return null}var qe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},De=[],Fe=-1;function V(t){return{current:t}}function W(t){0>Fe||(t.current=De[Fe],De[Fe]=null,Fe--)}function ae(t,r){Fe++,De[Fe]=t.current,t.current=r}var le=V(null),ye=V(null),be=V(null),Ve=V(null);function ut(t,r){switch(ae(be,r),ae(ye,t),ae(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?xE(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=xE(r),t=OE(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(le),ae(le,t)}function Ze(){W(le),W(ye),W(be)}function Ae(t){t.memoizedState!==null&&ae(Ve,t);var r=le.current,a=OE(r,t.type);r!==a&&(ae(ye,t),ae(le,a))}function Qe(t){ye.current===t&&(W(le),W(ye)),Ve.current===t&&(W(Ve),eu._currentValue=ce)}var ct,Ht;function Et(t){if(ct===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ct=r&&r[1]||"",Ht=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+t+Ht}var Ke=!1;function on(t,r){if(!t||Ke)return"";Ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var G=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){G=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){G=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var x=v.split(`
`),F=A.split(`
`);for(h=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(u===x.length||h===F.length)for(u=x.length-1,h=F.length-1;1<=u&&0<=h&&x[u]!==F[h];)h--;for(;1<=u&&0<=h;u--,h--)if(x[u]!==F[h]){if(u!==1||h!==1)do if(u--,h--,0>h||x[u]!==F[h]){var X=`
`+x[u].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=u&&0<=h);break}}}finally{Ke=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Et(a):""}function dn(t,r){switch(t.tag){case 26:case 27:case 5:return Et(t.type);case 16:return Et("Lazy");case 13:return t.child!==r&&r!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return on(t.type,!1);case 11:return on(t.type.render,!1);case 1:return on(t.type,!0);case 31:return Et("Activity");default:return""}}function Bs(t){try{var r="",a=null;do r+=dn(t,a),a=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,qt=i.unstable_scheduleCallback,zr=i.unstable_cancelCallback,cd=i.unstable_shouldYield,nc=i.unstable_requestPaint,mn=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,il=i.unstable_ImmediatePriority,rl=i.unstable_UserBlockingPriority,Br=i.unstable_NormalPriority,fd=i.unstable_LowPriority,ic=i.unstable_IdlePriority,rc=i.log,sc=i.unstable_setDisableYieldValue,ni=null,Wt=null;function Bn(t){if(typeof rc=="function"&&sc(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ni,t)}catch{}}var bt=Math.clz32?Math.clz32:oc,ac=Math.log,Va=Math.LN2;function oc(t){return t>>>=0,t===0?32:31-(ac(t)/Va|0)|0}var Ti=256,qs=262144,Dt=4194304;function Si(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ai(t,r,a){var u=t.pendingLanes;if(u===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=u&134217727;return A!==0?(u=A&~d,u!==0?h=Si(u):(v&=A,v!==0?h=Si(v):a||(a=A&~t,a!==0&&(h=Si(a))))):(A=u&~d,A!==0?h=Si(A):v!==0?h=Si(v):a||(a=u&~t,a!==0&&(h=Si(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ii(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function hd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function bi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Fs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function dd(t,r,a,u,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-bt(a),ne=1<<X;A[X]=0,x[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~ne}u!==0&&Gs(t,u,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Gs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-bt(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function sl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-bt(a),h=1<<u;h&r|t[u]&r&&(t[u]|=r),a&=~h}}function al(t,r){var a=r&-r;return a=(a&42)!==0?1:$s(a),(a&(t.suspendedLanes|r))!==0?0:a}function $s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:tT(t.type))}function ri(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var si=Math.random().toString(36).slice(2),xt="__reactFiber$"+si,Kt="__reactProps$"+si,wi="__reactContainer$"+si,La="__reactEvents$"+si,md="__reactListeners$"+si,cc="__reactHandles$"+si,fc="__reactResources$"+si,Ri="__reactMarker$"+si;function ka(t){delete t[xt],delete t[Kt],delete t[La],delete t[md],delete t[cc]}function Ci(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wi]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=jE(t);t!==null;){if(a=t[xt])return a;t=jE(t)}return r}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[xt]||t[wi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function xn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ii(t){var r=t[fc];return r||(r=t[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(t){t[Ri]=!0}var ol=new Set,ll={};function Ni(t,r){Di(t,r),Di(t+"Capture",r)}function Di(t,r){for(ll[t]=r,t=0;t<r.length;t++)ol.add(r[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},fl={};function hc(t){return Nt.call(fl,t)?!0:Nt.call(cl,t)?!1:ul.test(t)?fl[t]=!0:(cl[t]=!0,!1)}function Pa(t,r,a){if(hc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function On(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Mt(t,r,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+u)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hl(t,r,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,d=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function tt(t){if(!t._valueTracker){var r=Hr(t)?"checked":"value";t._valueTracker=hl(t,r,""+t[r])}}function Ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=Hr(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function _n(t){return t.replace(Qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(t,r,a,u,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Qt(r)):t.value!==""+Qt(r)&&(t.value=""+Qt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?dl(t,v,Qt(r)):a!=null?dl(t,v,Qt(a)):u!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Qt(A):t.removeAttribute("name")}function dc(t,r,a,u,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){tt(t);return}a=a!=null?""+Qt(a):"",r=r!=null?""+Qt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=A?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),tt(t)}function dl(t,r,a){r==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qr(t,r,a,u){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function mc(t,r,a){if(r!=null&&(r=""+Qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Qt(a):""}function Fr(t,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(qe(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Qt(r),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),tt(t)}function vn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(t,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,a):typeof a!="number"||a===0||pc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function pl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&ml(t,h,u)}else for(var d in r)r.hasOwnProperty(d)&&ml(t,d,r[d])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var gl=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $r=null,Oi=null;function Ys(t){var r=Hn(t);if(r&&(t=r.stateNode)){var a=t[Kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var h=u[Kt]||null;if(!h)throw Error(s(90));Ua(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===t.form&&Ks(u)}break e;case"textarea":mc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qr(t,!!a.multiple,r,!1)}}}var Ba=!1;function Kr(t,r,a){if(Ba)return t(r,a);Ba=!0;try{var u=t(r);return u}finally{if(Ba=!1,($r!==null||Oi!==null)&&(cf(),$r&&(r=$r,t=Oi,Oi=$r=null,Ys(r),t)))for(r=0;r<t.length;r++)Ys(t[r])}}function oi(t,r){var a=t.stateNode;if(a===null)return null;var u=a[Kt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Fn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Xs=!1}var Mi=null,yl=null,Ws=null;function _l(){if(Ws)return Ws;var t,r=yl,a=r.length,u,h="value"in Mi?Mi.value:Mi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(u=1;u<=v&&r[a-u]===h[d-u];u++);return Ws=h.slice(t,1<u?1-u:void 0)}function Js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function li(){return!1}function Jt(t){function r(a,u,h,d,v){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:li,this.isPropagationStopped=li,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Jt(rr),Qr=T({},rr,{view:0,detail:0}),vl=Jt(Qr),Yr,Ha,Li,qa=T({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Yr=t.screenX-Li.screenX,Ha=t.screenY-Li.screenY):Ha=Yr=0,Li=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),El=Jt(qa),Zs=T({},qa,{dataTransfer:0}),yc=Jt(Zs),_c=T({},Qr,{relatedTarget:0}),ea=Jt(_c),Tl=T({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),vc=Jt(Tl),Fa=T({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ec=Jt(Fa),Tc=T({},rr,{data:0}),ki=Jt(Tc),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=bc[t])?!!r[t]:!1}function Xr(){return wc}var pn=T({},Qr,{key:function(t){if(t.key){var r=Sc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ac[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rc=Jt(pn),Cc=T({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=Jt(Cc),f=T({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),y=Jt(f),E=T({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Jt(E),B=T({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Jt(B),ue=T({},rr,{newState:0,oldState:0}),xe=Jt(ue),wt=[9,13,27,32],We=Fn&&"CompositionEvent"in window,pt=null;Fn&&"documentMode"in document&&(pt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!pt,Pi=Fn&&(!We||pt&&8<pt&&11>=pt),ui=" ",ci=!1;function ta(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function hR(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return t=r.data,t===ui&&ci?null:t;default:return null}}function dR(t,r){if($a)return t==="compositionend"||!We&&ta(t,r)?(t=_l(),Ws=yl=Mi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var mR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!mR[t.type]:r==="textarea"}function qy(t,r,a,u){$r?Oi?Oi.push(u):Oi=[u]:$r=u,r=yf(r,"onChange"),0<r.length&&(a=new Vi("onChange","change",null,a,u),t.push({event:a,listeners:r}))}var Sl=null,Al=null;function pR(t){wE(t,0)}function Ic(t){var r=xn(t);if(Ks(r))return t}function Fy(t,r){if(t==="change")return r}var Gy=!1;if(Fn){var pd;if(Fn){var gd="oninput"in document;if(!gd){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),gd=typeof $y.oninput=="function"}pd=gd}else pd=!1;Gy=pd&&(!document.documentMode||9<document.documentMode)}function Ky(){Sl&&(Sl.detachEvent("onpropertychange",Qy),Al=Sl=null)}function Qy(t){if(t.propertyName==="value"&&Ic(Al)){var r=[];qy(r,Al,t,qn(t)),Kr(pR,r)}}function gR(t,r,a){t==="focusin"?(Ky(),Sl=r,Al=a,Sl.attachEvent("onpropertychange",Qy)):t==="focusout"&&Ky()}function yR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ic(Al)}function _R(t,r){if(t==="click")return Ic(r)}function vR(t,r){if(t==="input"||t==="change")return Ic(r)}function ER(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Mn=typeof Object.is=="function"?Object.is:ER;function bl(t,r){if(Mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!Nt.call(r,h)||!Mn(t[h],r[h]))return!1}return!0}function Yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,r){var a=Yy(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yy(a)}}function Wy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xi(t.document)}return r}function yd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var TR=Fn&&"documentMode"in document&&11>=document.documentMode,Ka=null,_d=null,wl=null,vd=!1;function Zy(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vd||Ka==null||Ka!==xi(u)||(u=Ka,"selectionStart"in u&&yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wl&&bl(wl,u)||(wl=u,u=yf(_d,"onSelect"),0<u.length&&(r=new Vi("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=Ka)))}function na(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Qa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Ed={},e_={};Fn&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ia(t){if(Ed[t])return Ed[t];if(!Qa[t])return t;var r=Qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in e_)return Ed[t]=r[a];return t}var t_=ia("animationend"),n_=ia("animationiteration"),i_=ia("animationstart"),SR=ia("transitionrun"),AR=ia("transitionstart"),bR=ia("transitioncancel"),r_=ia("transitionend"),s_=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function fi(t,r){s_.set(t,r),Ni(r,[t])}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ya=0,Sd=0;function Dc(){for(var t=Ya,r=Sd=Ya=0;r<t;){var a=$n[r];$n[r++]=null;var u=$n[r];$n[r++]=null;var h=$n[r];$n[r++]=null;var d=$n[r];if($n[r++]=null,u!==null&&h!==null){var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}d!==0&&a_(a,h,d)}}function xc(t,r,a,u){$n[Ya++]=t,$n[Ya++]=r,$n[Ya++]=a,$n[Ya++]=u,Sd|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ad(t,r,a,u){return xc(t,r,a,u),Oc(t)}function ra(t,r){return xc(t,null,null,r),Oc(t)}function a_(t,r,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-bt(a),t=d.hiddenUpdates,u=t[h],u===null?t[h]=[r]:u.push(r),r.lane=a|536870912),d):null}function Oc(t){if(50<Kl)throw Kl=0,Om=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function wR(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,r,a,u){return new wR(t,r,a,u)}function bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,r){var a=t.alternate;return a===null?(a=Vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function o_(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Mc(t,r,a,u,h,d){var v=0;if(u=t,typeof t=="function")bd(t)&&(v=1);else if(typeof t=="string")v=D1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Vn(31,a,r,h),t.elementType=D,t.lanes=d,t;case H:return sa(a.children,h,d,r);case j:v=8,h|=24;break;case Y:return t=Vn(12,a,r,h|2),t.elementType=Y,t.lanes=d,t;case de:return t=Vn(13,a,r,h),t.elementType=de,t.lanes=d,t;case ie:return t=Vn(19,a,r,h),t.elementType=ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:v=10;break e;case ee:v=9;break e;case oe:v=11;break e;case I:v=14;break e;case C:v=16,u=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),u=null}return r=Vn(v,a,r,h),r.elementType=t,r.type=u,r.lanes=d,r}function sa(t,r,a,u){return t=Vn(7,t,u,r),t.lanes=a,t}function wd(t,r,a){return t=Vn(6,t,null,r),t.lanes=a,t}function l_(t){var r=Vn(18,null,null,0);return r.stateNode=t,r}function Rd(t,r,a){return r=Vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var u_=new WeakMap;function Kn(t,r){if(typeof t=="object"&&t!==null){var a=u_.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Bs(r)},u_.set(t,r),r)}return{value:t,source:r,stack:Bs(r)}}var Wa=[],Ja=0,Vc=null,Rl=0,Qn=[],Yn=0,Wr=null,Ui=1,ji="";function or(t,r){Wa[Ja++]=Rl,Wa[Ja++]=Vc,Vc=t,Rl=r}function c_(t,r,a){Qn[Yn++]=Ui,Qn[Yn++]=ji,Qn[Yn++]=Wr,Wr=t;var u=Ui;t=ji;var h=32-bt(u)-1;u&=~(1<<h),a+=1;var d=32-bt(r)+h;if(30<d){var v=h-h%5;d=(u&(1<<v)-1).toString(32),u>>=v,h-=v,Ui=1<<32-bt(r)+h|a<<h|u,ji=d+t}else Ui=1<<d|a<<h|u,ji=t}function Cd(t){t.return!==null&&(or(t,1),c_(t,1,0))}function Id(t){for(;t===Vc;)Vc=Wa[--Ja],Wa[Ja]=null,Rl=Wa[--Ja],Wa[Ja]=null;for(;t===Wr;)Wr=Qn[--Yn],Qn[Yn]=null,ji=Qn[--Yn],Qn[Yn]=null,Ui=Qn[--Yn],Qn[Yn]=null}function f_(t,r){Qn[Yn++]=Ui,Qn[Yn++]=ji,Qn[Yn++]=Wr,Ui=r.id,ji=r.overflow,Wr=t}var Zt=null,ht=null,Ge=!1,Jr=null,Xn=!1,Nd=Error(s(519));function Zr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Kn(r,t)),Nd}function h_(t){var r=t.stateNode,a=t.type,u=t.memoizedProps;switch(r[xt]=t,r[Kt]=u,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Pe(Yl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),dc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Fr(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||NE(r.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Zr(t,!0)}function d_(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Zt=Zt.return}}function Za(t){if(t!==Zt)return!1;if(!Ge)return d_(t),Ge=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Km(t.type,t.memoizedProps)),a=!a),a&&ht&&Zr(t),d_(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=UE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=UE(t)}else r===27?(r=ht,ds(t.type)?(t=Jm,Jm=null,ht=t):ht=r):ht=Zt?Jn(t.stateNode.nextSibling):null;return!0}function aa(){ht=Zt=null,Ge=!1}function Dd(){var t=Jr;return t!==null&&(An===null?An=t:An.push.apply(An,t),Jr=null),t}function Cl(t){Jr===null?Jr=[t]:Jr.push(t)}var xd=V(null),oa=null,lr=null;function es(t,r,a){ae(xd,r._currentValue),r._currentValue=a}function ur(t){t._currentValue=xd.current,W(xd)}function Od(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}}function Md(t,r,a,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var x=0;x<r.length;x++)if(A.context===r[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Od(d.return,a,t),u||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Od(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function eo(t,r,a,u){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;Mn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(eu):t=[eu])}h=h.return}t!==null&&Md(r,t,a,u),r.flags|=262144}function Lc(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return m_(oa,t)}function kc(t,r){return oa===null&&la(t),m_(t,r)}function m_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},lr===null){if(t===null)throw Error(s(308));lr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else lr=lr.next=r;return a}var RR=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},CR=i.unstable_scheduleCallback,IR=i.unstable_NormalPriority,Vt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new RR,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&CR(IR,function(){t.controller.abort()})}var Nl=null,Ld=0,to=0,no=null;function NR(t,r){if(Nl===null){var a=Nl=[];Ld=0,to=Um(),no={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ld++,r.then(p_,p_),r}function p_(){if(--Ld===0&&Nl!==null){no!==null&&(no.status="fulfilled");var t=Nl;Nl=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function DR(t,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var g_=Q.S;Q.S=function(t,r){Zv=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NR(t,r),g_!==null&&g_(t,r)};var ua=V(null);function kd(){var t=ua.current;return t!==null?t:lt.pooledCache}function Pc(t,r){r===null?ae(ua,ua.current):ae(ua,r.pool)}function y_(){var t=kd();return t===null?null:{parent:Vt._currentValue,pool:t}}var io=Error(s(460)),Pd=Error(s(474)),Uc=Error(s(542)),jc={then:function(){}};function __(t){return t=t.status,t==="fulfilled"||t==="rejected"}function v_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ai,ai),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,T_(t),t;default:if(typeof r.status=="string")r.then(ai,ai);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,T_(t),t}throw fa=r,io}}function ca(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fa=a,io):a}}var fa=null;function E_(){if(fa===null)throw Error(s(459));var t=fa;return fa=null,t}function T_(t){if(t===io||t===Uc)throw Error(s(483))}var ro=null,Dl=0;function zc(t){var r=Dl;return Dl+=1,ro===null&&(ro=[]),v_(ro,t,r)}function xl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Bc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function S_(t){function r(z,k){if(t){var q=z.deletions;q===null?(z.deletions=[k],z.flags|=16):q.push(k)}}function a(z,k){if(!t)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=ar(z,k),z.index=0,z.sibling=null,z}function d(z,k,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<k?(z.flags|=67108866,k):q):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,q,J){return k===null||k.tag!==6?(k=wd(q,z.mode,J),k.return=z,k):(k=h(k,q),k.return=z,k)}function x(z,k,q,J){var _e=q.type;return _e===H?X(z,k,q.props.children,J,q.key):k!==null&&(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ca(_e)===k.type)?(k=h(k,q.props),xl(k,q),k.return=z,k):(k=Mc(q.type,q.key,q.props,null,z.mode,J),xl(k,q),k.return=z,k)}function F(z,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Rd(q,z.mode,J),k.return=z,k):(k=h(k,q.children||[]),k.return=z,k)}function X(z,k,q,J,_e){return k===null||k.tag!==7?(k=sa(q,z.mode,J,_e),k.return=z,k):(k=h(k,q),k.return=z,k)}function ne(z,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wd(""+k,z.mode,q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return q=Mc(k.type,k.key,k.props,null,z.mode,q),xl(q,k),q.return=z,q;case U:return k=Rd(k,z.mode,q),k.return=z,k;case C:return k=ca(k),ne(z,k,q)}if(qe(k)||P(k))return k=sa(k,z.mode,q,null),k.return=z,k;if(typeof k.then=="function")return ne(z,zc(k),q);if(k.$$typeof===te)return ne(z,kc(z,k),q);Bc(z,k)}return null}function G(z,k,q,J){var _e=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:A(z,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===_e?x(z,k,q,J):null;case U:return q.key===_e?F(z,k,q,J):null;case C:return q=ca(q),G(z,k,q,J)}if(qe(q)||P(q))return _e!==null?null:X(z,k,q,J,null);if(typeof q.then=="function")return G(z,k,zc(q),J);if(q.$$typeof===te)return G(z,k,kc(z,q),J);Bc(z,q)}return null}function K(z,k,q,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,A(k,z,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return z=z.get(J.key===null?q:J.key)||null,x(k,z,J,_e);case U:return z=z.get(J.key===null?q:J.key)||null,F(k,z,J,_e);case C:return J=ca(J),K(z,k,q,J,_e)}if(qe(J)||P(J))return z=z.get(q)||null,X(k,z,J,_e,null);if(typeof J.then=="function")return K(z,k,q,zc(J),_e);if(J.$$typeof===te)return K(z,k,q,kc(k,J),_e);Bc(k,J)}return null}function me(z,k,q,J){for(var _e=null,Ye=null,pe=k,Me=k=0,je=null;pe!==null&&Me<q.length;Me++){pe.index>Me?(je=pe,pe=null):je=pe.sibling;var Xe=G(z,pe,q[Me],J);if(Xe===null){pe===null&&(pe=je);break}t&&pe&&Xe.alternate===null&&r(z,pe),k=d(Xe,k,Me),Ye===null?_e=Xe:Ye.sibling=Xe,Ye=Xe,pe=je}if(Me===q.length)return a(z,pe),Ge&&or(z,Me),_e;if(pe===null){for(;Me<q.length;Me++)pe=ne(z,q[Me],J),pe!==null&&(k=d(pe,k,Me),Ye===null?_e=pe:Ye.sibling=pe,Ye=pe);return Ge&&or(z,Me),_e}for(pe=u(pe);Me<q.length;Me++)je=K(pe,z,Me,q[Me],J),je!==null&&(t&&je.alternate!==null&&pe.delete(je.key===null?Me:je.key),k=d(je,k,Me),Ye===null?_e=je:Ye.sibling=je,Ye=je);return t&&pe.forEach(function(_s){return r(z,_s)}),Ge&&or(z,Me),_e}function Te(z,k,q,J){if(q==null)throw Error(s(151));for(var _e=null,Ye=null,pe=k,Me=k=0,je=null,Xe=q.next();pe!==null&&!Xe.done;Me++,Xe=q.next()){pe.index>Me?(je=pe,pe=null):je=pe.sibling;var _s=G(z,pe,Xe.value,J);if(_s===null){pe===null&&(pe=je);break}t&&pe&&_s.alternate===null&&r(z,pe),k=d(_s,k,Me),Ye===null?_e=_s:Ye.sibling=_s,Ye=_s,pe=je}if(Xe.done)return a(z,pe),Ge&&or(z,Me),_e;if(pe===null){for(;!Xe.done;Me++,Xe=q.next())Xe=ne(z,Xe.value,J),Xe!==null&&(k=d(Xe,k,Me),Ye===null?_e=Xe:Ye.sibling=Xe,Ye=Xe);return Ge&&or(z,Me),_e}for(pe=u(pe);!Xe.done;Me++,Xe=q.next())Xe=K(pe,z,Me,Xe.value,J),Xe!==null&&(t&&Xe.alternate!==null&&pe.delete(Xe.key===null?Me:Xe.key),k=d(Xe,k,Me),Ye===null?_e=Xe:Ye.sibling=Xe,Ye=Xe);return t&&pe.forEach(function(B1){return r(z,B1)}),Ge&&or(z,Me),_e}function ot(z,k,q,J){if(typeof q=="object"&&q!==null&&q.type===H&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var _e=q.key;k!==null;){if(k.key===_e){if(_e=q.type,_e===H){if(k.tag===7){a(z,k.sibling),J=h(k,q.props.children),J.return=z,z=J;break e}}else if(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ca(_e)===k.type){a(z,k.sibling),J=h(k,q.props),xl(J,q),J.return=z,z=J;break e}a(z,k);break}else r(z,k);k=k.sibling}q.type===H?(J=sa(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=Mc(q.type,q.key,q.props,null,z.mode,J),xl(J,q),J.return=z,z=J)}return v(z);case U:e:{for(_e=q.key;k!==null;){if(k.key===_e)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(z,k.sibling),J=h(k,q.children||[]),J.return=z,z=J;break e}else{a(z,k);break}else r(z,k);k=k.sibling}J=Rd(q,z.mode,J),J.return=z,z=J}return v(z);case C:return q=ca(q),ot(z,k,q,J)}if(qe(q))return me(z,k,q,J);if(P(q)){if(_e=P(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),Te(z,k,q,J)}if(typeof q.then=="function")return ot(z,k,zc(q),J);if(q.$$typeof===te)return ot(z,k,kc(z,q),J);Bc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(z,k.sibling),J=h(k,q),J.return=z,z=J):(a(z,k),J=wd(q,z.mode,J),J.return=z,z=J),v(z)):a(z,k)}return function(z,k,q,J){try{Dl=0;var _e=ot(z,k,q,J);return ro=null,_e}catch(pe){if(pe===io||pe===Uc)throw pe;var Ye=Vn(29,pe,null,z.mode);return Ye.lanes=J,Ye.return=z,Ye}finally{}}}var ha=S_(!0),A_=S_(!1),ts=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function is(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Oc(t),a_(t,null,a),r}return xc(t,u,r,a),Oc(t)}function Ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,sl(t,a)}}function zd(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Bd=!1;function Ml(){if(Bd){var t=no;if(t!==null)throw t}}function Vl(t,r,a,u){Bd=!1;var h=t.updateQueue;ts=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,F=x.next;x.next=null,v===null?d=F:v.next=F,v=x;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=x))}if(d!==null){var ne=h.baseState;v=0,X=F=x=null,A=d;do{var G=A.lane&-536870913,K=G!==A.lane;if(K?(Ue&G)===G:(u&G)===G){G!==0&&G===to&&(Bd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=t,Te=A;G=r;var ot=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){ne=me.call(ot,ne,G);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,G=typeof me=="function"?me.call(ot,ne,G):me,G==null)break e;ne=T({},ne,G);break e;case 2:ts=!0}}G=A.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=K,x=ne):X=X.next=K,v|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(x=ne),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ls|=v,t.lanes=v,t.memoizedState=ne}}function b_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function w_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)b_(a[t],r)}var so=V(null),Hc=V(0);function R_(t,r){t=_r,ae(Hc,t),ae(so,r),_r=t|r.baseLanes}function Hd(){ae(Hc,_r),ae(so,so.current)}function qd(){_r=Hc.current,W(so),W(Hc)}var Ln=V(null),Wn=null;function rs(t){var r=t.alternate;ae(Rt,Rt.current&1),ae(Ln,t),Wn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Wn=t)}function Fd(t){ae(Rt,Rt.current),ae(Ln,t),Wn===null&&(Wn=t)}function C_(t){t.tag===22?(ae(Rt,Rt.current),ae(Ln,t),Wn===null&&(Wn=t)):ss()}function ss(){ae(Rt,Rt.current),ae(Ln,Ln.current)}function kn(t){W(Ln),Wn===t&&(Wn=null),W(Rt)}var Rt=V(0);function qc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xm(a)||Wm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cr=0,Oe=null,st=null,Lt=null,Fc=!1,ao=!1,da=!1,Gc=0,Ll=0,oo=null,xR=0;function Tt(){throw Error(s(321))}function Gd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Mn(t[a],r[a]))return!1;return!0}function $d(t,r,a,u,h,d){return cr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?cv:om,da=!1,d=a(u,h),da=!1,ao&&(d=N_(r,a,u,h)),I_(t),d}function I_(t){Q.H=Ul;var r=st!==null&&st.next!==null;if(cr=0,Lt=st=Oe=null,Fc=!1,Ll=0,oo=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Lc(t)&&(kt=!0))}function N_(t,r,a,u){Oe=t;var h=0;do{if(ao&&(oo=null),Ll=0,ao=!1,25<=h)throw Error(s(301));if(h+=1,Lt=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=fv,d=r(a,u)}while(ao);return d}function OR(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?kl(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Oe.flags|=1024),r}function Kd(){var t=Gc!==0;return Gc=0,t}function Qd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Yd(t){if(Fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Fc=!1}cr=0,Lt=st=Oe=null,ao=!1,Ll=Gc=0,oo=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ct(){if(st===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=Lt===null?Oe.memoizedState:Lt.next;if(r!==null)Lt=r,st=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var r=Ll;return Ll+=1,oo===null&&(oo=[]),t=v_(oo,t,r),r=Oe,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?cv:om),t}function Kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===te)return en(t)}throw Error(s(438,String(t)))}function Xd(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$c(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),u=0;u<t;u++)a[u]=L;return r.index++,a}function fr(t,r){return typeof r=="function"?r(t):r}function Qc(t){var r=Ct();return Wd(r,st,t)}function Wd(t,r,a){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=t.baseQueue,d=u.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,u.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var A=v=null,x=null,F=r,X=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Ue&ne)===ne:(cr&ne)===ne){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===to&&(X=!0);else if((cr&G)===G){F=F.next,G===to&&(X=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=ne,v=d):x=x.next=ne,Oe.lanes|=G,ls|=G;ne=F.action,da&&a(d,ne),d=F.hasEagerState?F.eagerState:a(d,ne)}else G={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=G,v=d):x=x.next=G,Oe.lanes|=ne,ls|=ne;F=F.next}while(F!==null&&F!==r);if(x===null?v=d:x.next=A,!Mn(d,t.memoizedState)&&(kt=!0,X&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,u.lastRenderedState=d}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Jd(t){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var u=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Mn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function D_(t,r,a){var u=Oe,h=Ct(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Mn((st||h).memoizedState,a);if(v&&(h.memoizedState=a,kt=!0),h=h.queue,tm(M_.bind(null,u,h,t),[t]),h.getSnapshot!==r||v||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,lo(9,{destroy:void 0},O_.bind(null,u,h,a,r),null),lt===null)throw Error(s(349));d||(cr&127)!==0||x_(u,r,a)}return a}function x_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=$c(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function O_(t,r,a,u){r.value=a,r.getSnapshot=u,V_(r)&&L_(t)}function M_(t,r,a){return a(function(){V_(r)&&L_(t)})}function V_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Mn(t,a)}catch{return!0}}function L_(t){var r=ra(t,2);r!==null&&bn(r,t,2)}function Zd(t){var r=gn();if(typeof t=="function"){var a=t;if(t=a(),da){Bn(!0);try{a()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:t},r}function k_(t,r,a,u){return t.baseState=a,Wd(t,st,typeof u=="function"?u:fr)}function MR(t,r,a,u,h){if(Wc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,P_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function P_(t,r){var a=r.action,u=r.payload,h=t.state;if(r.isTransition){var d=Q.T,v={};Q.T=v;try{var A=a(h,u),x=Q.S;x!==null&&x(v,A),U_(t,r,A)}catch(F){em(t,r,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,u),U_(t,r,d)}catch(F){em(t,r,F)}}function U_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){j_(t,r,u)},function(u){return em(t,r,u)}):j_(t,r,a)}function j_(t,r,a){r.status="fulfilled",r.value=a,z_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,P_(t,a)))}function em(t,r,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,z_(r),r=r.next;while(r!==u)}t.action=null}function z_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function B_(t,r){return r}function H_(t,r){if(Ge){var a=lt.formState;if(a!==null){e:{var u=Oe;if(Ge){if(ht){t:{for(var h=ht,d=Xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Jn(h.nextSibling),u=h.data==="F!";break e}}Zr(u)}u=!1}u&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},a.queue=u,a=ov.bind(null,Oe,u),u.dispatch=a,u=Zd(!1),d=am.bind(null,Oe,!1,u.queue),u=gn(),h={state:r,dispatch:null,action:t,pending:null},u.queue=h,a=MR.bind(null,Oe,h,d,a),h.dispatch=a,u.memoizedState=t,[r,a,!1]}function q_(t){var r=Ct();return F_(r,st,t)}function F_(t,r,a){if(r=Wd(t,r,B_)[0],t=Qc(fr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=kl(r)}catch(v){throw v===io?Uc:v}else u=r;r=Ct();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,lo(9,{destroy:void 0},VR.bind(null,h,a),null)),[u,d,t]}function VR(t,r){t.action=r}function G_(t){var r=Ct(),a=st;if(a!==null)return F_(r,a,t);Ct(),r=r.memoizedState,a=Ct();var u=a.queue.dispatch;return a.memoizedState=t,[r,u,!1]}function lo(t,r,a,u){return t={tag:t,create:a,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=$c(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t),t}function $_(){return Ct().memoizedState}function Yc(t,r,a,u){var h=gn();Oe.flags|=t,h.memoizedState=lo(1|r,{destroy:void 0},a,u===void 0?null:u)}function Xc(t,r,a,u){var h=Ct();u=u===void 0?null:u;var d=h.memoizedState.inst;st!==null&&u!==null&&Gd(u,st.memoizedState.deps)?h.memoizedState=lo(r,d,a,u):(Oe.flags|=t,h.memoizedState=lo(1|r,d,a,u))}function K_(t,r){Yc(8390656,8,t,r)}function tm(t,r){Xc(2048,8,t,r)}function LR(t){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=$c(),Oe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Q_(t){var r=Ct().memoizedState;return LR({ref:r,nextImpl:t}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Y_(t,r){return Xc(4,2,t,r)}function X_(t,r){return Xc(4,4,t,r)}function W_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function J_(t,r,a){a=a!=null?a.concat([t]):null,Xc(4,4,W_.bind(null,r,t),a)}function nm(){}function Z_(t,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Gd(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function ev(t,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Gd(r,u[1]))return u[0];if(u=t(),da){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[u,r],u}function im(t,r,a){return a===void 0||(cr&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=tE(),Oe.lanes|=t,ls|=t,a)}function tv(t,r,a,u){return Mn(a,r)?a:so.current!==null?(t=im(t,a,u),Mn(t,r)||(kt=!0),t):(cr&42)===0||(cr&1073741824)!==0&&(Ue&261930)===0?(kt=!0,t.memoizedState=a):(t=tE(),Oe.lanes|=t,ls|=t,r)}function nv(t,r,a,u,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Q.T,A={};Q.T=A,am(t,!1,r,a);try{var x=h(),F=Q.S;if(F!==null&&F(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=DR(x,u);Pl(t,r,X,jn(t))}else Pl(t,r,u,jn(t))}catch(ne){Pl(t,r,{then:function(){},status:"rejected",reason:ne},jn())}finally{se.p=d,v!==null&&A.types!==null&&(v.types=A.types),Q.T=v}}function kR(){}function rm(t,r,a,u){if(t.tag!==5)throw Error(s(476));var h=iv(t).queue;nv(t,h,r,ce,a===null?kR:function(){return rv(t),a(u)})}function iv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function rv(t){var r=iv(t);r.next===null&&(r=t.alternate.memoizedState),Pl(t,r.next.queue,{},jn())}function sm(){return en(eu)}function sv(){return Ct().memoizedState}function av(){return Ct().memoizedState}function PR(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=jn();t=ns(a);var u=is(r,t,a);u!==null&&(bn(u,r,a),Ol(u,r,a)),r={cache:Vd()},t.payload=r;return}r=r.return}}function UR(t,r,a){var u=jn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(t)?lv(r,a):(a=Ad(t,r,a,u),a!==null&&(bn(a,t,u),uv(a,r,u)))}function ov(t,r,a){var u=jn();Pl(t,r,a,u)}function Pl(t,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(t))lv(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,Mn(A,v))return xc(t,r,h,0),lt===null&&Dc(),!1}catch{}finally{}if(a=Ad(t,r,h,u),a!==null)return bn(a,t,u),uv(a,r,u),!0}return!1}function am(t,r,a,u){if(u={lane:2,revertLane:Um(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wc(t)){if(r)throw Error(s(479))}else r=Ad(t,a,u,2),r!==null&&bn(r,t,2)}function Wc(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function lv(t,r){ao=Fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function uv(t,r,a){if((a&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,sl(t,a)}}var Ul={readContext:en,use:Kc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ul.useEffectEvent=Tt;var cv={readContext:en,use:Kc,useCallback:function(t,r){return gn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:K_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Yc(4194308,4,W_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Yc(4194308,4,t,r)},useInsertionEffect:function(t,r){Yc(4,2,t,r)},useMemo:function(t,r){var a=gn();r=r===void 0?null:r;var u=t();if(da){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(t,r,a){var u=gn();if(a!==void 0){var h=a(r);if(da){Bn(!0);try{a(r)}finally{Bn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=UR.bind(null,Oe,t),[u.memoizedState,t]},useRef:function(t){var r=gn();return t={current:t},r.memoizedState=t},useState:function(t){t=Zd(t);var r=t.queue,a=ov.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:nm,useDeferredValue:function(t,r){var a=gn();return im(a,t,r)},useTransition:function(){var t=Zd(!1);return t=nv.bind(null,Oe,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var u=Oe,h=gn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(Ue&127)!==0||x_(u,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,K_(M_.bind(null,u,d,t),[t]),u.flags|=2048,lo(9,{destroy:void 0},O_.bind(null,u,d,a,r),null),a},useId:function(){var t=gn(),r=lt.identifierPrefix;if(Ge){var a=ji,u=Ui;a=(u&~(1<<32-bt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=xR++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:sm,useFormState:H_,useActionState:H_,useOptimistic:function(t){var r=gn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=am.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Xd,useCacheRefresh:function(){return gn().memoizedState=PR.bind(null,Oe)},useEffectEvent:function(t){var r=gn(),a={impl:t};return r.memoizedState=a,function(){if((Je&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},om={readContext:en,use:Kc,useCallback:Z_,useContext:en,useEffect:tm,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:ev,useReducer:Qc,useRef:$_,useState:function(){return Qc(fr)},useDebugValue:nm,useDeferredValue:function(t,r){var a=Ct();return tv(a,st.memoizedState,t,r)},useTransition:function(){var t=Qc(fr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:D_,useId:sv,useHostTransitionStatus:sm,useFormState:q_,useActionState:q_,useOptimistic:function(t,r){var a=Ct();return k_(a,st,t,r)},useMemoCache:Xd,useCacheRefresh:av};om.useEffectEvent=Q_;var fv={readContext:en,use:Kc,useCallback:Z_,useContext:en,useEffect:tm,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:ev,useReducer:Jd,useRef:$_,useState:function(){return Jd(fr)},useDebugValue:nm,useDeferredValue:function(t,r){var a=Ct();return st===null?im(a,t,r):tv(a,st.memoizedState,t,r)},useTransition:function(){var t=Jd(fr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:D_,useId:sv,useHostTransitionStatus:sm,useFormState:G_,useActionState:G_,useOptimistic:function(t,r){var a=Ct();return st!==null?k_(a,st,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:av};fv.useEffectEvent=Q_;function lm(t,r,a,u){r=t.memoizedState,a=a(u,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var um={enqueueSetState:function(t,r,a){t=t._reactInternals;var u=jn(),h=ns(u);h.payload=r,a!=null&&(h.callback=a),r=is(t,h,u),r!==null&&(bn(r,t,u),Ol(r,t,u))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=jn(),h=ns(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=is(t,h,u),r!==null&&(bn(r,t,u),Ol(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=jn(),u=ns(a);u.tag=2,r!=null&&(u.callback=r),r=is(t,u,a),r!==null&&(bn(r,t,a),Ol(r,t,a))}};function hv(t,r,a,u,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!bl(a,u)||!bl(h,d):!0}function dv(t,r,a,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==t&&um.enqueueReplaceState(r,r.state,null)}function ma(t,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function mv(t){Nc(t)}function pv(t){console.error(t)}function gv(t){Nc(t)}function Jc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function yv(t,r,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cm(t,r,a){return a=ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(t,r)},a}function _v(t){return t=ns(t),t.tag=3,t}function vv(t,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=u.value;t.payload=function(){return h(d)},t.callback=function(){yv(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){yv(r,a,u),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function jR(t,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?ff():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===jc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Lm(t,u,h)),!1;case 22:return a.flags|=65536,u===jc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Lm(t,u,h)),!1}throw Error(s(435,a.tag))}return Lm(t,u,h),ff(),!1}if(Ge)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Nd&&(t=Error(s(422),{cause:u}),Cl(Kn(t,a)))):(u!==Nd&&(r=Error(s(423),{cause:u}),Cl(Kn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=Kn(u,a),h=cm(t.stateNode,u,h),zd(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:u});if(d=Kn(d,a),$l===null?$l=[d]:$l.push(d),St!==4&&(St=2),r===null)return!0;u=Kn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cm(a.stateNode,u,t),zd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_v(h),vv(h,t,a,u),zd(a,h),!1}a=a.return}while(a!==null);return!1}var fm=Error(s(461)),kt=!1;function tn(t,r,a,u){r.child=t===null?A_(r,null,a,u):ha(r,t.child,a,u)}function Ev(t,r,a,u,h){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return la(r),u=$d(t,r,a,v,d,h),A=Kd(),t!==null&&!kt?(Qd(t,r,h),hr(t,r,h)):(Ge&&A&&Cd(r),r.flags|=1,tn(t,r,u,h),r.child)}function Tv(t,r,a,u,h){if(t===null){var d=a.type;return typeof d=="function"&&!bd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Sv(t,r,d,u,h)):(t=Mc(a.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!vm(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(v,u)&&t.ref===r.ref)return hr(t,r,h)}return r.flags|=1,t=ar(d,u),t.ref=r.ref,t.return=r,r.child=t}function Sv(t,r,a,u,h){if(t!==null){var d=t.memoizedProps;if(bl(d,u)&&t.ref===r.ref)if(kt=!1,r.pendingProps=u=d,vm(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,hr(t,r,h)}return hm(t,r,a,u,h)}function Av(t,r,a,u){var h=u.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(u=r.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~d}else u=0,r.child=null;return bv(t,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pc(r,d!==null?d.cachePool:null),d!==null?R_(r,d):Hd(),C_(r);else return u=r.lanes=536870912,bv(t,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Pc(r,d.cachePool),R_(r,d),ss(),r.memoizedState=null):(t!==null&&Pc(r,null),Hd(),ss());return tn(t,r,h,a),r.child}function jl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function bv(t,r,a,u,h){var d=kd();return d=d===null?null:{parent:Vt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Pc(r,null),Hd(),C_(r),t!==null&&eo(t,r,u,!0),r.childLanes=h,null}function Zc(t,r){return r=tf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function wv(t,r,a){return ha(r,t.child,null,a),t=Zc(r,r.pendingProps),t.flags|=2,kn(r),r.memoizedState=null,t}function zR(t,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ge){if(u.mode==="hidden")return t=Zc(r,u),r.lanes=536870912,jl(null,t);if(Fd(r),(t=ht)?(t=PE(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=l_(t),a.return=r,r.child=a,Zt=r,ht=null)):t=null,t===null)throw Zr(r);return r.lanes=536870912,null}return Zc(r,u)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Fd(r),h)if(r.flags&256)r.flags&=-257,r=wv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||eo(t,r,a,!1),h=(a&t.childLanes)!==0,kt||h){if(u=lt,u!==null&&(v=al(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ra(t,v),bn(u,t,v),fm;ff(),r=wv(t,r,a)}else t=d.treeContext,ht=Jn(v.nextSibling),Zt=r,Ge=!0,Jr=null,Xn=!1,t!==null&&f_(r,t),r=Zc(r,u),r.flags|=4096;return r}return t=ar(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function ef(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function hm(t,r,a,u,h){return la(r),a=$d(t,r,a,u,void 0,h),u=Kd(),t!==null&&!kt?(Qd(t,r,h),hr(t,r,h)):(Ge&&u&&Cd(r),r.flags|=1,tn(t,r,a,h),r.child)}function Rv(t,r,a,u,h,d){return la(r),r.updateQueue=null,a=N_(r,u,a,h),I_(t),u=Kd(),t!==null&&!kt?(Qd(t,r,d),hr(t,r,d)):(Ge&&u&&Cd(r),r.flags|=1,tn(t,r,a,d),r.child)}function Cv(t,r,a,u,h){if(la(r),r.stateNode===null){var d=Xa,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=um,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Ud(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):Xa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lm(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&um.enqueueReplaceState(d,d.state,null),Vl(r,u,d,h),Ml(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,x=ma(a,A);d.props=x;var F=d.context,X=a.contextType;v=Xa,typeof X=="object"&&X!==null&&(v=en(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==v)&&dv(r,d,u,v),ts=!1;var G=r.memoizedState;d.state=G,Vl(r,u,d,h),Ml(),F=r.memoizedState,A||G!==F||ts?(typeof ne=="function"&&(lm(r,a,ne,u),F=r.memoizedState),(x=ts||hv(r,a,x,u,G,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),d.props=u,d.state=F,d.context=v,u=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,jd(t,r),v=r.memoizedProps,X=ma(a,v),d.props=X,ne=r.pendingProps,G=d.context,F=a.contextType,x=Xa,typeof F=="object"&&F!==null&&(x=en(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||G!==x)&&dv(r,d,u,x),ts=!1,G=r.memoizedState,d.state=G,Vl(r,u,d,h),Ml();var K=r.memoizedState;v!==ne||G!==K||ts||t!==null&&t.dependencies!==null&&Lc(t.dependencies)?(typeof A=="function"&&(lm(r,a,A,u),K=r.memoizedState),(X=ts||hv(r,a,X,u,G,K,x)||t!==null&&t.dependencies!==null&&Lc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,K,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),d.props=u,d.state=K,d.context=x,u=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return d=u,ef(t,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&u?(r.child=ha(r,t.child,null,h),r.child=ha(r,null,a,h)):tn(t,r,a,h),r.memoizedState=d.state,t=r.child):t=hr(t,r,h),t}function Iv(t,r,a,u){return aa(),r.flags|=256,tn(t,r,a,u),r.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(t){return{baseLanes:t,cachePool:y_()}}function pm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function Nv(t,r,a){var u=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?rs(r):ss(),(t=ht)?(t=PE(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=l_(t),a.return=r,r.child=a,Zt=r,ht=null)):t=null,t===null)throw Zr(r);return Wm(t)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,h?(ss(),h=r.mode,A=tf({mode:"hidden",children:A},h),u=sa(u,h,a,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=mm(a),u.childLanes=pm(t,v,a),r.memoizedState=dm,jl(null,u)):(rs(r),gm(r,A))}var x=t.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(d)r.flags&256?(rs(r),r.flags&=-257,r=ym(t,r,a)):r.memoizedState!==null?(ss(),r.child=t.child,r.flags|=128,r=null):(ss(),A=u.fallback,h=r.mode,u=tf({mode:"visible",children:u.children},h),A=sa(A,h,a,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ha(r,t.child,null,a),u=r.child,u.memoizedState=mm(a),u.childLanes=pm(t,v,a),r.memoizedState=dm,r=jl(null,u));else if(rs(r),Wm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var F=v.dgst;v=F,u=Error(s(419)),u.stack="",u.digest=v,Cl({value:u,source:null,stack:null}),r=ym(t,r,a)}else if(kt||eo(t,r,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=lt,v!==null&&(u=al(v,a),u!==0&&u!==x.retryLane))throw x.retryLane=u,ra(t,u),bn(v,t,u),fm;Xm(A)||ff(),r=ym(t,r,a)}else Xm(A)?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,ht=Jn(A.nextSibling),Zt=r,Ge=!0,Jr=null,Xn=!1,t!==null&&f_(r,t),r=gm(r,u.children),r.flags|=4096);return r}return h?(ss(),A=u.fallback,h=r.mode,x=t.child,F=x.sibling,u=ar(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,F!==null?A=ar(F,A):(A=sa(A,h,a,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,jl(null,u),u=r.child,A=t.child.memoizedState,A===null?A=mm(a):(h=A.cachePool,h!==null?(x=Vt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=y_(),A={baseLanes:A.baseLanes|a,cachePool:h}),u.memoizedState=A,u.childLanes=pm(t,v,a),r.memoizedState=dm,jl(t.child,u)):(rs(r),a=t.child,t=a.sibling,a=ar(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function gm(t,r){return r=tf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function tf(t,r){return t=Vn(22,t,null,r),t.lanes=0,t}function ym(t,r,a){return ha(r,t.child,null,a),t=gm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Dv(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Od(t.return,r,a)}function _m(t,r,a,u,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function xv(t,r,a){var u=r.pendingProps,h=u.revealOrder,d=u.tail;u=u.children;var v=Rt.current,A=(v&2)!==0;if(A?(v=v&1|2,r.flags|=128):v&=1,ae(Rt,v),tn(t,r,u,a),u=Ge?Rl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dv(t,a,r);else if(t.tag===19)Dv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&qc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_m(r,!1,h,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&qc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_m(r,!0,a,null,d,u);break;case"together":_m(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ls|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ar(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ar(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function vm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Lc(t)))}function BR(t,r,a){switch(r.tag){case 3:ut(r,r.stateNode.containerInfo),es(r,Vt,t.memoizedState.cache),aa();break;case 27:case 5:Ae(r);break;case 4:ut(r,r.stateNode.containerInfo);break;case 10:es(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(rs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Nv(t,r,a):(rs(r),t=hr(t,r,a),t!==null?t.sibling:null);rs(r);break;case 19:var h=(t.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(eo(t,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return xv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Rt,Rt.current),u)break;return null;case 22:return r.lanes=0,Av(t,r,a,r.pendingProps);case 24:es(r,Vt,t.memoizedState.cache)}return hr(t,r,a)}function Ov(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!vm(t,a)&&(r.flags&128)===0)return kt=!1,BR(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,Ge&&(r.flags&1048576)!==0&&c_(r,Rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=ca(r.elementType),r.type=t,typeof t=="function")bd(t)?(u=ma(t,u),r.tag=1,r=Cv(null,r,t,u,a)):(r.tag=0,r=hm(null,r,t,u,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){r.tag=11,r=Ev(null,r,t,u,a);break e}else if(h===I){r.tag=14,r=Tv(null,r,t,u,a);break e}}throw r=Le(t)||t,Error(s(306,r,""))}}return r;case 0:return hm(t,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=ma(u,r.pendingProps),Cv(t,r,u,h,a);case 3:e:{if(ut(r,r.stateNode.containerInfo),t===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;h=d.element,jd(t,r),Vl(r,u,null,a);var v=r.memoizedState;if(u=v.cache,es(r,Vt,u),u!==d.cache&&Md(r,[Vt],a,!0),Ml(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Iv(t,r,u,a);break e}else if(u!==h){h=Kn(Error(s(424)),r),Cl(h),r=Iv(t,r,u,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Jn(t.firstChild),Zt=r,Ge=!0,Jr=null,Xn=!0,a=A_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),u===h){r=hr(t,r,a);break e}tn(t,r,u,a)}r=r.child}return r;case 26:return ef(t,r),t===null?(a=qE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,t=r.pendingProps,u=_f(be.current).createElement(a),u[xt]=r,u[Kt]=t,nn(u,a,t),Ot(u),r.stateNode=u):r.memoizedState=qE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ae(r),t===null&&Ge&&(u=r.stateNode=zE(r.type,r.pendingProps,be.current),Zt=r,Xn=!0,h=ht,ds(r.type)?(Jm=h,ht=Jn(u.firstChild)):ht=h),tn(t,r,r.pendingProps.children,a),ef(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=u=ht)&&(u=y1(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,Zt=r,ht=Jn(u.firstChild),Xn=!1,h=!0):h=!1),h||Zr(r)),Ae(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,u=d.children,Km(h,d)?u=null:v!==null&&Km(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=$d(t,r,OR,null,null,a),eu._currentValue=h),ef(t,r),tn(t,r,u,a),r.child;case 6:return t===null&&Ge&&((t=a=ht)&&(a=_1(a,r.pendingProps,Xn),a!==null?(r.stateNode=a,Zt=r,ht=null,t=!0):t=!1),t||Zr(r)),null;case 13:return Nv(t,r,a);case 4:return ut(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ha(r,null,u,a):tn(t,r,u,a),r.child;case 11:return Ev(t,r,r.type,r.pendingProps,a);case 7:return tn(t,r,r.pendingProps,a),r.child;case 8:return tn(t,r,r.pendingProps.children,a),r.child;case 12:return tn(t,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,es(r,r.type,u.value),tn(t,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,la(r),h=en(h),u=u(h),r.flags|=1,tn(t,r,u,a),r.child;case 14:return Tv(t,r,r.type,r.pendingProps,a);case 15:return Sv(t,r,r.type,r.pendingProps,a);case 19:return xv(t,r,a);case 31:return zR(t,r,a);case 22:return Av(t,r,a,r.pendingProps);case 24:return la(r),u=en(Vt),t===null?(h=kd(),h===null&&(h=lt,d=Vd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:u,cache:h},Ud(r),es(r,Vt,h)):((t.lanes&a)!==0&&(jd(t,r),Vl(r,null,null,a),Ml()),h=t.memoizedState,d=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),es(r,Vt,u)):(u=d.cache,es(r,Vt,u),u!==h.cache&&Md(r,[Vt],a,!0))),tn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function dr(t){t.flags|=4}function Em(t,r,a,u,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(sE())t.flags|=8192;else throw fa=jc,Pd}else t.flags&=-16777217}function Mv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!QE(r))if(sE())t.flags|=8192;else throw fa=jc,Pd}function nf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?lc():536870912,t.lanes|=r,ho|=r)}function zl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function HR(t,r,a){var u=r.pendingProps;switch(Id(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ur(Vt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dd())),dt(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(dr(r),d!==null?(dt(r),Mv(r,d)):(dt(r),Em(r,h,null,u,a))):d?d!==t.memoizedState?(dr(r),dt(r),Mv(r,d)):(dt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&dr(r),dt(r),Em(r,h,t,u,a)),null;case 27:if(Qe(r),a=be.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&dr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return dt(r),null}t=le.current,Za(r)?h_(r):(t=zE(h,u,a),r.stateNode=t,dr(r))}return dt(r),null;case 5:if(Qe(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&dr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(d=le.current,Za(r))h_(r);else{var v=_f(be.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(h,{is:u.is}):v.createElement(h)}}d[xt]=r,d[Kt]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(nn(d,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&dr(r)}}return dt(r),Em(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&dr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,u=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||NE(t.nodeValue,a)),t||Zr(r,!0)}else t=_f(t).createTextNode(u),t[xt]=r,r.stateNode=t}return dt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(u=Za(r),a!==null){if(t===null){if(!u)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),t=!1}else a=Dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return dt(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Za(r),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else h=Dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==h&&(u.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),nf(r,r.updateQueue),dt(r),null);case 4:return Ze(),t===null&&Hm(r.stateNode.containerInfo),dt(r),null;case 10:return ur(r.type),dt(r),null;case 19:if(W(Rt),u=r.memoizedState,u===null)return dt(r),null;if(h=(r.flags&128)!==0,d=u.rendering,d===null)if(h)zl(u,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=qc(t),d!==null){for(r.flags|=128,zl(u,!1),t=d.updateQueue,r.updateQueue=t,nf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)o_(a,t),a=a.sibling;return ae(Rt,Rt.current&1|2),Ge&&or(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&mn()>lf&&(r.flags|=128,h=!0,zl(u,!1),r.lanes=4194304)}else{if(!h)if(t=qc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,nf(r,t),zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Ge)return dt(r),null}else 2*mn()-u.renderingStartTime>lf&&a!==536870912&&(r.flags|=128,h=!0,zl(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(t=u.last,t!==null?t.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mn(),t.sibling=null,a=Rt.current,ae(Rt,h?a&1|2:a&1),Ge&&or(r,u.treeForkCount),t):(dt(r),null);case 22:case 23:return kn(r),qd(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&nf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),t!==null&&W(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ur(Vt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qR(t,r){switch(Id(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ur(Vt),Ze(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Qe(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(kn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(Rt),null;case 4:return Ze(),null;case 10:return ur(r.type),null;case 22:case 23:return kn(r),qd(),t!==null&&W(ua),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ur(Vt),null;case 25:return null;default:return null}}function Vv(t,r){switch(Id(r),r.tag){case 3:ur(Vt),Ze();break;case 26:case 27:case 5:Qe(r);break;case 4:Ze();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:W(Rt);break;case 10:ur(r.type);break;case 22:case 23:kn(r),qd(),t!==null&&W(ua);break;case 24:ur(Vt)}}function Bl(t,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&t)===t){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==h)}}catch(A){it(r,r.return,A)}}function as(t,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var d=h.next;u=d;do{if((u.tag&t)===t){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=r;var x=a,F=A;try{F()}catch(X){it(h,x,X)}}}u=u.next}while(u!==d)}}catch(X){it(r,r.return,X)}}function Lv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{w_(r,a)}catch(u){it(t,t.return,u)}}}function kv(t,r,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){it(t,r,u)}}function Hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(h){it(t,r,h)}}function zi(t,r){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){it(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,r,h)}else a.current=null}function Pv(t){var r=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Tm(t,r,a){try{var u=t.stateNode;f1(u,t.type,a,r),u[Kt]=r}catch(h){it(t,t.return,h)}}function Uv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function Sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Am(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&ds(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Am(t,r,a),t=t.sibling;t!==null;)Am(t,r,a),t=t.sibling}function rf(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(u===27&&ds(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rf(t,r,a),t=t.sibling;t!==null;)rf(t,r,a),t=t.sibling}function jv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);nn(r,u,a),r[xt]=t,r[Kt]=a}catch(d){it(t,t.return,d)}}var mr=!1,Pt=!1,bm=!1,zv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function FR(t,r){if(t=t.containerInfo,Gm=wf,t=Jy(t),yd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,x=-1,F=0,X=0,ne=t,G=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(A=v+h),ne!==d||u!==0&&ne.nodeType!==3||(x=v+u),ne.nodeType===3&&(v+=ne.nodeValue.length),(K=ne.firstChild)!==null;)G=ne,ne=K;for(;;){if(ne===t)break t;if(G===a&&++F===h&&(A=v),G===d&&++X===u&&(x=v),(K=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=K}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:t,selectionRange:a},wf=!1,Yt=r;Yt!==null;)if(r=Yt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Yt=t;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var me=ma(a.type,h);t=u.getSnapshotBeforeUpdate(me,d),u.__reactInternalSnapshotBeforeUpdate=t}catch(Te){it(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Yt=t;break}Yt=r.return}}function Bv(t,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),u&4&&Bl(5,a);break;case 1:if(gr(t,a),u&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){it(a,a.return,v)}else{var h=ma(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(a,a.return,v)}}u&64&&Lv(a),u&512&&Hl(a,a.return);break;case 3:if(gr(t,a),u&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{w_(t,r)}catch(v){it(a,a.return,v)}}break;case 27:r===null&&u&4&&jv(a);case 26:case 5:gr(t,a),r===null&&u&4&&Pv(a),u&512&&Hl(a,a.return);break;case 12:gr(t,a);break;case 31:gr(t,a),u&4&&Fv(t,a);break;case 13:gr(t,a),u&4&&Gv(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZR.bind(null,a),v1(t,a))));break;case 22:if(u=a.memoizedState!==null||mr,!u){r=r!==null&&r.memoizedState!==null||Pt,h=mr;var d=Pt;mr=u,(Pt=r)&&!d?yr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),mr=h,Pt=d}break;case 30:break;default:gr(t,a)}}function Hv(t){var r=t.alternate;r!==null&&(t.alternate=null,Hv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ka(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,En=!1;function pr(t,r,a){for(a=a.child;a!==null;)qv(t,r,a),a=a.sibling}function qv(t,r,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:Pt||zi(a,r),pr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||zi(a,r);var u=gt,h=En;ds(a.type)&&(gt=a.stateNode,En=!1),pr(t,r,a),Wl(a.stateNode),gt=u,En=h;break;case 5:Pt||zi(a,r);case 6:if(u=gt,h=En,gt=null,pr(t,r,a),gt=u,En=h,gt!==null)if(En)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(d){it(a,r,d)}else try{gt.removeChild(a.stateNode)}catch(d){it(a,r,d)}break;case 18:gt!==null&&(En?(t=gt,LE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):LE(gt,a.stateNode));break;case 4:u=gt,h=En,gt=a.stateNode.containerInfo,En=!0,pr(t,r,a),gt=u,En=h;break;case 0:case 11:case 14:case 15:as(2,a,r),Pt||as(4,a,r),pr(t,r,a);break;case 1:Pt||(zi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&kv(a,r,u)),pr(t,r,a);break;case 21:pr(t,r,a);break;case 22:Pt=(u=Pt)||a.memoizedState!==null,pr(t,r,a),Pt=u;break;default:pr(t,r,a)}}function Fv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){it(r,r.return,a)}}}function Gv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){it(r,r.return,a)}}function GR(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new zv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new zv),r;default:throw Error(s(435,t.tag))}}function sf(t,r){var a=GR(t);r.forEach(function(u){if(!a.has(u)){a.add(u);var h=e1.bind(null,t,u);u.then(h,h)}})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],d=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(ds(A.type)){gt=A.stateNode,En=!1;break e}break;case 5:gt=A.stateNode,En=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(gt===null)throw Error(s(160));qv(d,v,h),gt=null,En=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)$v(r,t),r=r.sibling}var hi=null;function $v(t,r){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),Sn(t),u&4&&(as(3,t,t.return),Bl(3,t),as(5,t,t.return));break;case 1:Tn(r,t),Sn(t),u&512&&(Pt||a===null||zi(a,a.return)),u&64&&mr&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=hi;if(Tn(r,t),Sn(t),u&512&&(Pt||a===null||zi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ri]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(u),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,u,a),d[xt]=t,Ot(d),u=d;break e;case"link":var v=$E("link","href",h).get(u+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(u),nn(d,u,a),h.head.appendChild(d);break;case"meta":if(v=$E("meta","content",h).get(u+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(u),nn(d,u,a),h.head.appendChild(d);break;default:throw Error(s(468,u))}d[xt]=t,Ot(d),u=d}t.stateNode=u}else KE(h,t.type,t.stateNode);else t.stateNode=GE(h,u,t.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?KE(h,t.type,t.stateNode):GE(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,t),Sn(t),u&512&&(Pt||a===null||zi(a,a.return)),a!==null&&u&4&&Tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,t),Sn(t),u&512&&(Pt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(me){it(t,t.return,me)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,Tm(t,h,a!==null?a.memoizedProps:h)),u&1024&&(bm=!0);break;case 6:if(Tn(r,t),Sn(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(me){it(t,t.return,me)}}break;case 3:if(Tf=null,h=hi,hi=vf(r.containerInfo),Tn(r,t),hi=h,Sn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(me){it(t,t.return,me)}bm&&(bm=!1,Kv(t));break;case 4:u=hi,hi=vf(t.stateNode.containerInfo),Tn(r,t),Sn(t),hi=u;break;case 12:Tn(r,t),Sn(t);break;case 31:Tn(r,t),Sn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sf(t,u)));break;case 13:Tn(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(of=mn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sf(t,u)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=mr,X=Pt;if(mr=F||h,Pt=X||x,Tn(r,t),Pt=X,mr=F,Sn(t),u&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||x||mr||Pt||pa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=x.stateNode;var ne=x.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){it(x,x.return,me)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(me){it(x,x.return,me)}}}else if(r.tag===18){if(a===null){x=r;try{var K=x.stateNode;h?kE(K,!0):kE(x.stateNode,!1)}catch(me){it(x,x.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,sf(t,a))));break;case 19:Tn(r,t),Sn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sf(t,u)));break;case 30:break;case 21:break;default:Tn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var a,u=t.return;u!==null;){if(Uv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sm(t);rf(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var A=Sm(t);rf(t,A,v);break;case 3:case 4:var x=a.stateNode.containerInfo,F=Sm(t);Am(t,F,x);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Kv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function gr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Bv(t,r.alternate,r),r=r.sibling}function pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),pa(r);break;case 1:zi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&kv(r,r.return,a),pa(r);break;case 27:Wl(r.stateNode);case 26:case 5:zi(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}t=t.sibling}}function yr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),Bl(4,d);break;case 1:if(yr(h,d,a),u=d,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){it(u,u.return,F)}if(u=d,h=u.updateQueue,h!==null){var A=u.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)b_(x[h],A)}catch(F){it(u,u.return,F)}}a&&v&64&&Lv(d),Hl(d,d.return);break;case 27:jv(d);case 26:case 5:yr(h,d,a),a&&u===null&&v&4&&Pv(d),Hl(d,d.return);break;case 12:yr(h,d,a);break;case 31:yr(h,d,a),a&&v&4&&Fv(h,d);break;case 13:yr(h,d,a),a&&v&4&&Gv(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),Hl(d,d.return);break;case 30:break;default:yr(h,d,a)}r=r.sibling}}function wm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Il(a))}function Rm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Il(t))}function di(t,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qv(t,r,a,u),r=r.sibling}function Qv(t,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:di(t,r,a,u),h&2048&&Bl(9,r);break;case 1:di(t,r,a,u);break;case 3:di(t,r,a,u),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Il(t)));break;case 12:if(h&2048){di(t,r,a,u),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){it(r,r.return,x)}}else di(t,r,a,u);break;case 31:di(t,r,a,u);break;case 13:di(t,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?di(t,r,a,u):ql(t,r):d._visibility&2?di(t,r,a,u):(d._visibility|=2,uo(t,r,a,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&wm(v,r);break;case 24:di(t,r,a,u),h&2048&&Rm(r.alternate,r);break;default:di(t,r,a,u)}}function uo(t,r,a,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,A=a,x=u,F=v.flags;switch(v.tag){case 0:case 11:case 15:uo(d,v,A,x,h),Bl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?uo(d,v,A,x,h):ql(d,v):(X._visibility|=2,uo(d,v,A,x,h)),h&&F&2048&&wm(v.alternate,v);break;case 24:uo(d,v,A,x,h),h&&F&2048&&Rm(v.alternate,v);break;default:uo(d,v,A,x,h)}r=r.sibling}}function ql(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,u=r,h=u.flags;switch(u.tag){case 22:ql(a,u),h&2048&&wm(u.alternate,u);break;case 24:ql(a,u),h&2048&&Rm(u.alternate,u);break;default:ql(a,u)}r=r.sibling}}var Fl=8192;function co(t,r,a){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)Yv(t,r,a),t=t.sibling}function Yv(t,r,a){switch(t.tag){case 26:co(t,r,a),t.flags&Fl&&t.memoizedState!==null&&x1(a,hi,t.memoizedState,t.memoizedProps);break;case 5:co(t,r,a);break;case 3:case 4:var u=hi;hi=vf(t.stateNode.containerInfo),co(t,r,a),hi=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Fl,Fl=16777216,co(t,r,a),Fl=u):co(t,r,a));break;default:co(t,r,a)}}function Xv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,Jv(u,t)}Xv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wv(t),t=t.sibling}function Wv(t){switch(t.tag){case 0:case 11:case 15:Gl(t),t.flags&2048&&as(9,t,t.return);break;case 3:Gl(t);break;case 12:Gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,af(t)):Gl(t);break;default:Gl(t)}}function af(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Yt=u,Jv(u,t)}Xv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:as(8,r,r.return),af(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,af(r));break;default:af(r)}t=t.sibling}}function Jv(t,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:as(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Yt=u;else e:for(a=t;Yt!==null;){u=Yt;var h=u.sibling,d=u.return;if(Hv(u),u===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var $R={getCacheForType:function(t){var r=en(Vt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return en(Vt).controller.signal}},KR=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,ke=null,Ue=0,nt=0,Pn=null,os=!1,fo=!1,Cm=!1,_r=0,St=0,ls=0,ga=0,Im=0,Un=0,ho=0,$l=null,An=null,Nm=!1,of=0,Zv=0,lf=1/0,uf=null,us=null,Ft=0,cs=null,mo=null,vr=0,Dm=0,xm=null,eE=null,Kl=0,Om=null;function jn(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:Q.T!==null?Um():uc()}function tE(){if(Un===0)if((Ue&536870912)===0||Ge){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Un=t}else Un=536870912;return t=Ln.current,t!==null&&(t.flags|=32),Un}function bn(t,r,a){(t===lt&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(po(t,0),fs(t,Ue,Un,!1)),Fs(t,a),((Je&2)===0||t!==lt)&&(t===lt&&((Je&2)===0&&(ga|=a),St===4&&fs(t,Ue,Un,!1)),Bi(t))}function nE(t,r,a){if((Je&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ii(t,r),h=u?XR(t,r):Vm(t,r,!0),d=u;do{if(h===0){fo&&!u&&fs(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!QR(a)){h=Vm(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var A=t;h=$l;var x=A.current.memoizedState.isDehydrated;if(x&&(po(A,v).flags|=256),v=Vm(A,v,!1),v!==2){if(Cm&&!x){A.errorRecoveryDisabledLanes|=d,ga|=d,h=4;break e}d=An,An=h,d!==null&&(An===null?An=d:An.push.apply(An,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){po(t,0),fs(t,r,0,!0);break}e:{switch(u=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fs(u,r,Un,!os);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=of+300-mn(),10<h)){if(fs(u,r,Un,!os),Ai(u,0,!0)!==0)break e;vr=r,u.timeoutHandle=ME(iE.bind(null,u,a,An,uf,Nm,r,Un,ga,ho,os,d,"Throttled",-0,0),h);break e}iE(u,a,An,uf,Nm,r,Un,ga,ho,os,d,null,-0,0)}}break}while(!0);Bi(t)}function iE(t,r,a,u,h,d,v,A,x,F,X,ne,G,K){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Yv(r,d,ne);var me=(d&62914560)===d?of-mn():(d&4194048)===d?Zv-mn():0;if(me=O1(ne,me),me!==null){vr=d,t.cancelPendingCommit=me(fE.bind(null,t,r,d,a,u,h,v,A,x,X,ne,null,G,K)),fs(t,d,v,!F);return}}fE(t,r,d,a,u,h,v,A,x)}function QR(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fs(t,r,a,u){r&=~Im,r&=~ga,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var h=r;0<h;){var d=31-bt(h),v=1<<d;u[d]=-1,h&=~v}a!==0&&Gs(t,a,r)}function cf(){return(Je&6)===0?(Ql(0),!1):!0}function Mm(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,lr=oa=null,Yd(t),ro=null,Dl=0,t=ke;for(;t!==null;)Vv(t.alternate,t),t=t.return;ke=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,m1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vr=0,Mm(),lt=t,ke=a=ar(t.current,null),Ue=r,nt=0,Pn=null,os=!1,fo=ii(t,r),Cm=!1,ho=Un=Im=ga=ls=St=0,An=$l=null,Nm=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var h=31-bt(u),d=1<<h;r|=t[h],u&=~d}return _r=r,Dc(),a}function rE(t,r){Oe=null,Q.H=Ul,r===io||r===Uc?(r=E_(),nt=3):r===Pd?(r=E_(),nt=4):nt=r===fm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,ke===null&&(St=1,Jc(t,Kn(r,t.current)))}function sE(){var t=Ln.current;return t===null?!0:(Ue&4194048)===Ue?Wn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Wn:!1}function aE(){var t=Q.H;return Q.H=Ul,t===null?Ul:t}function oE(){var t=Q.A;return Q.A=$R,t}function ff(){St=4,os||(Ue&4194048)!==Ue&&Ln.current!==null||(fo=!0),(ls&134217727)===0&&(ga&134217727)===0||lt===null||fs(lt,Ue,Un,!1)}function Vm(t,r,a){var u=Je;Je|=2;var h=aE(),d=oE();(lt!==t||Ue!==r)&&(uf=null,po(t,r)),r=!1;var v=St;e:do try{if(nt!==0&&ke!==null){var A=ke,x=Pn;switch(nt){case 8:Mm(),v=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var F=nt;if(nt=0,Pn=null,go(t,A,x,F),a&&fo){v=0;break e}break;default:F=nt,nt=0,Pn=null,go(t,A,x,F)}}YR(),v=St;break}catch(X){rE(t,X)}while(!0);return r&&t.shellSuspendCounter++,lr=oa=null,Je=u,Q.H=h,Q.A=d,ke===null&&(lt=null,Ue=0,Dc()),v}function YR(){for(;ke!==null;)lE(ke)}function XR(t,r){var a=Je;Je|=2;var u=aE(),h=oE();lt!==t||Ue!==r?(uf=null,lf=mn()+500,po(t,r)):fo=ii(t,r);e:do try{if(nt!==0&&ke!==null){r=ke;var d=Pn;t:switch(nt){case 1:nt=0,Pn=null,go(t,r,d,1);break;case 2:case 9:if(__(d)){nt=0,Pn=null,uE(r);break}r=function(){nt!==2&&nt!==9||lt!==t||(nt=7),Bi(t)},d.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:__(d)?(nt=0,Pn=null,uE(r)):(nt=0,Pn=null,go(t,r,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var A=ke;if(v?QE(v):A.stateNode.complete){nt=0,Pn=null;var x=A.sibling;if(x!==null)ke=x;else{var F=A.return;F!==null?(ke=F,hf(F)):ke=null}break t}}nt=0,Pn=null,go(t,r,d,5);break;case 6:nt=0,Pn=null,go(t,r,d,6);break;case 8:Mm(),St=6;break e;default:throw Error(s(462))}}WR();break}catch(X){rE(t,X)}while(!0);return lr=oa=null,Q.H=u,Q.A=h,Je=a,ke!==null?0:(lt=null,Ue=0,Dc(),St)}function WR(){for(;ke!==null&&!cd();)lE(ke)}function lE(t){var r=Ov(t.alternate,t,_r);t.memoizedProps=t.pendingProps,r===null?hf(t):ke=r}function uE(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Rv(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Rv(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Yd(r);default:Vv(a,r),r=ke=o_(r,_r),r=Ov(a,r,_r)}t.memoizedProps=t.pendingProps,r===null?hf(t):ke=r}function go(t,r,a,u){lr=oa=null,Yd(r),ro=null,Dl=0;var h=r.return;try{if(jR(t,h,r,a,Ue)){St=1,Jc(t,Kn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;St=1,Jc(t,Kn(a,t.current)),ke=null;return}r.flags&32768?(Ge||u===1?t=!0:fo||(Ue&536870912)!==0?t=!1:(os=t=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),cE(r,t)):hf(r)}function hf(t){var r=t;do{if((r.flags&32768)!==0){cE(r,os);return}t=r.return;var a=HR(r.alternate,r,_r);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);St===0&&(St=5)}function cE(t,r){do{var a=qR(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);St=6,ke=null}function fE(t,r,a,u,h,d,v,A,x){t.cancelPendingCommit=null;do df();while(Ft!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Sd,dd(t,a,d,v,A,x),t===lt&&(ke=lt=null,Ue=0),mo=r,cs=t,vr=a,Dm=d,xm=h,eE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(Br,function(){return gE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,h=se.p,se.p=2,v=Je,Je|=4;try{FR(t,r,a)}finally{Je=v,se.p=h,Q.T=u}}Ft=1,hE(),dE(),mE()}}function hE(){if(Ft===1){Ft=0;var t=cs,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var u=se.p;se.p=2;var h=Je;Je|=4;try{$v(r,t);var d=$m,v=Jy(t.containerInfo),A=d.focusedElem,x=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Wy(A.ownerDocument.documentElement,A)){if(x!==null&&yd(A)){var F=x.start,X=x.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var ne=A.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var K=G.getSelection(),me=A.textContent.length,Te=Math.min(x.start,me),ot=x.end===void 0?Te:Math.min(x.end,me);!K.extend&&Te>ot&&(v=ot,ot=Te,Te=v);var z=Xy(A,Te),k=Xy(A,ot);if(z&&k&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var q=ne.createRange();q.setStart(z.node,z.offset),K.removeAllRanges(),Te>ot?(K.addRange(q),K.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),K.addRange(q))}}}}for(ne=[],K=A;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var J=ne[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}wf=!!Gm,$m=Gm=null}finally{Je=h,se.p=u,Q.T=a}}t.current=r,Ft=2}}function dE(){if(Ft===2){Ft=0;var t=cs,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var u=se.p;se.p=2;var h=Je;Je|=4;try{Bv(t,r.alternate,r)}finally{Je=h,se.p=u,Q.T=a}}Ft=3}}function mE(){if(Ft===4||Ft===3){Ft=0,nc();var t=cs,r=mo,a=vr,u=eE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,mo=cs=null,pE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(us=null),nr(a),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<u.length;v++){var A=u[v];d(A.value,{componentStack:A.stack})}}finally{Q.T=r,se.p=h}}(vr&3)!==0&&df(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Om?Kl++:(Kl=0,Om=t):Kl=0,Ql(0)}}function pE(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Il(r)))}function df(){return hE(),dE(),mE(),gE()}function gE(){if(Ft!==5)return!1;var t=cs,r=Dm;Dm=0;var a=nr(vr),u=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=xm,xm=null;var d=cs,v=vr;if(Ft=0,mo=cs=null,vr=0,(Je&6)!==0)throw Error(s(331));var A=Je;if(Je|=4,Wv(d.current),Qv(d,d.current,v,a),Je=A,Ql(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ni,d)}catch{}return!0}finally{se.p=h,Q.T=u,pE(t,r)}}function yE(t,r,a){r=Kn(a,r),r=cm(t.stateNode,r,2),t=is(t,r,2),t!==null&&(Fs(t,2),Bi(t))}function it(t,r,a){if(t.tag===3)yE(t,t,a);else for(;r!==null;){if(r.tag===3){yE(r,t,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(us===null||!us.has(u))){t=Kn(a,t),a=_v(2),u=is(r,a,2),u!==null&&(vv(a,u,r,t),Fs(u,2),Bi(u));break}}r=r.return}}function Lm(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new KR;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Cm=!0,h.add(a),t=JR.bind(null,t,r,a),r.then(t,t))}function JR(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Ue&a)===a&&(St===4||St===3&&(Ue&62914560)===Ue&&300>mn()-of?(Je&2)===0&&po(t,0):Im|=a,ho===Ue&&(ho=0)),Bi(t)}function _E(t,r){r===0&&(r=lc()),t=ra(t,r),t!==null&&(Fs(t,r),Bi(t))}function ZR(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),_E(t,a)}function e1(t,r){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),_E(t,a)}function t1(t,r){return qt(t,r)}var mf=null,yo=null,km=!1,pf=!1,Pm=!1,hs=0;function Bi(t){t!==yo&&t.next===null&&(yo===null?mf=yo=t:yo=yo.next=t),pf=!0,km||(km=!0,i1())}function Ql(t,r){if(!Pm&&pf){Pm=!0;do for(var a=!1,u=mf;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var d=0;else{var v=u.suspendedLanes,A=u.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,SE(u,d))}else d=Ue,d=Ai(u,u===lt?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||ii(u,d)||(a=!0,SE(u,d));u=u.next}while(a);Pm=!1}}function n1(){vE()}function vE(){pf=km=!1;var t=0;hs!==0&&d1()&&(t=hs);for(var r=mn(),a=null,u=mf;u!==null;){var h=u.next,d=EE(u,r);d===0?(u.next=null,a===null?mf=h:a.next=h,h===null&&(yo=a)):(a=u,(t!==0||(d&3)!==0)&&(pf=!0)),u=h}Ft!==0&&Ft!==5||Ql(t),hs!==0&&(hs=0)}function EE(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-bt(d),A=1<<v,x=h[v];x===-1?((A&a)===0||(A&u)!==0)&&(h[v]=hd(A,r)):x<=r&&(t.expiredLanes|=A),d&=~A}if(r=lt,a=Ue,a=Ai(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===r&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&zr(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(u!==null&&zr(u),nr(a)){case 2:case 8:a=rl;break;case 32:a=Br;break;case 268435456:a=ic;break;default:a=Br}return u=TE.bind(null,t),a=qt(a,u),t.callbackPriority=r,t.callbackNode=a,r}return u!==null&&u!==null&&zr(u),t.callbackPriority=2,t.callbackNode=null,2}function TE(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(df()&&t.callbackNode!==a)return null;var u=Ue;return u=Ai(t,t===lt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(nE(t,u,r),EE(t,mn()),t.callbackNode!=null&&t.callbackNode===a?TE.bind(null,t):null)}function SE(t,r){if(df())return null;nE(t,r,!0)}function i1(){p1(function(){(Je&6)!==0?qt(il,n1):vE()})}function Um(){if(hs===0){var t=to;t===0&&(t=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),hs=t}return hs}function AE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function bE(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function r1(t,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var d=AE((h[Kt]||null).action),v=u.submitter;v&&(r=(r=v[Kt]||null)?AE(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var A=new Vi("action","action",null,u,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hs!==0){var x=v?bE(h,v):new FormData(h);rm(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=v?bE(h,v):new FormData(h),rm(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var jm=0;jm<Td.length;jm++){var zm=Td[jm],s1=zm.toLowerCase(),a1=zm[0].toUpperCase()+zm.slice(1);fi(s1,"on"+a1)}fi(t_,"onAnimationEnd"),fi(n_,"onAnimationIteration"),fi(i_,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(SR,"onTransitionRun"),fi(AR,"onTransitionStart"),fi(bR,"onTransitionCancel"),fi(r_,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function wE(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],h=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var A=u[v],x=A.instance,F=A.currentTarget;if(A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(X){Nc(X)}h.currentTarget=null,d=x}else for(v=0;v<u.length;v++){if(A=u[v],x=A.instance,F=A.currentTarget,A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(X){Nc(X)}h.currentTarget=null,d=x}}}}function Pe(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var u=t+"__bubble";a.has(u)||(RE(r,t,2,!1),a.add(u))}function Bm(t,r,a){var u=0;r&&(u|=4),RE(a,t,u,r)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[gf]){t[gf]=!0,ol.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||Bm(a,!1,t),Bm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gf]||(r[gf]=!0,Bm("selectionchange",!1,r))}}function RE(t,r,a,u){switch(tT(r)){case 2:var h=L1;break;case 8:h=k1;break;default:h=ip}a=h.bind(null,r,a,t),h=void 0,!Xs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function qm(t,r,a,u,h){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=u.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Ci(A),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){u=d=v;continue e}A=A.parentNode}}u=u.return}Kr(function(){var F=d,X=qn(a),ne=[];e:{var G=s_.get(t);if(G!==void 0){var K=Vi,me=t;switch(t){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":K=Rc;break;case"focusin":me="focus",K=ea;break;case"focusout":me="blur",K=ea;break;case"beforeblur":case"afterblur":K=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case t_:case n_:case i_:K=vc;break;case r_:K=R;break;case"scroll":case"scrollend":K=vl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=Ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=sr;break;case"toggle":case"beforetoggle":K=xe}var Te=(r&4)!==0,ot=!Te&&(t==="scroll"||t==="scrollend"),z=Te?G!==null?G+"Capture":null:G;Te=[];for(var k=F,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=oi(k,z),J!=null&&Te.push(Xl(k,J,q))),ot)break;k=k.return}0<Te.length&&(G=new K(G,me,null,a,X),ne.push({event:G,listeners:Te}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==gl&&(me=a.relatedTarget||a.fromElement)&&(Ci(me)||me[wi]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=F,me=me?Ci(me):null,me!==null&&(ot=l(me),Te=me.tag,me!==ot||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(K=null,me=F),K!==me)){if(Te=El,J="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Te=sr,J="onPointerLeave",z="onPointerEnter",k="pointer"),ot=K==null?G:xn(K),q=me==null?G:xn(me),G=new Te(J,k+"leave",K,a,X),G.target=ot,G.relatedTarget=q,J=null,Ci(X)===F&&(Te=new Te(z,k+"enter",me,a,X),Te.target=q,Te.relatedTarget=ot,J=Te),ot=J,K&&me)t:{for(Te=l1,z=K,k=me,q=0,J=z;J;J=Te(J))q++;J=0;for(var _e=k;_e;_e=Te(_e))J++;for(;0<q-J;)z=Te(z),q--;for(;0<J-q;)k=Te(k),J--;for(;q--;){if(z===k||k!==null&&z===k.alternate){Te=z;break t}z=Te(z),k=Te(k)}Te=null}else Te=null;K!==null&&CE(ne,G,K,Te,!1),me!==null&&ot!==null&&CE(ne,ot,me,Te,!0)}}e:{if(G=F?xn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ye=Fy;else if(Hy(G))if(Gy)Ye=vR;else{Ye=yR;var pe=gR}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ja(F.elementType)&&(Ye=Fy):Ye=_R;if(Ye&&(Ye=Ye(t,F))){qy(ne,Ye,a,X);break e}pe&&pe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&dl(G,"number",G.value)}switch(pe=F?xn(F):window,t){case"focusin":(Hy(pe)||pe.contentEditable==="true")&&(Ka=pe,_d=F,wl=null);break;case"focusout":wl=_d=Ka=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Zy(ne,a,X);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Zy(ne,a,X)}var Me;if(We)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else $a?ta(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pi&&a.locale!=="ko"&&($a||je!=="onCompositionStart"?je==="onCompositionEnd"&&$a&&(Me=_l()):(Mi=X,yl="value"in Mi?Mi.value:Mi.textContent,$a=!0)),pe=yf(F,je),0<pe.length&&(je=new ki(je,t,null,a,X),ne.push({event:je,listeners:pe}),Me?je.data=Me:(Me=Ga(a),Me!==null&&(je.data=Me)))),(Me=Gn?hR(t,a):dR(t,a))&&(je=yf(F,"onBeforeInput"),0<je.length&&(pe=new ki("onBeforeInput","beforeinput",null,a,X),ne.push({event:pe,listeners:je}),pe.data=Me)),r1(ne,t,F,a,X)}wE(ne,r)})}function Xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yf(t,r){for(var a=r+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=oi(t,a),h!=null&&u.unshift(Xl(t,h,d)),h=oi(t,r),h!=null&&u.push(Xl(t,h,d))),t.tag===3)return u;t=t.return}return[]}function l1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function CE(t,r,a,u,h){for(var d=r._reactName,v=[];a!==null&&a!==u;){var A=a,x=A.alternate,F=A.stateNode;if(A=A.tag,x!==null&&x===u)break;A!==5&&A!==26&&A!==27||F===null||(x=F,h?(F=oi(a,d),F!=null&&v.unshift(Xl(a,F,x))):h||(F=oi(a,d),F!=null&&v.push(Xl(a,F,x)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function IE(t){return(typeof t=="string"?t:""+t).replace(u1,`
`).replace(c1,"")}function NE(t,r){return r=IE(r),IE(t)===r}function at(t,r,a,u,h,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(t,""+u);break;case"className":On(t,"class",u);break;case"tabIndex":On(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,a,u);break;case"style":pl(t,u,d);break;case"data":if(r!=="object"){On(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=za(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(t,r,"name",h.name,h,null),at(t,r,"formEncType",h.formEncType,h,null),at(t,r,"formMethod",h.formMethod,h,null),at(t,r,"formTarget",h.formTarget,h,null)):(at(t,r,"encType",h.encType,h,null),at(t,r,"method",h.method,h,null),at(t,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=za(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=ai);break;case"onScroll":u!=null&&Pe("scroll",t);break;case"onScrollEnd":u!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Pa(t,"popover",u);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gc.get(a)||a,Pa(t,a,u))}}function Fm(t,r,a,u,h,d){switch(a){case"style":pl(t,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof u=="string"?vn(t,u):(typeof u=="number"||typeof u=="bigint")&&vn(t,""+u);break;case"onScroll":u!=null&&Pe("scroll",t);break;case"onScrollEnd":u!=null&&Pe("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof u=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,u,h);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):Pa(t,a,u)}}}function nn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var u=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,d,v,a,null)}}h&&at(t,r,"srcSet",a.srcSet,a,null),u&&at(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var A=d=v=h=null,x=null,F=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":h=X;break;case"type":v=X;break;case"checked":x=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:at(t,r,u,X,a,null)}}dc(t,d,A,x,F,v,h,!1);return;case"select":Pe("invalid",t),u=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:at(t,r,h,A,a,null)}r=d,a=v,t.multiple=!!u,r!=null?qr(t,!!u,r,!1):a!=null&&qr(t,!!u,a,!0);return;case"textarea":Pe("invalid",t),d=h=u=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:at(t,r,v,A,a,null)}Fr(t,u,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(u=a[x],u!=null))switch(x){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(t,r,x,u,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(u=0;u<Yl.length;u++)Pe(Yl[u],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(u=a[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,F,u,a,null)}return;default:if(ja(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&Fm(t,r,X,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&at(t,r,A,u,a,null))}function f1(t,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,x=null,F=null,X=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=ne;default:u.hasOwnProperty(K)||at(t,r,K,null,u,ne)}}for(var G in u){var K=u[G];if(ne=a[G],u.hasOwnProperty(G)&&(K!=null||ne!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ne&&at(t,r,G,K,u,ne)}}Ua(t,v,A,x,F,X,d,h);return;case"select":K=v=A=G=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:u.hasOwnProperty(d)||at(t,r,d,null,u,x)}for(h in u)if(d=u[h],x=a[h],u.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==x&&at(t,r,h,d,u,x)}r=A,a=v,u=K,G!=null?qr(t,!!a,G,!1):!!u!=!!a&&(r!=null?qr(t,!!a,r,!0):qr(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(t,r,A,null,u,h)}for(v in u)if(h=u[v],d=a[v],u.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,r,v,h,u,d)}mc(t,G,K);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!u.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:at(t,r,me,null,u,G)}for(x in u)if(G=u[x],K=a[x],u.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:at(t,r,x,G,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!u.hasOwnProperty(Te)&&at(t,r,Te,null,u,G);for(F in u)if(G=u[F],K=a[F],u.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:at(t,r,F,G,u,K)}return;default:if(ja(r)){for(var ot in a)G=a[ot],a.hasOwnProperty(ot)&&G!==void 0&&!u.hasOwnProperty(ot)&&Fm(t,r,ot,void 0,u,G);for(X in u)G=u[X],K=a[X],!u.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Fm(t,r,X,G,u,K);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&at(t,r,z,null,u,G);for(ne in u)G=u[ne],K=a[ne],!u.hasOwnProperty(ne)||G===K||G==null&&K==null||at(t,r,ne,G,u,K)}function DE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],d=h.transferSize,v=h.initiatorType,A=h.duration;if(d&&A&&DE(v)){for(v=0,A=h.responseEnd,u+=1;u<a.length;u++){var x=a[u],F=x.startTime;if(F>A)break;var X=x.transferSize,ne=x.initiatorType;X&&DE(ne)&&(x=x.responseEnd,v+=X*(x<A?1:(A-F)/(x-F)))}if(--u,r+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gm=null,$m=null;function _f(t){return t.nodeType===9?t:t.ownerDocument}function xE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Km(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qm=null;function d1(){var t=window.event;return t&&t.type==="popstate"?t===Qm?!1:(Qm=t,!0):(Qm=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,VE=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof VE<"u"?function(t){return VE.resolve(null).then(t).catch(g1)}:ME;function g1(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function LE(t,r){var a=r,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(h),To(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[Ri]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Wl(t.ownerDocument.body);a=h}while(a);To(r)}function kE(t,r){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function Ym(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ym(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function y1(t,r,a,u){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ri])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function _1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function PE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jn(t.nextSibling),t===null))return null;return t}function Xm(t){return t.data==="$?"||t.data==="$~"}function Wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function v1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Jm=null;function UE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Jn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function jE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function zE(t,r,a){switch(r=_f(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ka(t)}var Zn=new Map,BE=new Set;function vf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Er=se.d;se.d={f:E1,r:T1,D:S1,C:A1,L:b1,m:w1,X:C1,S:R1,M:I1};function E1(){var t=Er.f(),r=cf();return t||r}function T1(t){var r=Hn(t);r!==null&&r.tag===5&&r.type==="form"?rv(r):Er.r(t)}var _o=typeof document>"u"?null:document;function HE(t,r,a){var u=_o;if(u&&typeof r=="string"&&r){var h=_n(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),BE.has(h)||(BE.add(h),t={rel:t,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),nn(r,"link",t),Ot(r),u.head.appendChild(r)))}}function S1(t){Er.D(t),HE("dns-prefetch",t,null)}function A1(t,r){Er.C(t,r),HE("preconnect",t,r)}function b1(t,r,a){Er.L(t,r,a);var u=_o;if(u&&t&&r){var h='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var d=h;switch(r){case"style":d=vo(t);break;case"script":d=Eo(t)}Zn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Zn.set(d,t),u.querySelector(h)!==null||r==="style"&&u.querySelector(Jl(d))||r==="script"&&u.querySelector(Zl(d))||(r=u.createElement("link"),nn(r,"link",t),Ot(r),u.head.appendChild(r)))}}function w1(t,r){Er.m(t,r);var a=_o;if(a&&t){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(t)+'"]',d=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!Zn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Zn.set(d,t),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}u=a.createElement("link"),nn(u,"link",t),Ot(u),a.head.appendChild(u)}}}function R1(t,r,a){Er.S(t,r,a);var u=_o;if(u&&t){var h=Ii(u).hoistableStyles,d=vo(t);r=r||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(Jl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Zn.get(d))&&Zm(t,a);var x=v=u.createElement("link");Ot(x),nn(x,"link",t),x._p=new Promise(function(F,X){x.onload=F,x.onerror=X}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ef(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function C1(t,r){Er.X(t,r);var a=_o;if(a&&t){var u=Ii(a).hoistableScripts,h=Eo(t),d=u.get(h);d||(d=a.querySelector(Zl(h)),d||(t=T({src:t,async:!0},r),(r=Zn.get(h))&&ep(t,r),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function I1(t,r){Er.M(t,r);var a=_o;if(a&&t){var u=Ii(a).hoistableScripts,h=Eo(t),d=u.get(h);d||(d=a.querySelector(Zl(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Zn.get(h))&&ep(t,r),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function qE(t,r,a,u){var h=(h=be.current)?vf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Ii(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=Ii(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),d||N1(h,t,a,v.state))),r&&u===null)throw Error(s(528,""));return v}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Ii(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+_n(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function FE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function N1(t,r,a,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),nn(r,"link",a),Ot(r),t.head.appendChild(r))}function Eo(t){return'[src="'+_n(t)+'"]'}function Zl(t){return"script[async]"+t}function GE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(u)return r.instance=u,Ot(u),u;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ot(u),nn(u,"style",h),Ef(u,a.precedence,t),r.instance=u;case"stylesheet":h=vo(a.href);var d=t.querySelector(Jl(h));if(d)return r.state.loading|=4,r.instance=d,Ot(d),d;u=FE(a),(h=Zn.get(h))&&Zm(u,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),nn(d,"link",u),r.state.loading|=4,Ef(d,a.precedence,t),r.instance=d;case"script":return d=Eo(a.src),(h=t.querySelector(Zl(d)))?(r.instance=h,Ot(h),h):(u=a,(h=Zn.get(d))&&(u=T({},a),ep(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),nn(h,"link",u),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ef(u,a.precedence,t));return r.instance}function Ef(t,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,d=h,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===r)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Zm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function ep(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Tf=null;function $E(t,r,a){if(Tf===null){var u=new Map,h=Tf=new Map;h.set(a,u)}else h=Tf,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ri]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var A=u.get(v);A?A.push(d):u.set(v,[d])}}return u}function KE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function D1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function QE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function x1(t,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=vo(u.href),d=r.querySelector(Jl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Sf.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=r.ownerDocument||r,u=FE(u),(h=Zn.get(h))&&Zm(u,h),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),nn(d,"link",u),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Sf.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var tp=0;function O1(t,r){return t.stylesheets&&t.count===0&&bf(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&tp===0&&(tp=62500*h1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>tp?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Af=null;function bf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Af=new Map,r.forEach(M1,t),Af=null,Sf.call(t))}function M1(t,r){if(!(r.state.loading&4)){var a=Af.get(t);if(a)var u=a.get(null);else{a=new Map,Af.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,h),a.set(v,h),this.count++,u=Sf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var eu={$$typeof:te,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function V1(t,r,a,u,h,d,v,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function YE(t,r,a,u,h,d,v,A,x,F,X,ne){return t=new V1(t,r,a,v,x,F,X,ne,A),r=1,d===!0&&(r|=24),d=Vn(3,null,null,r),t.current=d,d.stateNode=t,r=Vd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Ud(d),t}function XE(t){return t?(t=Xa,t):Xa}function WE(t,r,a,u,h,d){h=XE(h),u.context===null?u.context=h:u.pendingContext=h,u=ns(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=is(t,u,r),a!==null&&(bn(a,t,r),Ol(a,t,r))}function JE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function np(t,r){JE(t,r),(t=t.alternate)&&JE(t,r)}function ZE(t){if(t.tag===13||t.tag===31){var r=ra(t,67108864);r!==null&&bn(r,t,67108864),np(t,67108864)}}function eT(t){if(t.tag===13||t.tag===31){var r=jn();r=$s(r);var a=ra(t,r);a!==null&&bn(a,t,r),np(t,r)}}var wf=!0;function L1(t,r,a,u){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,ip(t,r,a,u)}finally{se.p=d,Q.T=h}}function k1(t,r,a,u){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,ip(t,r,a,u)}finally{se.p=d,Q.T=h}}function ip(t,r,a,u){if(wf){var h=rp(u);if(h===null)qm(t,r,u,Rf,a),nT(t,u);else if(U1(h,t,r,a,u))u.stopPropagation();else if(nT(t,u),r&4&&-1<P1.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Si(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var x=1<<31-bt(v);A.entanglements[1]|=x,v&=~x}Bi(d),(Je&6)===0&&(lf=mn()+500,Ql(0))}}break;case 31:case 13:A=ra(d,2),A!==null&&bn(A,d,2),cf(),np(d,2)}if(d=rp(u),d===null&&qm(t,r,u,Rf,a),d===h)break;h=d}h!==null&&u.stopPropagation()}else qm(t,r,u,null,a)}}function rp(t){return t=qn(t),sp(t)}var Rf=null;function sp(t){if(Rf=null,t=Ci(t),t!==null){var r=l(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rf=t,null}function tT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case il:return 2;case rl:return 8;case Br:case fd:return 32;case ic:return 268435456;default:return 32}default:return 32}}var ap=!1,ms=null,ps=null,gs=null,tu=new Map,nu=new Map,ys=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nT(t,r){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":tu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(r.pointerId)}}function iu(t,r,a,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Hn(r),r!==null&&ZE(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function U1(t,r,a,u,h){switch(r){case"focusin":return ms=iu(ms,t,r,a,u,h),!0;case"dragenter":return ps=iu(ps,t,r,a,u,h),!0;case"mouseover":return gs=iu(gs,t,r,a,u,h),!0;case"pointerover":var d=h.pointerId;return tu.set(d,iu(tu.get(d)||null,t,r,a,u,h)),!0;case"gotpointercapture":return d=h.pointerId,nu.set(d,iu(nu.get(d)||null,t,r,a,u,h)),!0}return!1}function iT(t){var r=Ci(t.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,ri(t.priority,function(){eT(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ri(t.priority,function(){eT(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cf(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=rp(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);gl=u,a.target.dispatchEvent(u),gl=null}else return r=Hn(a),r!==null&&ZE(r),t.blockedOn=a,!1;r.shift()}return!0}function rT(t,r,a){Cf(t)&&a.delete(r)}function j1(){ap=!1,ms!==null&&Cf(ms)&&(ms=null),ps!==null&&Cf(ps)&&(ps=null),gs!==null&&Cf(gs)&&(gs=null),tu.forEach(rT),nu.forEach(rT)}function If(t,r){t.blockedOn===r&&(t.blockedOn=null,ap||(ap=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,j1)))}var Nf=null;function sT(t){Nf!==t&&(Nf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Nf===t&&(Nf=null);for(var r=0;r<t.length;r+=3){var a=t[r],u=t[r+1],h=t[r+2];if(typeof u!="function"){if(sp(u||a)===null)continue;break}var d=Hn(a);d!==null&&(t.splice(r,3),r-=3,rm(d,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function To(t){function r(x){return If(x,t)}ms!==null&&If(ms,t),ps!==null&&If(ps,t),gs!==null&&If(gs,t),tu.forEach(r),nu.forEach(r);for(var a=0;a<ys.length;a++){var u=ys[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ys.length&&(a=ys[0],a.blockedOn===null);)iT(a),a.blockedOn===null&&ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],d=a[u+1],v=h[Kt]||null;if(typeof d=="function")v||sT(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Kt]||null)A=v.formAction;else if(sp(h)!==null)continue}else A=v.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),sT(a)}}}function aT(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function op(t){this._internalRoot=t}Df.prototype.render=op.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=jn();WE(a,u,t,r,null,null)},Df.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;WE(t.current,2,null,t,null,null),cf(),r[wi]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var r=uc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ys.length&&r!==0&&r<ys[a].priority;a++);ys.splice(a,0,t),a===0&&iT(t)}};var oT=e.version;if(oT!=="19.2.0")throw Error(s(527,oT,"19.2.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var z1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{ni=xf.inject(z1),Wt=xf}catch{}}return su.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,u="",h=mv,d=pv,v=gv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=YE(t,1,!1,null,null,a,u,null,h,d,v,aT),t[wi]=r.current,Hm(t),new op(r)},su.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var u=!1,h="",d=mv,v=pv,A=gv,x=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=YE(t,1,!0,r,a??null,u,h,x,d,v,A,aT),r.context=XE(null),a=r.current,u=jn(),u=$s(u),h=ns(u),h.callback=null,is(a,h,u),a=u,r.current.lanes=a,Fs(r,a),Bi(r),t[wi]=r.current,Hm(t),new Df(r)},su.version="19.2.0",su}var yT;function Y1(){if(yT)return cp.exports;yT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cp.exports=Q1(),cp.exports}var X1=Y1();const W1=ku(X1);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _T="popstate";function J1(i={}){function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return jp("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Su(o)}return eC(e,n,null,i)}function _t(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function vT(i,e){return{usr:i.state,key:i.key,idx:e}}function jp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||s||Z1()}}function Su({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function eC(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let j=_(),Y=j==null?null:j-g;g=j,p&&p({action:m,location:H.location,delta:Y})}function b(j,Y){m="PUSH";let ee=jp(H.location,j,Y);g=_()+1;let te=vT(ee,g),oe=H.createHref(ee);try{c.pushState(te,"",oe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(oe)}l&&p&&p({action:m,location:H.location,delta:1})}function O(j,Y){m="REPLACE";let ee=jp(H.location,j,Y);g=_();let te=vT(ee,g),oe=H.createHref(ee);c.replaceState(te,"",oe),l&&p&&p({action:m,location:H.location,delta:0})}function U(j){return tC(j)}let H={get action(){return m},get location(){return i(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_T,T),p=j,()=>{o.removeEventListener(_T,T),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let Y=U(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:O,go(j){return c.go(j)}};return H}function tC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Su(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wS(i,e,n="/"){return nC(i,e,n,!1)}function nC(i,e,n,s){let o=typeof e=="string"?Go(e):e,l=Nr(o.pathname||"/",n);if(l==null)return null;let c=RS(i);iC(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=mC(l);m=hC(c[p],g,s)}return m}function RS(i,e=[],n=[],s="",o=!1){let l=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;_t(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Rr([s,_.relativePath]),b=n.concat(_);c.children&&c.children.length>0&&(_t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),RS(c.children,e,b,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:cC(T,c.index),routesMeta:b})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let p of CS(c.path))l(c,m,!0,p)}),e}function CS(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=CS(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function iC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:fC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rC=/^:[\w-]+$/,sC=3,aC=2,oC=1,lC=10,uC=-2,ET=i=>i==="*";function cC(i,e){let n=i.split("/"),s=n.length;return n.some(ET)&&(s+=uC),e&&(s+=aC),n.filter(o=>!ET(o)).reduce((o,l)=>o+(rC.test(l)?sC:l===""?oC:lC),s)}function fC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function hC(i,e,n=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Rr([l,T.pathname]),pathnameBase:_C(Rr([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Rr([l,T.pathnameBase]))}return c}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=dC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let U=m[b]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[b];return T&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function dC(i,e=!1,n=!0){yi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Nr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function pC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:n?n.startsWith("/")?n:gC(n,e):e,search:vC(s),hash:EC(o)}}function gC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Eg(i){let e=yC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tg(i,e,n,s=!1){let o;typeof i=="string"?o=Go(i):(o={...i},_t(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=pC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Rr=i=>i.join("/").replace(/\/\/+/g,"/"),_C=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,EC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function TC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var IS=["POST","PUT","PATCH","DELETE"];new Set(IS);var SC=["GET",...IS];new Set(SC);var $o=S.createContext(null);$o.displayName="DataRouter";var Ih=S.createContext(null);Ih.displayName="DataRouterState";S.createContext(!1);var NS=S.createContext({isTransitioning:!1});NS.displayName="ViewTransition";var AC=S.createContext(new Map);AC.displayName="Fetchers";var bC=S.createContext(null);bC.displayName="Await";var vi=S.createContext(null);vi.displayName="Navigation";var Pu=S.createContext(null);Pu.displayName="Location";var tr=S.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Sg=S.createContext(null);Sg.displayName="RouteError";function wC(i,{relative:e}={}){_t(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(vi),{hash:o,pathname:l,search:c}=Uu(i,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:Rr([n,l])),s.createHref({pathname:m,search:c,hash:o})}function Ko(){return S.useContext(Pu)!=null}function Ei(){return _t(Ko(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Pu).location}var DS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(i){S.useContext(vi).static||S.useLayoutEffect(i)}function Nh(){let{isDataRoute:i}=S.useContext(tr);return i?UC():RC()}function RC(){_t(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext($o),{basename:e,navigator:n}=S.useContext(vi),{matches:s}=S.useContext(tr),{pathname:o}=Ei(),l=JSON.stringify(Eg(s)),c=S.useRef(!1);return xS(()=>{c.current=!0}),S.useCallback((p,g={})=>{if(yi(c.current,DS),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Tg(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Rr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,o,i])}S.createContext(null);function Uu(i,{relative:e}={}){let{matches:n}=S.useContext(tr),{pathname:s}=Ei(),o=JSON.stringify(Eg(n));return S.useMemo(()=>Tg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function CC(i,e){return OS(i,e)}function OS(i,e,n,s,o){_t(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(vi),{matches:c}=S.useContext(tr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";MS(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let b=Ei(),O;if(e){let ee=typeof e=="string"?Go(e):e;_t(_==="/"||ee.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),O=ee}else O=b;let U=O.pathname||"/",H=U;if(_!=="/"){let ee=_.replace(/^\//,"").split("/");H="/"+U.replace(/^\//,"").split("/").slice(ee.length).join("/")}let j=wS(i,{pathname:H});yi(T||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),yi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=OC(j&&j.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Rr([_,l.encodeLocation?l.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?_:Rr([_,l.encodeLocation?l.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,n,s,o);return e&&Y?S.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function IC(){let i=PC(),e=TC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,c)}var NC=S.createElement(IC,null),DC=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?S.createElement(tr.Provider,{value:this.props.routeContext},S.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xC({routeContext:i,match:e,children:n}){let s=S.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(tr.Provider,{value:i},n)}function OC(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,c=n?.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);_t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:b}=n,O=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||O){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let b,O=!1,U=null,H=null;n&&(b=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||NC,m&&(p<0&&T===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,H=null):p===T&&(O=!0,H=_.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,T+1)),Y=()=>{let ee;return b?ee=U:O?ee=H:_.route.Component?ee=S.createElement(_.route.Component,null):_.route.element?ee=_.route.element:ee=g,S.createElement(xC,{match:_,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:ee})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?S.createElement(DC,{location:n.location,revalidation:n.revalidation,component:U,error:b,children:Y(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Ag(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(i){let e=S.useContext($o);return _t(e,Ag(i)),e}function VC(i){let e=S.useContext(Ih);return _t(e,Ag(i)),e}function LC(i){let e=S.useContext(tr);return _t(e,Ag(i)),e}function bg(i){let e=LC(i),n=e.matches[e.matches.length-1];return _t(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function kC(){return bg("useRouteId")}function PC(){let i=S.useContext(Sg),e=VC("useRouteError"),n=bg("useRouteError");return i!==void 0?i:e.errors?.[n]}function UC(){let{router:i}=MC("useNavigate"),e=bg("useNavigate"),n=S.useRef(!1);return xS(()=>{n.current=!0}),S.useCallback(async(o,l={})=>{yi(n.current,DS),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var TT={};function MS(i,e,n){!e&&!TT[i]&&(TT[i]=!0,yi(!1,n))}S.memo(jC);function jC({routes:i,future:e,state:n,unstable_onError:s}){return OS(i,void 0,n,s,e)}function wg({to:i,replace:e,state:n,relative:s}){_t(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(vi);yi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(tr),{pathname:c}=Ei(),m=Nh(),p=Tg(i,Eg(l),c,s==="path"),g=JSON.stringify(p);return S.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ro(i){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zC({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){_t(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Go(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:b="default"}=n,O=S.useMemo(()=>{let U=Nr(p,c);return U==null?null:{location:{pathname:U,search:g,hash:_,state:T,key:b},navigationType:s}},[c,p,g,_,T,b,s]);return yi(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:S.createElement(vi.Provider,{value:m},S.createElement(Pu.Provider,{children:e,value:O}))}function BC({children:i,location:e}){return CC(zp(i),e)}function zp(i,e=[]){let n=[];return S.Children.forEach(i,(s,o)=>{if(!S.isValidElement(s))return;let l=[...e,o];if(s.type===S.Fragment){n.push.apply(n,zp(s.props.children,l));return}_t(s.type===Ro,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=zp(s.props.children,l)),n.push(c)}),n}var Hf="get",qf="application/x-www-form-urlencoded";function Dh(i){return i!=null&&typeof i.tagName=="string"}function HC(i){return Dh(i)&&i.tagName.toLowerCase()==="button"}function qC(i){return Dh(i)&&i.tagName.toLowerCase()==="form"}function FC(i){return Dh(i)&&i.tagName.toLowerCase()==="input"}function GC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $C(i,e){return i.button===0&&(!e||e==="_self")&&!GC(i)}var Of=null;function KC(){if(Of===null)try{new FormData(document.createElement("form"),0),Of=!1}catch{Of=!0}return Of}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pp(i){return i!=null&&!QC.has(i)?(yi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):i}function YC(i,e){let n,s,o,l,c;if(qC(i)){let m=i.getAttribute("action");s=m?Nr(m,e):null,n=i.getAttribute("method")||Hf,o=pp(i.getAttribute("enctype"))||qf,l=new FormData(i)}else if(HC(i)||FC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Nr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Hf,o=pp(i.getAttribute("formenctype"))||pp(m.getAttribute("enctype"))||qf,l=new FormData(m,i),!KC()){let{name:g,type:_,value:T}=i;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(Dh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hf,s=null,o=qf,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function XC(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Nr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function WC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ZC(i,e,n){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await WC(l,n);return c.links?c.links():[]}return[]}));return iI(s.flat(1).filter(JC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ST(i,e,n,s,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eI(i,e,{includeHydrateFallback:n}={}){return tI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function tI(i){return[...new Set(i)]}function nI(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function iI(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(nI(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function VS(){let i=S.useContext($o);return Rg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rI(){let i=S.useContext(Ih);return Rg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cg=S.createContext(void 0);Cg.displayName="FrameworkContext";function LS(){let i=S.useContext(Cg);return Rg(i,"You must render this element inside a <HydratedRouter> element"),i}function sI(i,e){let n=S.useContext(Cg),[s,o]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=S.useRef(null);S.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let H=Y=>{Y.forEach(ee=>{c(ee.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[i]),S.useEffect(()=>{if(s){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[s]);let O=()=>{o(!0)},U=()=>{o(!1),c(!1)};return n?i!=="intent"?[l,b,{}]:[l,b,{onFocus:au(m,O),onBlur:au(p,U),onMouseEnter:au(g,O),onMouseLeave:au(_,U),onTouchStart:au(T,O)}]:[!1,b,{}]}function au(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function aI({page:i,...e}){let{router:n}=VS(),s=S.useMemo(()=>wS(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?S.createElement(lI,{page:i,matches:s,...e}):null}function oI(i){let{manifest:e,routeModules:n}=LS(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return ZC(i,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,n]),s}function lI({page:i,matches:e,...n}){let s=Ei(),{manifest:o,routeModules:l}=LS(),{basename:c}=VS(),{loaderData:m,matches:p}=rI(),g=S.useMemo(()=>ST(i,e,p,o,s,"data"),[i,e,p,o,s]),_=S.useMemo(()=>ST(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=S.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,H=!1;if(e.forEach(Y=>{let ee=o.routes[Y.route.id];!ee||!ee.hasLoader||(!g.some(te=>te.route.id===Y.route.id)&&Y.route.id in m&&l[Y.route.id]?.shouldRevalidate||ee.hasClientLoader?H=!0:U.add(Y.route.id))}),U.size===0)return[];let j=XC(i,c,"data");return H&&U.size>0&&j.searchParams.set("_routes",e.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[j.pathname+j.search]},[c,m,s,o,g,e,i,l]),b=S.useMemo(()=>eI(_,o),[_,o]),O=oI(_);return S.createElement(S.Fragment,null,T.map(U=>S.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),b.map(U=>S.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),O.map(({key:U,link:H})=>S.createElement("link",{key:U,nonce:n.nonce,...H})))}function uI(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kS&&(window.__reactRouterVersion="7.9.3")}catch{}function cI({basename:i,children:e,window:n}){let s=S.useRef();s.current==null&&(s.current=J1({window:n,v5Compat:!0}));let o=s.current,[l,c]=S.useState({action:o.action,location:o.location}),m=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.createElement(zC,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...b},O){let{basename:U}=S.useContext(vi),H=typeof g=="string"&&PS.test(g),j,Y=!1;if(typeof g=="string"&&H&&(j=g,kS))try{let D=new URL(window.location.href),L=g.startsWith("//")?new URL(D.protocol+g):new URL(g),M=Nr(L.pathname,U);L.origin===D.origin&&M!=null?g=M+L.search+L.hash:Y=!0}catch{yi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=wC(g,{relative:o}),[te,oe,de]=sI(s,b),ie=dI(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function I(D){e&&e(D),D.defaultPrevented||ie(D)}let C=S.createElement("a",{...b,...de,href:j||ee,onClick:Y||l?e:I,ref:uI(O,oe),target:p,"data-discover":!H&&n==="render"?"true":void 0});return te&&!H?S.createElement(S.Fragment,null,C,S.createElement(aI,{page:ee})):C});Ig.displayName="Link";var lu=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},_){let T=Uu(c,{relative:g.relative}),b=Ei(),O=S.useContext(Ih),{navigator:U,basename:H}=S.useContext(vi),j=O!=null&&_I(T)&&m===!0,Y=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,ee=b.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&H&&(te=Nr(te,H)||te);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(oe)==="/",ie=te!=null&&(te===Y||!o&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),I={isActive:de,isPending:ie,isTransitioning:j},C=de?e:void 0,D;typeof s=="function"?D=s(I):D=[s,de?"active":null,ie?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return S.createElement(Ig,{...g,"aria-current":C,className:D,ref:_,style:L,to:c,viewTransition:m},typeof p=="function"?p(I):p)});lu.displayName="NavLink";var fI=S.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=Hf,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...b},O)=>{let U=gI(),H=yI(m,{relative:g}),j=c.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&PS.test(m),ee=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let oe=te.nativeEvent.submitter,de=oe?.getAttribute("formmethod")||c;U(oe||te.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return S.createElement("form",{ref:O,method:j,action:H,onSubmit:s?p:ee,...b,"data-discover":!Y&&i==="render"?"true":void 0})});fI.displayName="Form";function hI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(i){let e=S.useContext($o);return _t(e,hI(i)),e}function dI(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=Nh(),p=Ei(),g=Uu(i,{relative:l});return S.useCallback(_=>{if($C(_,e)){_.preventDefault();let T=n!==void 0?n:Su(p)===Su(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,n,s,e,i,o,l,c])}var mI=0,pI=()=>`__${String(++mI)}__`;function gI(){let{router:i}=US("useSubmit"),{basename:e}=S.useContext(vi),n=kC();return S.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=YC(s,e);if(o.navigate===!1){let _=o.fetcherKey||pI();await i.fetch(_,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function yI(i,{relative:e}={}){let{basename:n}=S.useContext(vi),s=S.useContext(tr);_t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Uu(i||".",{relative:e})},c=Ei();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Rr([n,l.pathname])),Su(l)}function _I(i,{relative:e}={}){let n=S.useContext(NS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=US("useViewTransitionState"),o=Uu(i,{relative:e});if(!n.isTransitioning)return!1;let l=Nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,c)!=null||th(o.pathname,l)!=null}var vI=bS();const xo=ku(vI);var gp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var AT;function EI(){return AT||(AT=1,(function(i){(function(){var e={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var m in l)e.call(l,m)&&l[m]&&(c=o(c,m));return c}function o(l,c){return c?l?l+" "+c:l+c:l}i.exports?(n.default=n,i.exports=n):window.classNames=n})()})(gp)),gp.exports}var TI=EI();const Ee=ku(TI);function Bp(){return Bp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Bp.apply(null,arguments)}function jS(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function bT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function SI(i){var e=AI(i,"string");return typeof e=="symbol"?e:String(e)}function AI(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function bI(i,e,n){var s=S.useRef(i!==void 0),o=S.useState(e),l=o[0],c=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==e&&c(e),[m?i:l,S.useCallback(function(g){for(var _=arguments.length,T=new Array(_>1?_-1:0),b=1;b<_;b++)T[b-1]=arguments[b];n&&n.apply(void 0,[g].concat(T)),c(g)},[n])]}function xh(i,e){return Object.keys(e).reduce(function(n,s){var o,l=n,c=l[bT(s)],m=l[s],p=jS(l,[bT(s),s].map(SI)),g=e[s],_=bI(m,c,i[g]),T=_[0],b=_[1];return Bp({},p,(o={},o[s]=T,o[g]=b,o))},i)}function Hp(i,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hp(i,e)}function wI(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Hp(i,e)}const zS=["xxl","xl","lg","md","sm","xs"],BS="xs",Oh=S.createContext({prefixes:{},breakpoints:zS,minBreakpoint:BS}),{Consumer:JL,Provider:ZL}=Oh;function Re(i,e){const{prefixes:n}=S.useContext(Oh);return i||n[e]||e}function Ng(){const{breakpoints:i}=S.useContext(Oh);return i}function Dg(){const{minBreakpoint:i}=S.useContext(Oh);return i}function xg(i){return i&&i.ownerDocument||document}function RI(i){var e=xg(i);return e&&e.defaultView||window}function CI(i,e){return RI(i).getComputedStyle(i,e)}var II=/([A-Z])/g;function NI(i){return i.replace(II,"-$1").toLowerCase()}var DI=/^ms-/;function Mf(i){return NI(i).replace(DI,"-ms-")}var xI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function OI(i){return!!(i&&xI.test(i))}function Cr(i,e){var n="",s="";if(typeof e=="string")return i.style.getPropertyValue(Mf(e))||CI(i).getPropertyValue(Mf(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(Mf(o)):OI(o)?s+=o+"("+l+") ":n+=Mf(o)+": "+l+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var yp={exports:{}},_p,wT;function MI(){if(wT)return _p;wT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _p=i,_p}var vp,RT;function VI(){if(RT)return vp;RT=1;var i=MI();function e(){}function n(){}return n.resetWarningCache=e,vp=function(){function s(c,m,p,g,_,T){if(T!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},vp}var CT;function LI(){return CT||(CT=1,yp.exports=VI()()),yp.exports}var kI=LI();const Rn=ku(kI),IT={disabled:!1},HS=$i.createContext(null);var PI=function(e){return e.scrollTop},uu="unmounted",Es="exited",mi="entering",Tr="entered",Au="exiting",kr=(function(i){wI(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var c=o,m=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=Es,l.appearStatus=mi):p=Tr:s.unmountOnExit||s.mountOnEnter?p=uu:p=Es,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var c=o.in;return c&&l.status===uu?{status:Es}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var l=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==mi&&c!==Tr&&(l=mi):(c===mi||c===Tr)&&(l=Au)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,l,c,m;return l=c=m=o,o!=null&&typeof o!="number"&&(l=o.exit,c=o.enter,m=o.appear!==void 0?o.appear:c),{exit:l,enter:c,appear:m}},n.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===mi){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this);c&&PI(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Es&&this.setState({status:uu})},n.performEnter=function(o){var l=this,c=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[xo.findDOMNode(this),m],g=p[0],_=p[1],T=this.getTimeouts(),b=m?T.appear:T.enter;if(!o&&!c||IT.disabled){this.safeSetState({status:Tr},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:mi},function(){l.props.onEntering(g,_),l.onTransitionEnd(b,function(){l.safeSetState({status:Tr},function(){l.props.onEntered(g,_)})})})},n.performExit=function(){var o=this,l=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:xo.findDOMNode(this);if(!l||IT.disabled){this.safeSetState({status:Es},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Au},function(){o.props.onExiting(m),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:Es},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},n.setNextCallback=function(o){var l=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(o,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===uu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=jS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $i.createElement(HS.Provider,{value:null},typeof c=="function"?c(o,m):$i.cloneElement($i.Children.only(c),m))},e})($i.Component);kr.contextType=HS;kr.propTypes={};function So(){}kr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:So,onEntering:So,onEntered:So,onExit:So,onExiting:So,onExited:So};kr.UNMOUNTED=uu;kr.EXITED=Es;kr.ENTERING=mi;kr.ENTERED=Tr;kr.EXITING=Au;function UI(i){return i.code==="Escape"||i.keyCode===27}function jI(){const i=S.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Qo(i){if(!i||typeof i=="function")return null;const{major:e}=jI();return e>=19?i.props.ref:i.ref}const Mh=!!(typeof window<"u"&&window.document&&window.document.createElement);var qp=!1,Fp=!1;try{var Ep={get passive(){return qp=!0},get once(){return Fp=qp=!0}};Mh&&(window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,!0))}catch{}function zI(i,e,n,s){if(s&&typeof s!="boolean"&&!Fp){var o=s.once,l=s.capture,c=n;!Fp&&o&&(c=n.__once||function m(p){this.removeEventListener(e,m,l),n.call(this,p)},n.__once=c),i.addEventListener(e,c,qp?s:l)}i.addEventListener(e,n,s)}function BI(i,e,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,n,o),n.__once&&i.removeEventListener(e,n.__once,o)}function nh(i,e,n,s){return zI(i,e,n,s),function(){BI(i,e,n,s)}}function HI(i,e,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,s),i.dispatchEvent(o)}}function qI(i){var e=Cr(i,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function FI(i,e,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||HI(i,"transitionend",!0)},e+n),l=nh(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function GI(i,e,n,s){n==null&&(n=qI(i)||0);var o=FI(i,n,s),l=nh(i,"transitionend",e);return function(){o(),l()}}function NT(i,e){const n=Cr(i,e)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Og(i,e){const n=NT(i,"transitionDuration"),s=NT(i,"transitionDelay"),o=GI(i,l=>{l.target===i&&(o(),e(l))},n+s)}function ou(...i){return i.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...o){e.apply(this,o),n.apply(this,o)}},null)}function qS(i){i.offsetHeight}const DT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function $I(i,e){const n=DT(i),s=DT(e);return o=>{n&&n(o),s&&s(o)}}function KI(i,e){return S.useMemo(()=>$I(i,e),[i,e])}function QI(i){return i&&"setState"in i?xo.findDOMNode(i):i??null}const Vh=$i.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,onExited:l,addEndListener:c,children:m,childRef:p,...g},_)=>{const T=S.useRef(null),b=KI(T,p),O=ie=>{b(QI(ie))},U=ie=>I=>{ie&&T.current&&ie(T.current,I)},H=S.useCallback(U(i),[i]),j=S.useCallback(U(e),[e]),Y=S.useCallback(U(n),[n]),ee=S.useCallback(U(s),[s]),te=S.useCallback(U(o),[o]),oe=S.useCallback(U(l),[l]),de=S.useCallback(U(c),[c]);return w.jsx(kr,{ref:_,...g,onEnter:H,onEntered:Y,onEntering:j,onExit:ee,onExited:oe,onExiting:te,addEndListener:de,nodeRef:T,children:typeof m=="function"?(ie,I)=>m(ie,{...I,ref:O}):$i.cloneElement(m,{ref:O})})});Vh.displayName="TransitionWrapper";const YI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function XI(i,e){const n=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[n],o=YI[i];return s+parseInt(Cr(e,o[0]),10)+parseInt(Cr(e,o[1]),10)}const WI={[Es]:"collapse",[Au]:"collapsing",[mi]:"collapsing",[Tr]:"collapse show"},FS=$i.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,className:l,children:c,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:T=!1,appear:b=!1,getDimensionValue:O=XI,...U},H)=>{const j=typeof m=="function"?m():m,Y=S.useMemo(()=>ou(ie=>{ie.style[j]="0"},i),[j,i]),ee=S.useMemo(()=>ou(ie=>{const I=`scroll${j[0].toUpperCase()}${j.slice(1)}`;ie.style[j]=`${ie[I]}px`},e),[j,e]),te=S.useMemo(()=>ou(ie=>{ie.style[j]=null},n),[j,n]),oe=S.useMemo(()=>ou(ie=>{ie.style[j]=`${O(j,ie)}px`,qS(ie)},s),[s,O,j]),de=S.useMemo(()=>ou(ie=>{ie.style[j]=null},o),[j,o]);return w.jsx(Vh,{ref:H,addEndListener:Og,...U,"aria-expanded":U.role?p:null,onEnter:Y,onEntering:ee,onEntered:te,onExit:oe,onExiting:de,childRef:Qo(c),in:p,timeout:g,mountOnEnter:_,unmountOnExit:T,appear:b,children:(ie,I)=>$i.cloneElement(c,{...I,className:Ee(l,c.props.className,WI[ie],j==="width"&&"collapse-horizontal")})})});FS.displayName="Collapse";function JI(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function Yo(i){const e=JI(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Lh=(i=>S.forwardRef((e,n)=>w.jsx("div",{...e,ref:n,className:Ee(e.className,i)}))),GS=Lh("h4");GS.displayName="DivStyledAsH4";const $S=S.forwardRef(({className:i,bsPrefix:e,as:n=GS,...s},o)=>(e=Re(e,"alert-heading"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));$S.displayName="AlertHeading";function ZI(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i},[i]),e}function Sr(i){const e=ZI(i);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function eN(){const i=S.useRef(!0),e=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function tN(i){const e=S.useRef(null);return S.useEffect(()=>{e.current=i}),e.current}const nN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iN=typeof document<"u",xT=iN||nN?S.useLayoutEffect:S.useEffect,rN=["as","disabled"];function sN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function aN(i){return!i||i.trim()==="#"}function Mg({tagName:i,disabled:e,href:n,target:s,rel:o,role:l,onClick:c,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const _=b=>{if((e||i==="a"&&aN(n))&&b.preventDefault(),e){b.stopPropagation();return}c?.(b)},T=b=>{b.key===" "&&(b.preventDefault(),_(b))};return i==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:T},g]}const KS=S.forwardRef((i,e)=>{let{as:n,disabled:s}=i,o=sN(i,rN);const[l,{tagName:c}]=Mg(Object.assign({tagName:n,disabled:s},o));return w.jsx(c,Object.assign({},o,l,{ref:e}))});KS.displayName="Button";const oN=["onKeyDown"];function lN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function uN(i){return!i||i.trim()==="#"}const Vg=S.forwardRef((i,e)=>{let{onKeyDown:n}=i,s=lN(i,oN);const[o]=Mg(Object.assign({tagName:"a"},s)),l=Sr(c=>{o.onKeyDown(c),n?.(c)});return uN(s.href)||s.role==="button"?w.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):w.jsx("a",Object.assign({ref:e},s,{onKeyDown:n}))});Vg.displayName="Anchor";const QS=S.forwardRef(({className:i,bsPrefix:e,as:n=Vg,...s},o)=>(e=Re(e,"alert-link"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));QS.displayName="AlertLink";const cN={[mi]:"show",[Tr]:"show"},ih=S.forwardRef(({className:i,children:e,transitionClasses:n={},onEnter:s,...o},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=S.useCallback((p,g)=>{qS(p),s?.(p,g)},[s]);return w.jsx(Vh,{ref:l,addEndListener:Og,...c,onEnter:m,childRef:Qo(e),children:(p,g)=>S.cloneElement(e,{...g,className:Ee("fade",i,e.props.className,cN[p],n[p])})})});ih.displayName="Fade";const fN={"aria-label":Rn.string,onClick:Rn.func,variant:Rn.oneOf(["white"])},kh=S.forwardRef(({className:i,variant:e,"aria-label":n="Close",...s},o)=>w.jsx("button",{ref:o,type:"button",className:Ee("btn-close",e&&`btn-close-${e}`,i),"aria-label":n,...s}));kh.displayName="CloseButton";kh.propTypes=fN;const YS=S.forwardRef((i,e)=>{const{bsPrefix:n,show:s=!0,closeLabel:o="Close alert",closeVariant:l,className:c,children:m,variant:p="primary",onClose:g,dismissible:_,transition:T=ih,...b}=xh(i,{show:"onClose"}),O=Re(n,"alert"),U=Yo(Y=>{g&&g(!1,Y)}),H=T===!0?ih:T,j=w.jsxs("div",{role:"alert",...H?void 0:b,ref:e,className:Ee(c,O,p&&`${O}-${p}`,_&&`${O}-dismissible`),children:[_&&w.jsx(kh,{onClick:U,"aria-label":o,variant:l}),m]});return H?w.jsx(H,{unmountOnExit:!0,...b,ref:void 0,in:s,children:j}):s?j:null});YS.displayName="Alert";const Sa=Object.assign(YS,{Link:QS,Heading:$S}),Fi=S.forwardRef(({bsPrefix:i,bg:e="primary",pill:n=!1,text:s,className:o,as:l="span",...c},m)=>{const p=Re(i,"badge");return w.jsx(l,{ref:m,...c,className:Ee(o,p,n&&"rounded-pill",s&&`text-${s}`,e&&`bg-${e}`)})});Fi.displayName="Badge";const ws=S.forwardRef(({as:i,bsPrefix:e,variant:n="primary",size:s,active:o=!1,disabled:l=!1,className:c,...m},p)=>{const g=Re(e,"btn"),[_,{tagName:T}]=Mg({tagName:i,disabled:l,...m}),b=T;return w.jsx(b,{..._,...m,ref:p,disabled:l,className:Ee(c,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});ws.displayName="Button";const Lg=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-body"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));Lg.displayName="CardBody";const XS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-footer"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));XS.displayName="CardFooter";const kg=S.createContext(null);kg.displayName="CardHeaderContext";const WS=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Re(i,"card-header"),c=S.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return w.jsx(kg.Provider,{value:c,children:w.jsx(n,{ref:o,...s,className:Ee(e,l)})})});WS.displayName="CardHeader";const JS=S.forwardRef(({bsPrefix:i,className:e,variant:n,as:s="img",...o},l)=>{const c=Re(i,"card-img");return w.jsx(s,{ref:l,className:Ee(n?`${c}-${n}`:c,e),...o})});JS.displayName="CardImg";const ZS=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"card-img-overlay"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));ZS.displayName="CardImgOverlay";const eA=S.forwardRef(({className:i,bsPrefix:e,as:n="a",...s},o)=>(e=Re(e,"card-link"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));eA.displayName="CardLink";const hN=Lh("h6"),tA=S.forwardRef(({className:i,bsPrefix:e,as:n=hN,...s},o)=>(e=Re(e,"card-subtitle"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));tA.displayName="CardSubtitle";const nA=S.forwardRef(({className:i,bsPrefix:e,as:n="p",...s},o)=>(e=Re(e,"card-text"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));nA.displayName="CardText";const dN=Lh("h5"),iA=S.forwardRef(({className:i,bsPrefix:e,as:n=dN,...s},o)=>(e=Re(e,"card-title"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));iA.displayName="CardTitle";const rA=S.forwardRef(({bsPrefix:i,className:e,bg:n,text:s,border:o,body:l=!1,children:c,as:m="div",...p},g)=>{const _=Re(i,"card");return w.jsx(m,{ref:g,...p,className:Ee(e,_,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:l?w.jsx(Lg,{children:c}):c})});rA.displayName="Card";const yt=Object.assign(rA,{Img:JS,Title:iA,Subtitle:tA,Body:Lg,Link:eA,Text:nA,Header:WS,Footer:XS,ImgOverlay:ZS});function mN(i,e){return S.Children.toArray(i).some(n=>S.isValidElement(n)&&n.type===e)}function pN({as:i,bsPrefix:e,className:n,...s}){e=Re(e,"col");const o=Ng(),l=Dg(),c=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,T,b;typeof g=="object"&&g!=null?{span:_,offset:T,order:b}=g:_=g;const O=p!==l?`-${p}`:"";_&&c.push(_===!0?`${e}${O}`:`${e}${O}-${_}`),b!=null&&m.push(`order${O}-${b}`),T!=null&&m.push(`offset${O}-${T}`)}),[{...s,className:Ee(n,...c,...m)},{as:i,bsPrefix:e,spans:c}]}const Gt=S.forwardRef((i,e)=>{const[{className:n,...s},{as:o="div",bsPrefix:l,spans:c}]=pN(i);return w.jsx(o,{...s,ref:e,className:Ee(n,!c.length&&l)})});Gt.displayName="Col";const Pg=S.forwardRef(({bsPrefix:i,fluid:e=!1,as:n="div",className:s,...o},l)=>{const c=Re(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return w.jsx(n,{ref:l,...o,className:Ee(s,e?`${c}${m}`:c)})});Pg.displayName="Container";var gN=Function.prototype.bind.call(Function.prototype.call,[].slice);function ya(i,e){return gN(i.querySelectorAll(e))}function yN(){const[,i]=S.useReducer(e=>e+1,0);return i}function OT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const rh=S.createContext(null),Ph=(i,e=null)=>i!=null?String(i):e||null,Ug=S.createContext(null);Ug.displayName="NavContext";const _N="data-rr-ui-",vN="rrUi";function Uh(i){return`${_N}${i}`}function EN(i){return`${vN}${i}`}const sA=S.createContext(Mh?window:void 0);sA.Provider;function jg(){return S.useContext(sA)}const TN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SN=typeof document<"u",AN=SN||TN?S.useLayoutEffect:S.useEffect,Xo=S.createContext(null);Xo.displayName="NavbarContext";Rn.string,Rn.bool,Rn.bool,Rn.bool,Rn.bool;const aA=S.forwardRef(({bsPrefix:i,className:e,fluid:n=!1,rounded:s=!1,roundedCircle:o=!1,thumbnail:l=!1,...c},m)=>(i=Re(i,"img"),w.jsx("img",{ref:m,...c,className:Ee(e,n&&`${i}-fluid`,s&&"rounded",o&&"rounded-circle",l&&`${i}-thumbnail`)})));aA.displayName="Image";const bN={type:Rn.string,tooltip:Rn.bool,as:Rn.elementType},jh=S.forwardRef(({as:i="div",className:e,type:n="valid",tooltip:s=!1,...o},l)=>w.jsx(i,{...o,ref:l,className:Ee(e,`${n}-${s?"tooltip":"feedback"}`)}));jh.displayName="Feedback";jh.propTypes=bN;const Dr=S.createContext({}),zg=S.forwardRef(({id:i,bsPrefix:e,className:n,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...m},p)=>{const{controlId:g}=S.useContext(Dr);return e=Re(e,"form-check-input"),w.jsx(c,{...m,ref:p,type:s,id:i||g,className:Ee(n,e,o&&"is-valid",l&&"is-invalid")})});zg.displayName="FormCheckInput";const sh=S.forwardRef(({bsPrefix:i,className:e,htmlFor:n,...s},o)=>{const{controlId:l}=S.useContext(Dr);return i=Re(i,"form-check-label"),w.jsx("label",{...s,ref:o,htmlFor:n||l,className:Ee(e,i)})});sh.displayName="FormCheckLabel";const oA=S.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:T,style:b,title:O="",type:U="checkbox",label:H,children:j,as:Y="input",...ee},te)=>{e=Re(e,"form-check"),n=Re(n,"form-switch");const{controlId:oe}=S.useContext(Dr),de=S.useMemo(()=>({controlId:i||oe}),[oe,i]),ie=!j&&H!=null&&H!==!1||mN(j,sh),I=w.jsx(zg,{...ee,type:U==="switch"?"checkbox":U,ref:te,isValid:c,isInvalid:m,disabled:l,as:Y});return w.jsx(Dr.Provider,{value:de,children:w.jsx("div",{style:b,className:Ee(T,ie&&e,s&&`${e}-inline`,o&&`${e}-reverse`,U==="switch"&&n),children:j||w.jsxs(w.Fragment,{children:[I,ie&&w.jsx(sh,{title:O,children:H}),g&&w.jsx(jh,{type:_,tooltip:p,children:g})]})})})});oA.displayName="FormCheck";const ah=Object.assign(oA,{Input:zg,Label:sh}),lA=S.forwardRef(({bsPrefix:i,type:e,size:n,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:_="input",...T},b)=>{const{controlId:O}=S.useContext(Dr);return i=Re(i,"form-control"),w.jsx(_,{...T,type:e,size:s,ref:b,readOnly:g,id:o||O,className:Ee(l,p?`${i}-plaintext`:i,n&&`${i}-${n}`,e==="color"&&`${i}-color`,c&&"is-valid",m&&"is-invalid")})});lA.displayName="FormControl";const wN=Object.assign(lA,{Feedback:jh}),uA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"form-floating"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));uA.displayName="FormFloating";const Bg=S.forwardRef(({controlId:i,as:e="div",...n},s)=>{const o=S.useMemo(()=>({controlId:i}),[i]);return w.jsx(Dr.Provider,{value:o,children:w.jsx(e,{...n,ref:s})})});Bg.displayName="FormGroup";const cA=S.forwardRef(({as:i="label",bsPrefix:e,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c},m)=>{const{controlId:p}=S.useContext(Dr);e=Re(e,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const _=Ee(o,e,s&&"visually-hidden",n&&g);return l=l||p,n?w.jsx(Gt,{ref:m,as:"label",className:_,htmlFor:l,...c}):w.jsx(i,{ref:m,className:_,htmlFor:l,...c})});cA.displayName="FormLabel";const fA=S.forwardRef(({bsPrefix:i,className:e,id:n,...s},o)=>{const{controlId:l}=S.useContext(Dr);return i=Re(i,"form-range"),w.jsx("input",{...s,type:"range",ref:o,className:Ee(e,i),id:n||l})});fA.displayName="FormRange";const hA=S.forwardRef(({bsPrefix:i,size:e,htmlSize:n,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...m},p)=>{const{controlId:g}=S.useContext(Dr);return i=Re(i,"form-select"),w.jsx("select",{...m,size:n,ref:p,className:Ee(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:c||g})});hA.displayName="FormSelect";const dA=S.forwardRef(({bsPrefix:i,className:e,as:n="small",muted:s,...o},l)=>(i=Re(i,"form-text"),w.jsx(n,{...o,ref:l,className:Ee(e,i,s&&"text-muted")})));dA.displayName="FormText";const mA=S.forwardRef((i,e)=>w.jsx(ah,{...i,ref:e,type:"switch"}));mA.displayName="Switch";const RN=Object.assign(mA,{Input:ah.Input,Label:ah.Label}),pA=S.forwardRef(({bsPrefix:i,className:e,children:n,controlId:s,label:o,...l},c)=>(i=Re(i,"form-floating"),w.jsxs(Bg,{ref:c,className:Ee(e,i),controlId:s,...l,children:[n,w.jsx("label",{htmlFor:s,children:o})]})));pA.displayName="FloatingLabel";const CN={_ref:Rn.any,validated:Rn.bool,as:Rn.elementType},Hg=S.forwardRef(({className:i,validated:e,as:n="form",...s},o)=>w.jsx(n,{...s,ref:o,className:Ee(i,e&&"was-validated")}));Hg.displayName="Form";Hg.propTypes=CN;const ge=Object.assign(Hg,{Group:Bg,Control:wN,Floating:uA,Check:ah,Switch:RN,Label:cA,Text:dA,Range:fA,Select:hA,FloatingLabel:pA}),MT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function IN(i,e){const n=MT(i),s=MT(e);return o=>{n&&n(o),s&&s(o)}}function zh(i,e){return S.useMemo(()=>IN(i,e),[i,e])}const gA=S.createContext(null),NN=["as","active","eventKey"];function DN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function qg({key:i,onClick:e,active:n,id:s,role:o,disabled:l}){const c=S.useContext(rh),m=S.useContext(Ug),p=S.useContext(gA);let g=n;const _={role:o};if(m){!o&&m.role==="tablist"&&(_.role="tab");const T=m.getControllerId(i??null),b=m.getControlledId(i??null);_[Uh("event-key")]=i,_.id=T||s,g=n==null&&i!=null?m.activeKey===i:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=b)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Sr(T=>{l||(e?.(T),i!=null&&c&&!T.isPropagationStopped()&&c(i,T))}),[_,{isActive:g}]}const yA=S.forwardRef((i,e)=>{let{as:n=KS,active:s,eventKey:o}=i,l=DN(i,NN);const[c,m]=qg(Object.assign({key:Ph(o,l.href),active:s},l));return c[Uh("active")]=m.isActive,w.jsx(n,Object.assign({},l,c,{ref:e}))});yA.displayName="NavItem";const xN=["as","onSelect","activeKey","role","onKeyDown"];function ON(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const VT=()=>{},LT=Uh("event-key"),_A=S.forwardRef((i,e)=>{let{as:n="div",onSelect:s,activeKey:o,role:l,onKeyDown:c}=i,m=ON(i,xN);const p=yN(),g=S.useRef(!1),_=S.useContext(rh),T=S.useContext(gA);let b,O;T&&(l=l||"tablist",o=T.activeKey,b=T.getControlledId,O=T.getControllerId);const U=S.useRef(null),H=te=>{const oe=U.current;if(!oe)return null;const de=ya(oe,`[${LT}]:not([aria-disabled=true])`),ie=oe.querySelector("[aria-selected=true]");if(!ie||ie!==document.activeElement)return null;const I=de.indexOf(ie);if(I===-1)return null;let C=I+te;return C>=de.length&&(C=0),C<0&&(C=de.length-1),de[C]},j=(te,oe)=>{te!=null&&(s?.(te,oe),_?.(te,oe))},Y=te=>{if(c?.(te),!T)return;let oe;switch(te.key){case"ArrowLeft":case"ArrowUp":oe=H(-1);break;case"ArrowRight":case"ArrowDown":oe=H(1);break;default:return}oe&&(te.preventDefault(),j(oe.dataset[EN("EventKey")]||null,te),g.current=!0,p())};S.useEffect(()=>{if(U.current&&g.current){const te=U.current.querySelector(`[${LT}][aria-selected=true]`);te?.focus()}g.current=!1});const ee=zh(e,U);return w.jsx(rh.Provider,{value:j,children:w.jsx(Ug.Provider,{value:{role:l,activeKey:Ph(o),getControlledId:b||VT,getControllerId:O||VT},children:w.jsx(n,Object.assign({},m,{onKeyDown:Y,ref:ee,role:l}))})})});_A.displayName="Nav";const vA=Object.assign(_A,{Item:yA}),EA=S.forwardRef(({bsPrefix:i,active:e,disabled:n,eventKey:s,className:o,variant:l,action:c,as:m,...p},g)=>{i=Re(i,"list-group-item");const[_,T]=qg({key:Ph(s,p.href),active:e,...p}),b=Yo(U=>{if(n){U.preventDefault(),U.stopPropagation();return}_.onClick(U)});n&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const O=m||(c?p.href?"a":"button":"div");return w.jsx(O,{ref:g,...p,..._,onClick:b,className:Ee(o,i,T.isActive&&"active",n&&"disabled",l&&`${i}-${l}`,c&&`${i}-action`)})});EA.displayName="ListGroupItem";const TA=S.forwardRef((i,e)=>{const{className:n,bsPrefix:s,variant:o,horizontal:l,numbered:c,as:m="div",...p}=xh(i,{activeKey:"onSelect"}),g=Re(s,"list-group");let _;return l&&(_=l===!0?"horizontal":`horizontal-${l}`),w.jsx(vA,{ref:e,...p,as:m,className:Ee(n,g,o&&`${g}-${o}`,_&&`${g}-${_}`,c&&`${g}-numbered`)})});TA.displayName="ListGroup";const Ao=Object.assign(TA,{Item:EA});function Tp(i){i===void 0&&(i=xg());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function MN(i){const e=S.useRef(i);return e.current=i,e}function VN(i){const e=MN(i);S.useEffect(()=>()=>e.current(),[])}function LN(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const kT=Uh("modal-open");class Fg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return LN(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(Cr(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(kT,""),Cr(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(kT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Sp=(i,e)=>Mh?i==null?(e||xg()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function kN(i,e){const n=jg(),[s,o]=S.useState(()=>Sp(i,n?.document));if(!s){const l=Sp(i);l&&o(l)}return S.useEffect(()=>{},[e,s]),S.useEffect(()=>{const l=Sp(i);l!==s&&o(l)},[i,s]),s}function PN({children:i,in:e,onExited:n,mountOnEnter:s,unmountOnExit:o}){const l=S.useRef(null),c=S.useRef(e),m=Sr(n);S.useEffect(()=>{e?c.current=!0:m(l.current)},[e,m]);const p=zh(l,Qo(i)),g=S.cloneElement(i,{ref:p});return e?g:o||!c.current&&s?null:g}const UN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function jN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function zN(i){let{onEnter:e,onEntering:n,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:m,children:p}=i,g=jN(i,UN);const _=S.useRef(null),T=zh(_,Qo(p)),b=oe=>de=>{oe&&_.current&&oe(_.current,de)},O=S.useCallback(b(e),[e]),U=S.useCallback(b(n),[n]),H=S.useCallback(b(s),[s]),j=S.useCallback(b(o),[o]),Y=S.useCallback(b(l),[l]),ee=S.useCallback(b(c),[c]),te=S.useCallback(b(m),[m]);return Object.assign({},g,{nodeRef:_},e&&{onEnter:O},n&&{onEntering:U},s&&{onEntered:H},o&&{onExit:j},l&&{onExiting:Y},c&&{onExited:ee},m&&{addEndListener:te},{children:typeof p=="function"?(oe,de)=>p(oe,Object.assign({},de,{ref:T})):S.cloneElement(p,{ref:T})})}const BN=["component"];function HN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}const qN=S.forwardRef((i,e)=>{let{component:n}=i,s=HN(i,BN);const o=zN(s);return w.jsx(n,Object.assign({ref:e},o))});function FN({in:i,onTransition:e}){const n=S.useRef(null),s=S.useRef(!0),o=Sr(e);return xT(()=>{if(!n.current)return;let l=!1;return o({in:i,element:n.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),xT(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function GN({children:i,in:e,onExited:n,onEntered:s,transition:o}){const[l,c]=S.useState(!e);e&&l&&c(!1);const m=FN({in:!!e,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(c(!0),n?.(g.element)))};Promise.resolve(o(g)).then(_,T=>{throw g.in||c(!0),T})}}),p=zh(m,Qo(i));return l&&!e?null:S.cloneElement(i,{ref:p})}function PT(i,e,n){return i?w.jsx(qN,Object.assign({},n,{component:i})):e?w.jsx(GN,Object.assign({},n,{transition:e})):w.jsx(PN,Object.assign({},n))}const $N=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function KN(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}let Ap;function QN(i){return Ap||(Ap=new Fg({ownerDocument:i?.document})),Ap}function YN(i){const e=jg(),n=i||QN(e),s=S.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:S.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{s.current.backdrop=o},[])})}const SA=S.forwardRef((i,e)=>{let{show:n=!1,role:s="dialog",className:o,style:l,children:c,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:T,runTransition:b,backdropTransition:O,runBackdropTransition:U,autoFocus:H=!0,enforceFocus:j=!0,restoreFocus:Y=!0,restoreFocusOptions:ee,renderDialog:te,renderBackdrop:oe=Ke=>w.jsx("div",Object.assign({},Ke)),manager:de,container:ie,onShow:I,onHide:C=()=>{},onExit:D,onExited:L,onExiting:M,onEnter:P,onEntering:N,onEntered:Le}=i,qe=KN(i,$N);const Q=jg(),se=kN(ie),ce=YN(de),De=eN(),Fe=tN(n),[V,W]=S.useState(!n),ae=S.useRef(null);S.useImperativeHandle(e,()=>ce,[ce]),Mh&&!Fe&&n&&(ae.current=Tp(Q?.document)),n&&V&&W(!1);const le=Sr(()=>{if(ce.add(),Ae.current=nh(document,"keydown",ut),Ze.current=nh(document,"focus",()=>setTimeout(be),!0),I&&I(),H){var Ke,on;const dn=Tp((Ke=(on=ce.dialog)==null?void 0:on.ownerDocument)!=null?Ke:Q?.document);ce.dialog&&dn&&!OT(ce.dialog,dn)&&(ae.current=dn,ce.dialog.focus())}}),ye=Sr(()=>{if(ce.remove(),Ae.current==null||Ae.current(),Ze.current==null||Ze.current(),Y){var Ke;(Ke=ae.current)==null||Ke.focus==null||Ke.focus(ee),ae.current=null}});S.useEffect(()=>{!n||!se||le()},[n,se,le]),S.useEffect(()=>{V&&ye()},[V,ye]),VN(()=>{ye()});const be=Sr(()=>{if(!j||!De()||!ce.isTopModal())return;const Ke=Tp(Q?.document);ce.dialog&&Ke&&!OT(ce.dialog,Ke)&&ce.dialog.focus()}),Ve=Sr(Ke=>{Ke.target===Ke.currentTarget&&(g?.(Ke),m===!0&&C())}),ut=Sr(Ke=>{p&&UI(Ke)&&ce.isTopModal()&&(_?.(Ke),Ke.defaultPrevented||C())}),Ze=S.useRef(),Ae=S.useRef(),Qe=(...Ke)=>{W(!0),L?.(...Ke)};if(!se)return null;const ct=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},qe,{style:l,className:o,tabIndex:-1});let Ht=te?te(ct):w.jsx("div",Object.assign({},ct,{children:S.cloneElement(c,{role:"document"})}));Ht=PT(T,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:D,onExiting:M,onExited:Qe,onEnter:P,onEntering:N,onEntered:Le,children:Ht});let Et=null;return m&&(Et=oe({ref:ce.setBackdropRef,onClick:Ve}),Et=PT(O,U,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Et})),w.jsx(w.Fragment,{children:xo.createPortal(w.jsxs(w.Fragment,{children:[Et,Ht]}),se)})});SA.displayName="Modal";const XN=Object.assign(SA,{Manager:Fg});function WN(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function JN(i,e){i.classList?i.classList.add(e):WN(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function UT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ZN(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=UT(i.className,e):i.setAttribute("class",UT(i.className&&i.className.baseVal||"",e))}const bo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class AA extends Fg{adjustAndStore(e,n,s){const o=n.style[e];n.dataset[e]=o,Cr(n,{[e]:`${parseFloat(Cr(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],Cr(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(JN(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ya(n,bo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),ya(n,bo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),ya(n,bo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();ZN(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ya(n,bo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),ya(n,bo.STICKY_CONTENT).forEach(l=>this.restore(o,l)),ya(n,bo.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let bp;function eD(i){return bp||(bp=new AA(i)),bp}const bA=S.createContext({onHide(){}}),wA=S.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:o,...l},c)=>{const m=S.useContext(bA),p=Yo(()=>{m?.onHide(),s?.()});return w.jsxs("div",{ref:c,...l,children:[o,n&&w.jsx(kh,{"aria-label":i,variant:e,onClick:p})]})});wA.displayName="AbstractModalHeader";const RA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"nav-item"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));RA.displayName="NavItem";const CA=S.forwardRef(({bsPrefix:i,className:e,as:n=Vg,active:s,eventKey:o,disabled:l=!1,...c},m)=>{i=Re(i,"nav-link");const[p,g]=qg({key:Ph(o,c.href),active:s,disabled:l,...c});return w.jsx(n,{...c,...p,ref:m,disabled:l,className:Ee(e,i,l&&"disabled",g.isActive&&"active")})});CA.displayName="NavLink";const IA=S.forwardRef((i,e)=>{const{as:n="div",bsPrefix:s,variant:o,fill:l=!1,justify:c=!1,navbar:m,navbarScroll:p,className:g,activeKey:_,...T}=xh(i,{activeKey:"onSelect"}),b=Re(s,"nav");let O,U,H=!1;const j=S.useContext(Xo),Y=S.useContext(kg);return j?(O=j.bsPrefix,H=m??!0):Y&&({cardHeaderBsPrefix:U}=Y),w.jsx(vA,{as:n,ref:e,activeKey:_,className:Ee(g,{[b]:!H,[`${O}-nav`]:H,[`${O}-nav-scroll`]:H&&p,[`${U}-${o}`]:!!U,[`${b}-${o}`]:!!o,[`${b}-fill`]:l,[`${b}-justified`]:c}),...T})});IA.displayName="Nav";const wo=Object.assign(IA,{Item:RA,Link:CA}),NA=S.forwardRef(({bsPrefix:i,className:e,as:n,...s},o)=>{i=Re(i,"navbar-brand");const l=n||(s.href?"a":"span");return w.jsx(l,{...s,ref:o,className:Ee(e,i)})});NA.displayName="NavbarBrand";const DA=S.forwardRef(({children:i,bsPrefix:e,...n},s)=>{e=Re(e,"navbar-collapse");const o=S.useContext(Xo);return w.jsx(FS,{in:!!(o&&o.expanded),...n,children:w.jsx("div",{ref:s,className:e,children:i})})});DA.displayName="NavbarCollapse";const xA=S.forwardRef(({bsPrefix:i,className:e,children:n,label:s="Toggle navigation",as:o="button",onClick:l,...c},m)=>{i=Re(i,"navbar-toggler");const{onToggle:p,expanded:g}=S.useContext(Xo)||{},_=Yo(T=>{l&&l(T),p&&p()});return o==="button"&&(c.type="button"),w.jsx(o,{...c,ref:m,onClick:_,"aria-label":s,className:Ee(e,i,!g&&"collapsed"),children:n||w.jsx("span",{className:`${i}-icon`})})});xA.displayName="NavbarToggle";const Gp=new WeakMap,jT=(i,e)=>{if(!i||!e)return;const n=Gp.get(e)||new Map;Gp.set(e,n);let s=n.get(i);return s||(s=e.matchMedia(i),s.refCount=0,n.set(s.media,s)),s};function tD(i,e=typeof window>"u"?void 0:window){const n=jT(i,e),[s,o]=S.useState(()=>n?n.matches:!1);return AN(()=>{let l=jT(i,e);if(!l)return o(!1);let c=Gp.get(e);const m=()=>{o(l.matches)};return l.refCount++,l.addListener(m),m(),()=>{l.removeListener(m),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[i]),s}function nD(i){const e=Object.keys(i);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return e[Math.min(e.indexOf(m)+1,e.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(m,p,g){let _;typeof m=="object"?(_=m,g=p,p=!0):(p=p||!0,_={[m]:p});let T=S.useMemo(()=>Object.entries(_).reduce((b,[O,U])=>((U==="up"||U===!0)&&(b=n(b,l(O))),(U==="down"||U===!0)&&(b=n(b,o(O))),b),""),[JSON.stringify(_)]);return tD(T,g)}return c}const iD=nD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OA=S.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=Re(e,"offcanvas-body"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));OA.displayName="OffcanvasBody";const rD={[mi]:"show",[Tr]:"show"},MA=S.forwardRef(({bsPrefix:i,className:e,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...m},p)=>(i=Re(i,"offcanvas"),w.jsx(Vh,{ref:p,addEndListener:Og,in:s,mountOnEnter:o,unmountOnExit:l,appear:c,...m,childRef:Qo(n),children:(g,_)=>S.cloneElement(n,{..._,className:Ee(e,n.props.className,(g===mi||g===Au)&&`${i}-toggling`,rD[g])})})));MA.displayName="OffcanvasToggling";const VA=S.forwardRef(({bsPrefix:i,className:e,closeLabel:n="Close",closeButton:s=!1,...o},l)=>(i=Re(i,"offcanvas-header"),w.jsx(wA,{ref:l,...o,className:Ee(e,i),closeLabel:n,closeButton:s})));VA.displayName="OffcanvasHeader";const sD=Lh("h5"),LA=S.forwardRef(({className:i,bsPrefix:e,as:n=sD,...s},o)=>(e=Re(e,"offcanvas-title"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));LA.displayName="OffcanvasTitle";function aD(i){return w.jsx(MA,{...i})}function oD(i){return w.jsx(ih,{...i})}const kA=S.forwardRef(({bsPrefix:i,className:e,children:n,"aria-labelledby":s,placement:o="start",responsive:l,show:c=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:T,onHide:b,container:O,autoFocus:U=!0,enforceFocus:H=!0,restoreFocus:j=!0,restoreFocusOptions:Y,onEntered:ee,onExit:te,onExiting:oe,onEnter:de,onEntering:ie,onExited:I,backdropClassName:C,manager:D,renderStaticNode:L=!1,...M},P)=>{const N=S.useRef();i=Re(i,"offcanvas");const[Le,qe]=S.useState(!1),Q=Yo(b),se=iD(l||"xs","up");S.useEffect(()=>{qe(l?c&&!se:c)},[c,l,se]);const ce=S.useMemo(()=>({onHide:Q}),[Q]);function De(){return D||(g?(N.current||(N.current=new AA({handleContainerOverflow:!1})),N.current):eD())}const Fe=(le,...ye)=>{le&&(le.style.visibility="visible"),de?.(le,...ye)},V=(le,...ye)=>{le&&(le.style.visibility=""),I?.(...ye)},W=S.useCallback(le=>w.jsx("div",{...le,className:Ee(`${i}-backdrop`,C)}),[C,i]),ae=le=>w.jsx("div",{...le,...M,className:Ee(e,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:n});return w.jsxs(w.Fragment,{children:[!Le&&(l||L)&&ae({}),w.jsx(bA.Provider,{value:ce,children:w.jsx(XN,{show:Le,ref:P,backdrop:m,container:O,keyboard:p,autoFocus:U,enforceFocus:H&&!g,restoreFocus:j,restoreFocusOptions:Y,onEscapeKeyDown:_,onShow:T,onHide:Q,onEnter:Fe,onEntering:ie,onEntered:ee,onExit:te,onExiting:oe,onExited:V,manager:De(),transition:aD,backdropTransition:oD,renderBackdrop:W,renderDialog:ae})})]})});kA.displayName="Offcanvas";const lD=Object.assign(kA,{Body:OA,Header:VA,Title:LA}),PA=S.forwardRef(({onHide:i,...e},n)=>{const s=S.useContext(Xo),o=Yo(()=>{s==null||s.onToggle==null||s.onToggle(),i?.()});return w.jsx(lD,{ref:n,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});PA.displayName="NavbarOffcanvas";const UA=S.forwardRef(({className:i,bsPrefix:e,as:n="span",...s},o)=>(e=Re(e,"navbar-text"),w.jsx(n,{ref:o,className:Ee(i,e),...s})));UA.displayName="NavbarText";const jA=S.forwardRef((i,e)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:l,fixed:c,sticky:m,className:p,as:g="nav",expanded:_,onToggle:T,onSelect:b,collapseOnSelect:O=!1,...U}=xh(i,{expanded:"onToggle"}),H=Re(n,"navbar"),j=S.useCallback((...te)=>{b?.(...te),O&&_&&T?.(!1)},[b,O,_,T]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let Y=`${H}-expand`;typeof s=="string"&&(Y=`${Y}-${s}`);const ee=S.useMemo(()=>({onToggle:()=>T?.(!_),bsPrefix:H,expanded:!!_,expand:s}),[H,_,s,T]);return w.jsx(Xo.Provider,{value:ee,children:w.jsx(rh.Provider,{value:j,children:w.jsx(g,{ref:e,...U,className:Ee(p,H,s&&Y,o&&`${H}-${o}`,l&&`bg-${l}`,m&&`sticky-${m}`,c&&`fixed-${c}`)})})})});jA.displayName="Navbar";const Vf=Object.assign(jA,{Brand:NA,Collapse:DA,Offcanvas:PA,Text:UA,Toggle:xA}),Gi=S.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const l=Re(i,"row"),c=Ng(),m=Dg(),p=`${l}-cols`,g=[];return c.forEach(_=>{const T=s[_];delete s[_];let b;T!=null&&typeof T=="object"?{cols:b}=T:b=T;const O=_!==m?`-${_}`:"";b!=null&&g.push(`${p}${O}-${b}`)}),w.jsx(n,{ref:o,...s,className:Ee(e,l,...g)})});Gi.displayName="Row";function uD(i,e=zS,n=BS){const s=[];return Object.entries(i).forEach(([o,l])=>{l!=null&&(typeof l=="object"?e.forEach(c=>{const m=l[c];if(m!=null){const p=c!==n?`-${c}`:"";s.push(`${o}${p}-${m}`)}}):s.push(`${o}-${l}`))}),s}const xs=S.forwardRef(({as:i="div",bsPrefix:e,className:n,direction:s,gap:o,...l},c)=>{e=Re(e,s==="horizontal"?"hstack":"vstack");const m=Ng(),p=Dg();return w.jsx(i,{...l,ref:c,className:Ee(n,e,...uD({gap:o},m,p))})});xs.displayName="Stack";const cD=()=>{};var zT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fD=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let b=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(b=64)),s.push(n[_],n[T],n[b],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(zA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):fD(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new hD;const b=l<<2|m>>4;if(s.push(b),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dD=function(i){const e=zA(i);return BA.encodeByteArray(e,!0)},oh=function(i){return dD(i).replace(/\./g,"")},HA=function(i){try{return BA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>mD().__FIREBASE_DEFAULTS__,gD=()=>{if(typeof process>"u"||typeof zT>"u")return;const i=zT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&HA(i[1]);return e&&JSON.parse(e)},Bh=()=>{try{return cD()||pD()||gD()||yD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_D=i=>Bh()?.emulatorHosts?.[i],vD=i=>{const e=_D(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qA=()=>Bh()?.config,ED=i=>Bh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SD(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[oh(JSON.stringify(n)),oh(JSON.stringify(c)),""].join(".")}const gu={};function bD(){const i={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?i.emulator.push(e):i.prod.push(e);return i}function wD(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let BT=!1;function RD(i,e){if(typeof window>"u"||typeof document>"u"||!ju(window.location.host)||gu[i]===e||gu[i]||BT)return;gu[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=bD().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{BT=!0,c()},b}function _(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=wD(s),O=n("text"),U=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),j=document.getElementById(H)||document.createElement("a"),Y=n("preprendIcon"),ee=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const te=b.element;m(te),_(j,H);const oe=g();p(ee,Y),te.append(ee,U,j,oe),document.body.appendChild(te)}l?(U.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function ID(){const i=Bh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ND(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DD(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MD(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VD(){try{return typeof indexedDB=="object"}catch{return!1}}function LD(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FirebaseError";class Pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kD,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?PD(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Pr(o,m,s)}}function PD(i,e){return i.replace(UD,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UD=/\{\$([^}]+)}/g;function jD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function bu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(HT(l)&&HT(c)){if(!bu(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function HT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function fu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function zD(i,e){const n=new BD(i,e);return n.subscribe.bind(n)}class BD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HD(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(i){return i&&i._delegate?i._delegate:i}class wa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new TD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GD(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FD(i){return i===_a?void 0:i}function GD(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const KD={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},QD=ze.INFO,YD={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},XD=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=YD[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=QD,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const WD=(i,e)=>e.some(n=>i instanceof n);let qT,FT;function JD(){return qT||(qT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZD(){return FT||(FT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,$p=new WeakMap,GA=new WeakMap,Rp=new WeakMap,$g=new WeakMap;function e2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{n(Rs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&FA.set(n,i)}).catch(()=>{}),$g.set(e,i),e}function t2(i){if($p.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});$p.set(i,e)}let Kp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $p.get(i);if(e==="objectStoreNames")return i.objectStoreNames||GA.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function n2(i){Kp=i(Kp)}function i2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Cp(this),e,...n);return GA.set(s,e.sort?e.sort():[e]),Rs(s)}:ZD().includes(i)?function(...e){return i.apply(Cp(this),e),Rs(FA.get(this))}:function(...e){return Rs(i.apply(Cp(this),e))}}function r2(i){return typeof i=="function"?i2(i):(i instanceof IDBTransaction&&t2(i),WD(i,JD())?new Proxy(i,Kp):i)}function Rs(i){if(i instanceof IDBRequest)return e2(i);if(Rp.has(i))return Rp.get(i);const e=r2(i);return e!==i&&(Rp.set(i,e),$g.set(e,i)),e}const Cp=i=>$g.get(i);function s2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=Rs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const a2=["get","getKey","getAll","getAllKeys","count"],o2=["put","add","delete","clear"],Ip=new Map;function GT(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=o2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||a2.includes(n)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Ip.set(e,l),l}n2(i=>({...i,get:(e,n,s)=>GT(e,n)||i.get(e,n,s),has:(e,n)=>!!GT(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u2(i){return i.getComponent()?.type==="VERSION"}const Qp="@firebase/app",$T="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Gg("@firebase/app"),c2="@firebase/app-compat",f2="@firebase/analytics-compat",h2="@firebase/analytics",d2="@firebase/app-check-compat",m2="@firebase/app-check",p2="@firebase/auth",g2="@firebase/auth-compat",y2="@firebase/database",_2="@firebase/data-connect",v2="@firebase/database-compat",E2="@firebase/functions",T2="@firebase/functions-compat",S2="@firebase/installations",A2="@firebase/installations-compat",b2="@firebase/messaging",w2="@firebase/messaging-compat",R2="@firebase/performance",C2="@firebase/performance-compat",I2="@firebase/remote-config",N2="@firebase/remote-config-compat",D2="@firebase/storage",x2="@firebase/storage-compat",O2="@firebase/firestore",M2="@firebase/ai",V2="@firebase/firestore-compat",L2="firebase",k2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",P2={[Qp]:"fire-core",[c2]:"fire-core-compat",[h2]:"fire-analytics",[f2]:"fire-analytics-compat",[m2]:"fire-app-check",[d2]:"fire-app-check-compat",[p2]:"fire-auth",[g2]:"fire-auth-compat",[y2]:"fire-rtdb",[_2]:"fire-data-connect",[v2]:"fire-rtdb-compat",[E2]:"fire-fn",[T2]:"fire-fn-compat",[S2]:"fire-iid",[A2]:"fire-iid-compat",[b2]:"fire-fcm",[w2]:"fire-fcm-compat",[R2]:"fire-perf",[C2]:"fire-perf-compat",[I2]:"fire-rc",[N2]:"fire-rc-compat",[D2]:"fire-gcs",[x2]:"fire-gcs-compat",[O2]:"fire-fst",[V2]:"fire-fst-compat",[M2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,U2=new Map,Xp=new Map;function KT(i,e){try{i.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Po(i){const e=i.name;if(Xp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,i);for(const n of wu.values())KT(n,i);for(const n of U2.values())KT(n,i);return!0}function $A(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Cn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new zu("app","Firebase",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=k2;function KA(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(n||(n=qA()),!n)throw Cs.create("no-options");const l=wu.get(o);if(l){if(bu(n,l.options)&&bu(s,l.config))return l;throw Cs.create("duplicate-app",{appName:o})}const c=new $D(o);for(const p of Xp.values())c.addComponent(p);const m=new z2(n,s,c);return wu.set(o,m),m}function B2(i=Yp){const e=wu.get(i);if(!e&&i===Yp&&qA())return KA();if(!e)throw Cs.create("no-app",{appName:i});return e}function QT(){return Array.from(wu.values())}function Is(i,e,n){let s=P2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(c.join(" "));return}Po(new wa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firebase-heartbeat-database",q2=1,Ru="firebase-heartbeat-store";let Np=null;function QA(){return Np||(Np=s2(H2,q2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw Cs.create("idb-open",{originalErrorMessage:i.message})})),Np}async function F2(i){try{const n=(await QA()).transaction(Ru),s=await n.objectStore(Ru).get(YA(i));return await n.done,s}catch(e){if(e instanceof Pr)xr.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e?.message});xr.warn(n.message)}}}async function YT(i,e){try{const s=(await QA()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,YA(i)),await s.done}catch(n){if(n instanceof Pr)xr.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n?.message});xr.warn(s.message)}}}function YA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,$2=30;class K2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$2){const o=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XT(),{heartbeatsToSend:n,unsentEntries:s}=Q2(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xr.warn(e),""}}}function XT(){return new Date().toISOString().substring(0,10)}function Q2(i,e=G2){const n=[];let s=i.slice();for(const o of i){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),WT(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),WT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VD()?LD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function WT(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function X2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i){Po(new wa("platform-logger",e=>new l2(e),"PRIVATE")),Po(new wa("heartbeat",e=>new K2(e),"PRIVATE")),Is(Qp,$T,i),Is(Qp,$T,"esm2020"),Is("fire-js","")}W2("");var J2="firebase",Z2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(J2,Z2,"app");function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ex=XA,WA=new zu("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Gg("@firebase/auth");function tx(i,...e){lh.logLevel<=ze.WARN&&lh.warn(`Auth (${Wo}): ${i}`,...e)}function Ff(i,...e){lh.logLevel<=ze.ERROR&&lh.error(`Auth (${Wo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw Qg(i,...e)}function gi(i,...e){return Qg(i,...e)}function Kg(i,e,n){const s={...ex(),[e]:n};return new zu("auth","Firebase",s).create(e,{appName:i.name})}function Qi(i){return Kg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JA(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ti(i,"argument-error"),Kg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return WA.create(i,...e)}function we(i,e,...n){if(!i)throw Qg(e,...n)}function br(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ff(e),new Error(e)}function Or(i,e){i||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){return typeof self<"u"&&self.location?.href||""}function nx(){return JT()==="http:"||JT()==="https:"}function JT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nx()||DD()||"connection"in navigator)?navigator.onLine:!0}function rx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=CD()||xD()}get(){return ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e){Or(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ox=new Hu(3e4,6e4);function Us(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ur(i,e,n,s,o={}){return eb(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=Bu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return ND()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ju(i.emulatorConfig.host)&&(g.credentials="include"),ZA.fetch()(await tb(i,i.config.apiHost,n,m),g)})}async function eb(i,e,n){i._canInitEmulator=!1;const s={...sx,...e};try{const o=new ux(i),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Lf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Lf(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Kg(i,_,g);ti(i,_)}}catch(o){if(o instanceof Pr)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function qu(i,e,n,s,o={}){const l=await Ur(i,e,n,s,o);return"mfaPendingCredential"in l&&ti(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function tb(i,e,n,s){const o=`${e}${n}?${s}`,l=i,c=l.config.emulator?Yg(i.config,o):`${i.config.apiScheme}://${o}`;return ax.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function lx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),ox.get())})}}function Lf(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(i,e,s);return o.customData._tokenResponse=n,o}function ZT(i){return i!==void 0&&i.enterprise!==void 0}class cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fx(i,e){return Ur(i,"GET","/v2/recaptchaConfig",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(i,e){return Ur(i,"POST","/v1/accounts:delete",e)}async function uh(i,e){return Ur(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dx(i,e=!1){const n=Bt(i),s=await n.getIdToken(e),o=Xg(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:yu(Dp(o.auth_time)),issuedAtTime:yu(Dp(o.iat)),expirationTime:yu(Dp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Dp(i){return Number(i)*1e3}function Xg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const o=HA(n);return o?JSON.parse(o):(Ff("Failed to decode base64 JWT payload"),null)}catch(o){return Ff("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(i){const e=Xg(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Pr&&mx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function mx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(i){const e=i.auth,n=await i.getIdToken(),s=await Uo(i,uh(e,{idToken:n}));we(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?nb(o.providerUserInfo):[],c=yx(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function gx(i){const e=Bt(i);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e){const n=await eb(i,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await tb(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ju(i.emulatorConfig.host)&&(p.credentials="include"),ZA.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vx(i,e){return Ur(i,"POST","/v2/accounts:revokeToken",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await _x(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Mo;return s&&(we(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Uo(this,hx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:O,providerData:U,stsTokenManager:H}=n;we(T&&H,e,"internal-error");const j=Mo.fromJSON(this.name,H);we(typeof T=="string",e,"internal-error"),vs(s,e.name),vs(o,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof O=="boolean",e,"internal-error"),vs(l,e.name),vs(c,e.name),vs(m,e.name),vs(p,e.name),vs(g,e.name),vs(_,e.name);const Y=new pi({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:_});return U&&Array.isArray(U)&&(Y.providerData=U.map(ee=>({...ee}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Mo;o.updateFromServerResponse(n);const l=new pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?nb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Mo;m.updateFromIdToken(s);const p=new pi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function wr(i){Or(i instanceof Function,"Expected a class definition");let e=t0.get(i);return e?(Or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,t0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ib.type="NONE";const n0=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(i,e,n){return`firebase:${i}:${e}:${n}`}class Vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Gf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Gf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vo(wr(n0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||wr(n0);const c=Gf(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const b=await uh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await pi._fromGetAccountInfoResponse(e,b,_)}else T=pi._fromJSON(e,_);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Vo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Vo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ub(e))return"Blackberry";if(cb(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function rb(i=hn()){return/firefox\//i.test(i)}function sb(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(i=hn()){return/crios\//i.test(i)}function ob(i=hn()){return/iemobile/i.test(i)}function lb(i=hn()){return/android/i.test(i)}function ub(i=hn()){return/blackberry/i.test(i)}function cb(i=hn()){return/webos/i.test(i)}function Wg(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Ex(i=hn()){return Wg(i)&&!!window.navigator?.standalone}function Tx(){return OD()&&document.documentMode===10}function fb(i=hn()){return Wg(i)||lb(i)||cb(i)||ub(i)||/windows phone/i.test(i)||ob(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(i,e=[]){let n;switch(i){case"Browser":n=i0(hn());break;case"Worker":n=`${i0(hn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(i,e={}){return Ur(i,"GET","/v2/passwordPolicy",Us(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=6;class wx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new Sx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Qi(this));const n=e?Bt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ax(this),n=new wx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jr(i){return Bt(i)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zD(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cx(i){Hh=i}function db(i){return Hh.loadJS(i)}function Ix(){return Hh.recaptchaEnterpriseScript}function Nx(){return Hh.gapiScript}function Dx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class xx{constructor(){this.enterprise=new Ox}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ox{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Mx="recaptcha-enterprise",mb="NO_RECAPTCHA";class Vx{constructor(e){this.type=Mx,this.auth=jr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{fx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new cx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;ZT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(mb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&ZT(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ix();p.length!==0&&(p+=m),db(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function s0(i,e,n,s=!1,o=!1){const l=new Vx(i);let c;if(o)c=mb;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await s0(i,e,n,n==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await s0(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i,e){const n=$A(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(bu(l,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function kx(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function Px(i,e){return Ur(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(i,e){return qu(i,"POST","/v1/accounts:signInWithPassword",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(i,e){return qu(i,"POST","/v1/accounts:signInWithEmailLink",Us(i,e))}async function zx(i,e){return qu(i,"POST","/v1/accounts:signInWithEmailLink",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Jg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,n,"signInWithPassword",Ux);case"emailLink":return jx(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,s,"signUpPassword",Px);case"emailLink":return zx(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(i,e){return qu(i,"POST","/v1/accounts:signInWithIdp",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="http://localhost";class Ra extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new Ra(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:Bx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qx(i){const e=cu(fu(i)).link,n=e?cu(fu(e)).deep_link_id:null,s=cu(fu(i)).deep_link_id;return(s?cu(fu(s)).link:null)||s||n||e||i}class Zg{constructor(e){const n=cu(fu(e)),s=n.apiKey??null,o=n.oobCode??null,l=Hx(n.mode??null);we(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qx(e);try{return new Zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zg.parseLink(n);return we(s,"argument-error"),Cu._fromEmailAndCode(e,s.code,s.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends qh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Fu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Fu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Fu{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,e){return qu(i,"POST","/v1/accounts:signUp",Us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await pi._fromIdTokenResponse(e,s,o),c=a0(s);return new Ca({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=a0(s);return new Ca({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function a0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function pb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(i,l,e,s):l})}async function Gx(i,e,n=!1){const s=await Uo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ca._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,e,n=!1){const{auth:s}=i;if(Cn(s.app))return Promise.reject(Qi(s));const o="reauthenticate";try{const l=await Uo(i,pb(s,o,e,i),n);we(l.idToken,s,"internal-error");const c=Xg(l.idToken);we(c,s,"internal-error");const{sub:m}=c;return we(i.uid===m,s,"user-mismatch"),Ca._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(i,e,n=!1){if(Cn(i.app))return Promise.reject(Qi(i));const s="signIn",o=await pb(i,s,e),l=await Ca._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(l.user),l}async function Kx(i,e){return gb(jr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(i){const e=jr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qx(i,e,n){if(Cn(i.app))return Promise.reject(Qi(i));const s=jr(i),c=await Zp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yb(i),p}),m=await Ca._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function Yx(i,e,n){return Cn(i.app)?Promise.reject(Qi(i)):Kx(Bt(i),Jo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yb(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(i,e){return Ur(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Bt(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Uo(s,Xx(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function Jx(i,e,n,s){return Bt(i).onAuthStateChanged(e,n,s)}function Zx(i){return Bt(i).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1e3,tO=10;class vb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Tx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const nO=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Eb.type="SESSION";const Tb=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),p=await iO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=ey("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function sO(i){Yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function aO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oO(){return navigator?.serviceWorker?.controller||null}function lO(){return Sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firebaseLocalStorageDb",uO=1,dh="firebaseLocalStorage",bb="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(i,e){return i.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function cO(){const i=indexedDB.deleteDatabase(Ab);return new Gu(i).toPromise()}function eg(){const i=indexedDB.open(Ab,uO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(dh,{keyPath:bb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await cO(),e(await eg()))})})}async function o0(i,e,n){const s=Gh(i,!0).put({[bb]:e,value:n});return new Gu(s).toPromise()}async function fO(i,e){const n=Gh(i,!1).get(e),s=await new Gu(n).toPromise();return s===void 0?null:s.value}function l0(i,e){const n=Gh(i,!0).delete(e);return new Gu(n).toPromise()}const hO=800,dO=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(lO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await o0(e,hh,"1"),await l0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Gh(o,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const mO=wb;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,e){return e?wr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pO(i){return gb(i.auth,new ny(i),i.bypassAuthState)}function gO(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),$x(n,new ny(i),i.bypassAuthState)}async function yO(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),Gx(n,new ny(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pO;case"linkViaPopup":case"linkViaRedirect":return yO;case"reauthViaPopup":case"reauthViaRedirect":return gO;default:ti(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Hu(2e3,1e4);async function vO(i,e,n){if(Cn(i.app))return Promise.reject(gi(i,"operation-not-supported-in-this-environment"));const s=jr(i);JA(i,e,qh);const o=ty(s,n);return new Ea(s,"signInViaPopup",e,o).executeNotNull()}class Ea extends Rb{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_O.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="pendingRedirect",$f=new Map;class TO extends Rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const s=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(i,e){const n=Ib(e),s=Cb(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function AO(i,e){return Cb(i)._set(Ib(e),"true")}function bO(i,e){$f.set(i._key(),e)}function Cb(i){return wr(i._redirectPersistence)}function Ib(i){return Gf(EO,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(i,e,n){return wO(i,e,n)}async function wO(i,e,n){if(Cn(i.app))return Promise.reject(Qi(i));const s=jr(i);JA(i,e,qh),await s._initializationPromise;const o=ty(s,n);return await AO(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function RO(i,e){return await jr(i)._initializationPromise,Nb(i,e,!1)}async function Nb(i,e,n=!1){if(Cn(i.app))return Promise.reject(Qi(i));const s=jr(i),o=ty(s,e),c=await new TO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=600*1e3;class IO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Db(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CO&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Db({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function NO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(i,e={}){return Ur(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OO=/^https?/;async function MO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DO(i);for(const n of e)try{if(VO(n))return}catch{}ti(i,"unauthorized-domain")}function VO(i){const e=Wp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!OO.test(n))return!1;if(xO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Hu(3e4,6e4);function f0(){const i=Yi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function kO(i){return new Promise((e,n)=>{function s(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(gi(i,"network-request-failed"))},timeout:LO.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const o=Dx("iframefcb");return Yi()[o]=()=>{gapi.load?s():n(gi(i,"network-request-failed"))},db(`${Nx()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function PO(i){return Kf=Kf||kO(i),Kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Hu(5e3,15e3),jO="__/auth/iframe",zO="emulator/auth/iframe",BO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qO(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Yg(e,zO):`https://${i.config.authDomain}/${jO}`,s={apiKey:e.apiKey,appName:i.name,v:Wo},o=HO.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Bu(s).slice(1)}`}async function FO(i){const e=await PO(i),n=Yi().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:qO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BO,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=gi(i,"network-request-failed"),m=Yi().setTimeout(()=>{l(c)},UO.get());function p(){Yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,KO=600,QO="_blank",YO="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XO(i,e,n,s=$O,o=KO){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...GO,width:s.toString(),height:o.toString(),top:l,left:c},g=hn().toLowerCase();n&&(m=ab(g)?QO:n),rb(g)&&(e=e||YO,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[O,U])=>`${b}${O}=${U},`,"");if(Ex(g)&&m!=="_self")return WO(e||"",m),new h0(null);const T=window.open(e||"",m,_);we(T,i,"popup-blocked");try{T.focus()}catch{}return new h0(T)}function WO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="__/auth/handler",ZO="emulator/auth/handler",eM=encodeURIComponent("fac");async function d0(i,e,n,s,o,l){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Wo,eventId:o};if(e instanceof qh){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",jD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Fu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${eM}=${encodeURIComponent(p)}`:"";return`${tM(i)}?${Bu(m).slice(1)}${g}`}function tM({config:i}){return i.emulator?Yg(i,ZO):`https://${i.authDomain}/${JO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class nM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tb,this._completeRedirectFn=Nb,this._overrideRedirectResult=bO}async _openPopup(e,n,s,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await d0(e,n,s,Wp(),o);return XO(e,l,ey())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await d0(e,n,s,Wp(),o);return sO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Or(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FO(e),s=new IO(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xp,{type:xp},o=>{const l=o?.[0]?.[xp];l!==void 0&&n(!!l),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fb()||sb()||Wg()}}const iM=nM;var m0="@firebase/auth",p0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aM(i){Po(new wa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(i)},g=new Rx(s,o,l,p);return kx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new wa("auth-internal",e=>{const n=jr(e.getProvider("auth").getImmediate());return(s=>new rM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(m0,p0,sM(i)),Is(m0,p0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=300;ED("authIdTokenMaxAge");function lM(){return document.getElementsByTagName("head")?.[0]??document}Cx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=gi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",lM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aM("Browser");var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,xb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(L,M,P){for(var N=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)N[Le-2]=arguments[Le];return C.prototype[M].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,D){D||(D=0);const L=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)L[M]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(M=0;M<16;++M)L[M]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],M=I.g[2];let P=I.g[3],N;N=C+(P^D&(M^P))+L[0]+3614090360&4294967295,C=D+(N<<7&4294967295|N>>>25),N=P+(M^C&(D^M))+L[1]+3905402710&4294967295,P=C+(N<<12&4294967295|N>>>20),N=M+(D^P&(C^D))+L[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=D+(C^M&(P^C))+L[3]+3250441966&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(P^D&(M^P))+L[4]+4118548399&4294967295,C=D+(N<<7&4294967295|N>>>25),N=P+(M^C&(D^M))+L[5]+1200080426&4294967295,P=C+(N<<12&4294967295|N>>>20),N=M+(D^P&(C^D))+L[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=D+(C^M&(P^C))+L[7]+4249261313&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(P^D&(M^P))+L[8]+1770035416&4294967295,C=D+(N<<7&4294967295|N>>>25),N=P+(M^C&(D^M))+L[9]+2336552879&4294967295,P=C+(N<<12&4294967295|N>>>20),N=M+(D^P&(C^D))+L[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=D+(C^M&(P^C))+L[11]+2304563134&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(P^D&(M^P))+L[12]+1804603682&4294967295,C=D+(N<<7&4294967295|N>>>25),N=P+(M^C&(D^M))+L[13]+4254626195&4294967295,P=C+(N<<12&4294967295|N>>>20),N=M+(D^P&(C^D))+L[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=D+(C^M&(P^C))+L[15]+1236535329&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(M^P&(D^M))+L[1]+4129170786&4294967295,C=D+(N<<5&4294967295|N>>>27),N=P+(D^M&(C^D))+L[6]+3225465664&4294967295,P=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(P^C))+L[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=D+(P^C&(M^P))+L[0]+3921069994&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^P&(D^M))+L[5]+3593408605&4294967295,C=D+(N<<5&4294967295|N>>>27),N=P+(D^M&(C^D))+L[10]+38016083&4294967295,P=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(P^C))+L[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=D+(P^C&(M^P))+L[4]+3889429448&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^P&(D^M))+L[9]+568446438&4294967295,C=D+(N<<5&4294967295|N>>>27),N=P+(D^M&(C^D))+L[14]+3275163606&4294967295,P=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(P^C))+L[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=D+(P^C&(M^P))+L[8]+1163531501&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^P&(D^M))+L[13]+2850285829&4294967295,C=D+(N<<5&4294967295|N>>>27),N=P+(D^M&(C^D))+L[2]+4243563512&4294967295,P=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(P^C))+L[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=D+(P^C&(M^P))+L[12]+2368359562&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(D^M^P)+L[5]+4294588738&4294967295,C=D+(N<<4&4294967295|N>>>28),N=P+(C^D^M)+L[8]+2272392833&4294967295,P=C+(N<<11&4294967295|N>>>21),N=M+(P^C^D)+L[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=D+(M^P^C)+L[14]+4259657740&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^P)+L[1]+2763975236&4294967295,C=D+(N<<4&4294967295|N>>>28),N=P+(C^D^M)+L[4]+1272893353&4294967295,P=C+(N<<11&4294967295|N>>>21),N=M+(P^C^D)+L[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=D+(M^P^C)+L[10]+3200236656&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^P)+L[13]+681279174&4294967295,C=D+(N<<4&4294967295|N>>>28),N=P+(C^D^M)+L[0]+3936430074&4294967295,P=C+(N<<11&4294967295|N>>>21),N=M+(P^C^D)+L[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=D+(M^P^C)+L[6]+76029189&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^P)+L[9]+3654602809&4294967295,C=D+(N<<4&4294967295|N>>>28),N=P+(C^D^M)+L[12]+3873151461&4294967295,P=C+(N<<11&4294967295|N>>>21),N=M+(P^C^D)+L[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=D+(M^P^C)+L[2]+3299628645&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(M^(D|~P))+L[0]+4096336452&4294967295,C=D+(N<<6&4294967295|N>>>26),N=P+(D^(C|~M))+L[7]+1126891415&4294967295,P=C+(N<<10&4294967295|N>>>22),N=M+(C^(P|~D))+L[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=D+(P^(M|~C))+L[5]+4237533241&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~P))+L[12]+1700485571&4294967295,C=D+(N<<6&4294967295|N>>>26),N=P+(D^(C|~M))+L[3]+2399980690&4294967295,P=C+(N<<10&4294967295|N>>>22),N=M+(C^(P|~D))+L[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=D+(P^(M|~C))+L[1]+2240044497&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~P))+L[8]+1873313359&4294967295,C=D+(N<<6&4294967295|N>>>26),N=P+(D^(C|~M))+L[15]+4264355552&4294967295,P=C+(N<<10&4294967295|N>>>22),N=M+(C^(P|~D))+L[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=D+(P^(M|~C))+L[13]+1309151649&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~P))+L[4]+4149444226&4294967295,C=D+(N<<6&4294967295|N>>>26),N=P+(D^(C|~M))+L[11]+3174756917&4294967295,P=C+(N<<10&4294967295|N>>>22),N=M+(C^(P|~D))+L[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=D+(P^(M|~C))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,L=this.C;let M=this.h,P=0;for(;P<C;){if(M==0)for(;P<=D;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<C;)if(L[M++]=I.charCodeAt(P++),M==this.blockSize){o(this,L),M=0;break}}else for(;P<C;)if(L[M++]=I[P++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)I[C++]=this.g[D]>>>L&255;return I};function l(I,C){var D=m;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function c(I,C){this.h=C;const D=[];let L=!0;for(let M=I.length-1;M>=0;M--){const P=I[M]|0;L&&P==C||(D[M]=P,L=!1)}this.g=D}var m={};function p(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return j(g(-I));const C=[];let D=1;for(let L=0;I>=D;L++)C[L]=I/D|0,D*=4294967296;return new c(C,0)}function _(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return j(_(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(C,8));let L=T;for(let P=0;P<I.length;P+=8){var M=Math.min(8,I.length-P);const N=parseInt(I.substring(P,P+M),C);M<8?(M=g(Math.pow(C,M)),L=L.j(M).add(g(N))):(L=L.j(D),L=L.add(g(N)))}return L}var T=p(0),b=p(1),O=p(16777216);i=c.prototype,i.m=function(){if(H(this))return-j(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);I+=(L>=0?L:4294967296+L)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(H(this))return"-"+j(this).toString(I);const C=g(Math.pow(I,6));var D=this;let L="";for(;;){const M=oe(D,C).g;D=Y(D,M.j(C));let P=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=M,U(D))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function H(I){return I.h==-1}i.l=function(I){return I=Y(this,I),H(I)?-1:U(I)?0:1};function j(I){const C=I.g.length,D=[];for(let L=0;L<C;L++)D[L]=~I.g[L];return new c(D,~I.h).add(b)}i.abs=function(){return H(this)?j(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let L=0;for(let M=0;M<=C;M++){let P=L+(this.i(M)&65535)+(I.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);L=N>>>16,P&=65535,N&=65535,D[M]=N<<16|P}return new c(D,D[D.length-1]&-2147483648?-1:0)};function Y(I,C){return I.add(j(C))}i.j=function(I){if(U(this)||U(I))return T;if(H(this))return H(I)?j(this).j(j(I)):j(j(this).j(I));if(H(I))return j(this.j(j(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var L=0;L<2*C;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<I.g.length;M++){const P=this.i(L)>>>16,N=this.i(L)&65535,Le=I.i(M)>>>16,qe=I.i(M)&65535;D[2*L+2*M]+=N*qe,ee(D,2*L+2*M),D[2*L+2*M+1]+=P*qe,ee(D,2*L+2*M+1),D[2*L+2*M+1]+=N*Le,ee(D,2*L+2*M+1),D[2*L+2*M+2]+=P*Le,ee(D,2*L+2*M+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new c(D,0)};function ee(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function te(I,C){this.g=I,this.h=C}function oe(I,C){if(U(C))throw Error("division by zero");if(U(I))return new te(T,T);if(H(I))return C=oe(j(I),C),new te(j(C.g),j(C.h));if(H(C))return C=oe(I,j(C)),new te(j(C.g),C.h);if(I.g.length>30){if(H(I)||H(C))throw Error("slowDivide_ only works with positive integers.");for(var D=b,L=C;L.l(I)<=0;)D=de(D),L=de(L);var M=ie(D,1),P=ie(L,1);for(L=ie(L,2),D=ie(D,2);!U(L);){var N=P.add(L);N.l(I)<=0&&(M=M.add(D),P=N),L=ie(L,1),D=ie(D,1)}return C=Y(I,M.j(C)),new te(M,C)}for(M=T;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=g(D),N=P.j(C);H(N)||N.l(I)>0;)D-=L,P=g(D),N=P.j(C);U(P)&&(P=b),M=M.add(P),I=Y(I,N)}return new te(M,I)}i.B=function(I){return oe(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)&I.i(L);return new c(D,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)|I.i(L);return new c(D,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)^I.i(L);return new c(D,this.h^I.h)};function de(I){const C=I.g.length+1,D=[];for(let L=0;L<C;L++)D[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(D,I.h)}function ie(I,C){const D=C>>5;C%=32;const L=I.g.length-D,M=[];for(let P=0;P<L;P++)M[P]=C>0?I.i(P+D)>>>C|I.i(P+D+1)<<32-C:I.i(P+D);return new c(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,xb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ns=c}).apply(typeof g0<"u"?g0:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ob,hu,Mb,Qf,tg,Vb,Lb,kb;(function(){var i,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(f,y){if(y)e:{var E=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var B=f[R];if(!(B in E))break e;E=E[B]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,E){return f.call.apply(f.bind,arguments)}function g(f,y,E){return g=p,g.apply(null,arguments)}function _(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function T(f,y){function E(){}E.prototype=y.prototype,f.Z=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,B,$){for(var ue=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ue[xe-2]=arguments[xe];return y.prototype[B].apply(R,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function O(f){const y=f.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function U(f,y){for(let R=1;R<arguments.length;R++){const B=arguments[R];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=f.length||0;const $=B.length||0;f.length=E+$;for(let ue=0;ue<$;ue++)f[E+ue]=B[ue]}else f.push(B)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(f){c.setTimeout(()=>{throw f},0)}function Y(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const R=te.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var te=new H(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ie=!1,I=new ee,C=()=>{const f=Promise.resolve(void 0);de=()=>{f.then(D)}};function D(){for(var f;f=Y();){try{f.h.call(f.g)}catch(E){j(E)}var y=te;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ie=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f})();function N(f){return/^[\s\xa0]*$/.test(f)}function Le(f,y){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}T(Le,M),Le.prototype.init=function(f,y){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(f,y,E,R,B){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function Fe(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function V(f){const y={};for(const E in f)y[E]=f[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(f,y){let E,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(E in R)f[E]=R[E];for(let $=0;$<W.length;$++)E=W[$],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function le(f){this.src=f,this.g={},this.h=0}le.prototype.add=function(f,y,E,R,B){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ue=be(f,y,R,B);return ue>-1?(y=f[ue],E||(y.fa=!1)):(y=new se(y,this.src,$,!!R,B),y.fa=E,f.push(y)),y};function ye(f,y){const E=y.type;if(E in f.g){var R=f.g[E],B=Array.prototype.indexOf.call(R,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(R,B,1),$&&(ce(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function be(f,y,E,R){for(let B=0;B<f.length;++B){const $=f[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==R)return B}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ut={};function Ze(f,y,E,R,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Ze(f,y[$],E,R,B);return null}return E=Bs(E),f&&f[qe]?f.J(y,E,m(R)?!!R.capture:!1,B):Ae(f,y,E,!1,R,B)}function Ae(f,y,E,R,B,$){if(!y)throw Error("Invalid event type");const ue=m(B)?!!B.capture:!!B;let xe=on(f);if(xe||(f[Ve]=xe=new le(f)),E=xe.add(y,E,R,ue,$),E.proxy)return E;if(R=Qe(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)P||(B=ue),B===void 0&&(B=!1),f.addEventListener(y.toString(),R,B);else if(f.attachEvent)f.attachEvent(Et(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qe(){function f(E){return y.call(f.src,f.listener,E)}const y=Ke;return f}function ct(f,y,E,R,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)ct(f,y[$],E,R,B);else R=m(R)?!!R.capture:!!R,E=Bs(E),f&&f[qe]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],E=be(y,E,R,B),E>-1&&(ce(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=on(f))&&(y=f.g[y.toString()],f=-1,y&&(f=be(y,E,R,B)),(E=f>-1?y[f]:null)&&Ht(E))}function Ht(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[qe])ye(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(Et(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=on(y))?(ye(E,f),E.h==0&&(E.src=null,y[Ve]=null)):ce(f)}}}function Et(f){return f in ut?ut[f]:ut[f]="on"+f}function Ke(f,y){if(f.da)f=!0;else{y=new Le(y,this);const E=f.listener,R=f.ha||f.src;f.fa&&Ht(f),f=E.call(R,y)}return f}function on(f){return f=f[Ve],f instanceof le?f:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bs(f){return typeof f=="function"?f:(f[dn]||(f[dn]=function(y){return f.handleEvent(y)}),f[dn])}function Nt(){L.call(this),this.i=new le(this),this.M=this,this.G=null}T(Nt,L),Nt.prototype[qe]=!0,Nt.prototype.removeEventListener=function(f,y,E,R){ct(this,f,y,E,R)};function qt(f,y){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new M(y,f);else if(y instanceof M)y.target=y.target||f;else{var B=y;y=new M(R,f),ae(y,B)}B=!0;let $,ue;if(E)for(ue=E.length-1;ue>=0;ue--)$=y.g=E[ue],B=zr($,R,!0,y)&&B;if($=y.g=f,B=zr($,R,!0,y)&&B,B=zr($,R,!1,y)&&B,E)for(ue=0;ue<E.length;ue++)$=y.g=E[ue],B=zr($,R,!1,y)&&B}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const E=f.g[y];for(let R=0;R<E.length;R++)ce(E[R]);delete f.g[y],f.h--}}this.G=null},Nt.prototype.J=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},Nt.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function zr(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const ue=y[$];if(ue&&!ue.da&&ue.capture==E){const xe=ue.listener,wt=ue.ha||ue.src;ue.fa&&ye(f.i,ue),B=xe.call(wt,R)!==!1&&B}}return B&&!R.defaultPrevented}function cd(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function nc(f){f.g=cd(()=>{f.g=null,f.i&&(f.i=!1,nc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class mn extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(f){L.call(this),this.h=f,this.g={}}T(Hs,L);var il=[];function rl(f){De(f.g,function(y,E){this.g.hasOwnProperty(E)&&Ht(y)},f),f.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),rl(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=c.JSON.stringify,fd=c.JSON.parse,ic=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function rc(){}function sc(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){M.call(this,"d")}T(Wt,M);function Bn(){M.call(this,"c")}T(Bn,M);var bt={},ac=null;function Va(){return ac=ac||new Nt}bt.Ia="serverreachability";function oc(f){M.call(this,bt.Ia,f)}T(oc,M);function Ti(f){const y=Va();qt(y,new oc(y))}bt.STAT_EVENT="statevent";function qs(f,y){M.call(this,bt.STAT_EVENT,f),this.stat=y}T(qs,M);function Dt(f){const y=Va();qt(y,new qs(y,f))}bt.Ja="timingevent";function Si(f,y){M.call(this,bt.Ja,f),this.size=y}T(Si,M);function Ai(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function hd(f,y,E,R,B,$){f.info(function(){if(f.g)if($){var ue="",xe=$.split("&");for(let We=0;We<xe.length;We++){var wt=xe[We].split("=");if(wt.length>1){const pt=wt[0];wt=wt[1];const Gn=pt.split("_");ue=Gn.length>=2&&Gn[1]=="type"?ue+(pt+"="+wt+"&"):ue+(pt+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+y+`
`+E+`
`+ue})}function lc(f,y,E,R,B,$,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+ue})}function bi(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+dd(f,E)+(R?" "+R:"")})}function Fs(f,y){f.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function dd(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var B=R[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Br($)}catch{return y}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function $s(){}T($s,rc),$s.prototype.g=function(){return new XMLHttpRequest},al=new $s;function nr(f){return encodeURIComponent(String(f))}function uc(f){var y=1;f=f.split(":");const E=[];for(;y>0&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function ri(f,y,E,R){this.j=f,this.i=y,this.l=E,this.S=R||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var xt={},Kt={};function wi(f,y,E){f.M=1,f.A=Ks(Mt(y)),f.u=E,f.R=!0,La(f,null)}function La(f,y){f.F=Date.now(),Ri(f),f.B=Mt(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),ja(E.i,"t",R),f.C=0,E=f.j.L,f.h=new si,f.g=bc(f.j,E?y:null,!f.u),f.P>0&&(f.O=new mn(g(f.Y,f,f.g),f.P)),y=f.V,E=f.g,R=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(il[0]=B.toString()),B=il);for(let $=0;$<B.length;$++){const ue=Ze(E,B[$],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=f.J?V(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Ti(),hd(f.i,f.v,f.B,f.l,f.S,f.u)}ri.prototype.ba=function(f){f=f.target;const y=this.O;y&&li(f)==3?y.j():this.Y(f)},ri.prototype.Y=function(f){try{if(f==this.g)e:{const xe=li(this.g),wt=this.g.ya(),We=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||xe!=4||wt==7||(wt==8||We<=0?Ti(3):Ti(2)),Ci(this);var y=this.g.ca();this.X=y;var E=md(this);if(this.o=y==200,lc(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,B=this.g;if((R=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var $=R;break t}}$=null}if(f=$)bi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,f);else{this.o=!1,this.m=3,Dt(12),xn(this),Hn(this);break e}}if(this.R){f=!0;let pt;for(;!this.K&&this.C<E.length;)if(pt=fc(this,E),pt==Kt){xe==4&&(this.m=4,Dt(14),f=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==xt){this.m=4,Dt(15),bi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else bi(this.i,this.l,pt,null),Ii(this,pt);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)bi(this.i,this.l,E,"[Invalid Chunked Response]"),xn(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Tl(ue),ue.P=!0,Dt(11))}}else bi(this.i,this.l,E,null),Ii(this,E);xe==4&&xn(this),this.o&&!this.K&&(xe==4?Ec(this.j,this):(this.o=!1,Ri(this)))}else rr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),xn(this),Hn(this)}}}catch{}finally{}};function md(f){if(!cc(f))return f.g.la();const y=Jt(f.g);if(y==="")return"";let E="";const R=y.length,B=li(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xn(f),Hn(f),"";f.h.i=new c.TextDecoder}for(let $=0;$<R;$++)f.h.h=!0,E+=f.h.i.decode(y[$],{stream:!(B&&$==R-1)});return y.length=0,f.h.g+=E,f.C=0,f.h.g}function cc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function fc(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?Kt:(E=Number(y.substring(E,R)),isNaN(E)?xt:(R+=1,R+E>y.length?Kt:(y=y.slice(R,R+E),f.C=R+E,y)))}ri.prototype.cancel=function(){this.K=!0,xn(this)};function Ri(f){f.T=Date.now()+f.H,ka(f,f.H)}function ka(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ai(g(f.aa,f),y)}function Ci(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ri.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Fs(this.i,this.B),this.M!=2&&(Ti(),Dt(17)),xn(this),this.m=2,Hn(this)):ka(this,this.T-f)};function Hn(f){f.j.I==0||f.K||Ec(f.j,f)}function xn(f){Ci(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,rl(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Ii(f,y){try{var E=f.j;if(E.I!=0&&(E.g==f||Di(E.h,f))){if(!f.L&&Di(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Fa(E),Yr(E);else break e;ea(E),Dt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(g(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((f.L||E.g==f)&&Fa(E),!N(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let We=B[y];const pt=We[0];if(!(pt<=E.K))if(E.K=pt,We=We[1],E.I==2)if(We[0]=="c"){E.M=We[1],E.ba=We[2];const Gn=We[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const Pi=We[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const ui=We[5];ui!=null&&typeof ui=="number"&&ui>0&&(R=1.5*ui,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ci=f.g;if(ci){const ta=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var $=R.h;$.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ul($,$.h),$.h=null))}if(R.G){const Ga=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(R.wa=Ga,tt(R.J,R.G,Ga))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ue=f;if(R.na=Ac(R,R.L?R.ba:null,R.W),ue.L){cl(R.h,ue);var xe=ue,wt=R.O;wt&&(xe.H=wt),xe.D&&(Ci(xe),Ri(xe)),R.g=ue}else _c(R);E.i.length>0&&Li(E)}else We[0]!="stop"&&We[0]!="close"||ki(E,7);else E.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ki(E,7):vl(E):We[0]!="noop"&&E.l&&E.l.qa(We),E.A=0)}}Ti(4)}catch{}}var Ot=class{constructor(f,y){this.g=f,this.map=y}};function ol(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ni(f){return f.h?1:f.g?f.g.size:0}function Di(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ul(f,y){f.g?f.g.add(y):f.h=y}function cl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.G);return y}return O(f.i)}var hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(f,y){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let B,$=null;R>=0?(B=f[E].substring(0,R),$=f[E].substring(R+1)):B=f[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function On(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof On?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,Hr(this,f.u),this.h=f.h,hl(this,gc(f.i)),this.m=f.m):f&&(y=String(f).match(hc))?(this.l=!1,Qt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Hr(this,y[4]),this.h=xi(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}On.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Qs(y,Ua,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Qs(y,Ua,!0),"@"),f.push(nr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Qs(E,E.charAt(0)=="/"?dl:dc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Qs(E,mc)),f.join("")},On.prototype.resolve=function(f){const y=Mt(this);let E=!!f.j;E?Qt(y,f.j):E=!!f.o,E?y.o=f.o:E=!!f.g,E?y.g=f.g:E=f.u!=null;var R=f.h;if(E)Hr(y,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var B=y.h.lastIndexOf("/");B!=-1&&(R=y.h.slice(0,B+1)+R)}if(B=R,B==".."||B==".")R="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){R=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let ue=0;ue<B.length;){const xe=B[ue++];xe=="."?R&&ue==B.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),R&&ue==B.length&&$.push("")):($.push(xe),R=!0)}R=$.join("/")}else R=B}return E?y.h=R:E=f.i.toString()!=="",E?hl(y,gc(f.i)):E=!!f.m,E&&(y.m=f.m),y};function Mt(f){return new On(f)}function Qt(f,y,E){f.j=E?xi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Hr(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function hl(f,y,E){y instanceof Fr?(f.i=y,za(f.i,f.l)):(E||(y=Qs(y,qr)),f.i=new Fr(y,f.l))}function tt(f,y,E){f.i.set(y,E)}function Ks(f){return tt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,_n),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _n(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ua=/[#\/\?@]/g,dc=/[#\?:]/g,dl=/[#\?]/g,qr=/[#\?@]/g,mc=/#/g;function Fr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Pa(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Fr.prototype,i.add=function(f,y){vn(this),this.i=null,f=Gr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function pc(f,y){vn(f),y=Gr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ml(f,y){return vn(f),y=Gr(f,y),f.g.has(y)}i.forEach=function(f,y){vn(this),this.g.forEach(function(E,R){E.forEach(function(B){f.call(y,B,R,this)},this)},this)};function pl(f,y){vn(f);let E=[];if(typeof y=="string")ml(f,y)&&(E=E.concat(f.g.get(Gr(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)E=E.concat(f[y]);return E}i.set=function(f,y){return vn(this),this.i=null,f=Gr(this,f),ml(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=pl(this,f),f.length>0?String(f[0]):y):y};function ja(f,y,E){pc(f,y),E.length>0&&(f.i=null,f.g.set(Gr(f,y),O(E)),f.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const B=nr(E);E=pl(this,E);for(let $=0;$<E.length;$++){let ue=B;E[$]!==""&&(ue+="="+nr(E[$])),f.push(ue)}}return this.i=f.join("&")};function gc(f){const y=new Fr;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Gr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function za(f,y){y&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(E,R){const B=R.toLowerCase();R!=B&&(pc(this,R),ja(this,B,E))},f)),f.j=y}function ai(f,y){const E=new ii;if(c.Image){const R=new Image;R.onload=_(qn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=_(qn,E,"TestLoadImage: error",!1,y,R),R.onabort=_(qn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=_(qn,E,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function gl(f,y){const E=new ii,R=new AbortController,B=setTimeout(()=>{R.abort(),qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then($=>{clearTimeout(B),$.ok?qn(E,"TestPingServer: ok",!0,y):qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),qn(E,"TestPingServer: error",!1,y)})}function qn(f,y,E,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(E)}catch{}}function $r(){this.g=new ic}function Oi(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Oi,rc),Oi.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(f,y){Nt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ys,Nt),i=Ys.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,oi(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Kr(this):oi(this),this.readyState==3&&Ba(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,Kr(this))},i.Na=function(f){this.g&&(this.response=f,Kr(this))},i.ga=function(){this.g&&Kr(this)};function Kr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,oi(f)}i.setRequestHeader=function(f,y){this.A.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function oi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fn(f){let y="";return De(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Xs(f,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Fn(E),typeof f=="string"?E!=null&&nr(E):tt(f,y,E))}function rt(f){Nt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(rt,Nt);var Mi=/^https?$/i,yl=["POST","PUT"];i=rt.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){Ws(this,$);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)E.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())E.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(yl,y,void 0)>=0)||R||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of E)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ws(this,$)}};function Ws(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,_l(f),ir(f)}function _l(f){f.A||(f.A=!0,qt(f,"complete"),qt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qt(this,"complete"),qt(this,"abort"),ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},i.Xa=function(){Js(this)};function Js(f){if(f.h&&typeof l<"u"){if(f.v&&li(f)==4)setTimeout(f.Ca.bind(f),0);else if(qt(f,"readystatechange"),li(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=$===0){let ue=String(f.D).match(hc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!Mi.test(ue?ue.toLowerCase():"")}E=R}if(E)qt(f,"complete"),qt(f,"success");else{f.o=6;try{var B=li(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",_l(f)}}finally{ir(f)}}}}function ir(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,y||qt(f,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function li(f){return f.g?f.g.readyState:0}i.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),fd(y)}};function Jt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function rr(f){const y={};f=(f.g&&li(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(N(f[R]))continue;var E=uc(f[R]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}Fe(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Qr(f){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,f),this.Za=Vi("retryDelaySeedMs",1e4,f),this.Ta=Vi("forwardChannelMaxRetries",2,f),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(f&&f.concurrentRequestLimit),this.Ba=new $r,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qr.prototype,i.ka=8,i.I=1,i.connect=function(f,y,E,R){Dt(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Ac(this,null,this.W),Li(this)};function vl(f){if(Ha(f),f.I==3){var y=f.V++,E=Mt(f.J);if(tt(E,"SID",f.M),tt(E,"RID",y),tt(E,"TYPE","terminate"),Zs(f,E),y=new ri(f,f.j,y),y.M=2,y.A=Ks(Mt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=bc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}Sc(f)}function Yr(f){f.g&&(Tl(f),f.g.cancel(),f.g=null)}function Ha(f){Yr(f),f.v&&(c.clearTimeout(f.v),f.v=null),Fa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Li(f){if(!ll(f.h)&&!f.m){f.m=!0;var y=f.Ea;de||C(),ie||(de(),ie=!0),I.add(y,f),f.D=0}}function qa(f,y){return Ni(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ai(g(f.Ea,f,y),Tc(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new ri(this,this.j,f);let $=this.o;if(this.U&&($?($=V($),ae($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=yc(this,B,y),E=Mt(this.J),tt(E,"RID",f),tt(E,"CVER",22),this.G&&tt(E,"X-HTTP-Session-Id",this.G),Zs(this,E),$&&(this.R?y="headers="+nr(Fn($))+"&"+y:this.u&&Xs(E,this.u,$)),ul(this.h,B),this.Ra&&tt(E,"TYPE","init"),this.S?(tt(E,"$req",y),tt(E,"SID","null"),B.U=!0,wi(B,E,null)):wi(B,E,y),this.I=2}}else this.I==3&&(f?El(this,f):this.i.length==0||ll(this.h)||El(this))};function El(f,y){var E;y?E=y.l:E=f.V++;const R=Mt(f.J);tt(R,"SID",f.M),tt(R,"RID",E),tt(R,"AID",f.K),Zs(f,R),f.u&&f.o&&Xs(R,f.u,f.o),E=new ri(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),y&&(f.i=y.G.concat(f.i)),y=yc(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ul(f.h,E),wi(E,R,y)}function Zs(f,y){f.H&&De(f.H,function(E,R){tt(y,R,E)}),f.l&&De({},function(E,R){tt(y,R,E)})}function yc(f,y,E){E=Math.min(f.i.length,E);const R=f.l?g(f.l.Ka,f.l,f):null;e:{var B=f.i;let xe=-1;for(;;){const wt=["count="+E];xe==-1?E>0?(xe=B[0].g,wt.push("ofs="+xe)):xe=0:wt.push("ofs="+xe);let We=!0;for(let pt=0;pt<E;pt++){var $=B[pt].g;const Gn=B[pt].map;if($-=xe,$<0)xe=Math.max(0,B[pt].g-100),We=!1;else try{$="req"+$+"_"||"";try{var ue=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Pi,ui]of ue){let ci=ui;m(ui)&&(ci=Br(ui)),wt.push($+Pi+"="+encodeURIComponent(ci))}}catch(Pi){throw wt.push($+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(Gn)}}if(We){ue=wt.join("&");break e}}ue=void 0}return f=f.i.splice(0,E),y.G=f,ue}function _c(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;de||C(),ie||(de(),ie=!0),I.add(y,f),f.A=0}}function ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ai(g(f.Da,f),Tc(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,vc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ai(g(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Yr(this),vc(this))};function Tl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function vc(f){f.g=new ri(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Mt(f.na);tt(y,"RID","rpc"),tt(y,"SID",f.M),tt(y,"AID",f.K),tt(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&tt(y,"TO",f.ia),tt(y,"TYPE","xmlhttp"),Zs(f,y),f.u&&f.o&&Xs(y,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ks(Mt(y)),E.u=null,E.R=!0,La(E,f)}i.Va=function(){this.C!=null&&(this.C=null,Yr(this),ea(this),Dt(19))};function Fa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ec(f,y){var E=null;if(f.g==y){Fa(f),Tl(f),f.g=null;var R=2}else if(Di(f.h,y))E=y.G,cl(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=f.D;R=Va(),qt(R,new Si(R,E)),Li(f)}else _c(f);else if(B=y.m,B==3||B==0&&y.X>0||!(R==1&&qa(f,y)||R==2&&ea(f)))switch(E&&E.length>0&&(y=f.h,y.i=y.i.concat(E)),B){case 1:ki(f,5);break;case 4:ki(f,10);break;case 3:ki(f,6);break;default:ki(f,2)}}}function Tc(f,y){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*y}function ki(f,y){if(f.j.info("Error code "+y),y==2){var E=g(f.bb,f),R=f.Ua;const B=!R;R=new On(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(R,"https"),Ks(R),B?ai(R.toString(),E):gl(R.toString(),E)}else Dt(2);f.I=0,f.l&&f.l.pa(y),Sc(f),Ha(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Sc(f){if(f.I=0,f.ja=[],f.l){const y=fl(f.h);(y.length!=0||f.i.length!=0)&&(U(f.ja,y),U(f.ja,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.oa()}}function Ac(f,y,E){var R=E instanceof On?Mt(E):new On(E);if(R.g!="")y&&(R.g=y+"."+R.g),Hr(R,R.u);else{var B=c.location;R=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new On(null);R&&Qt($,R),y&&($.g=y),B&&Hr($,B),E&&($.h=E),R=$}return E=f.G,y=f.wa,E&&y&&tt(R,E,y),tt(R,"VER",f.ka),Zs(f,R),R}function bc(f,y,E){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new rt(new Oi({ab:E})):new rt(f.ma),y.Fa(f.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}i=wc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Xr(){}Xr.prototype.g=function(f,y){return new pn(f,y)};function pn(f,y){Nt.call(this),this.g=new Qr(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!N(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new sr(this)}T(pn,Nt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){vl(this.g)},pn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Br(f),f=E);y.i.push(new Ot(y.Ya++,f)),y.I==3&&Li(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,pn.Z.N.call(this)};function Rc(f){Wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}T(Rc,Wt);function Cc(){Bn.call(this),this.status=1}T(Cc,Bn);function sr(f){this.g=f}T(sr,wc),sr.prototype.ra=function(){qt(this.g,"a")},sr.prototype.qa=function(f){qt(this.g,new Rc(f))},sr.prototype.pa=function(f){qt(this.g,new Cc)},sr.prototype.oa=function(){qt(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,kb=function(){return new Xr},Lb=function(){return Va()},Vb=bt,tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Qf=Gs,sl.COMPLETE="complete",Mb=sl,sc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,hu=sc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,Ob=rt}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",_0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Gg("@firebase/firestore");function Co(){return Ia.logLevel}function he(i,...e){if(Ia.logLevel<=ze.DEBUG){const n=e.map(iy);Ia.debug(`Firestore (${Zo}): ${i}`,...n)}}function Mr(i,...e){if(Ia.logLevel<=ze.ERROR){const n=e.map(iy);Ia.error(`Firestore (${Zo}): ${i}`,...n)}}function jo(i,...e){if(Ia.logLevel<=ze.WARN){const n=e.map(iy);Ia.warn(`Firestore (${Zo}): ${i}`,...n)}}function iy(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Pb(i,s,n)}function Pb(i,e,n){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function et(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Pb(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fM{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ir,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ir)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new Ub(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class hM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new v0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pM(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function ng(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return Op(o)===Op(l)?Be(o,l):Op(o)?1:-1}return Be(i.length,e.length)}const gM=55296,yM=57343;function Op(i){const e=i.charCodeAt(0);return e>=gM&&e<=yM}function zo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=qi.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Be(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class ft extends qi{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends qi{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return _M.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E0}static keyField(){return new sn([E0])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ft.fromString(e))}static fromName(e){return new ve(ft.fromString(e).popFirst(5))}static empty(){return new ve(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vM(i,e,n,s){if(e===!0&&s===!0)throw new fe(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function T0(i){if(!ve.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function S0(i){if(ve.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Nn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i,e){const n={typeString:i};return e&&(n.value=e),n}function $u(i,e){if(!zb(i))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=-62135596800,b0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*b0);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new mt(0,0))}static max(){return new Ce(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function EM(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Os(o,ve.empty(),e)}function TM(i){return new Os(i.readTime,i.key,Iu)}class Os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Os(Ce.min(),ve.empty(),Iu)}static max(){return new Os(Ce.max(),ve.empty(),Iu)}}function SM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==AM)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((o=>o?re.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===l&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new re(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function wM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function Qh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function RM(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="";function CM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=w0(e)),e=IM(i.get(n),e);return w0(e)}function IM(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":n+="";break;case Bb:n+="";break;default:n+=l}}return n}function w0(i){return i+Bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function js(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Hb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new rn(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new $t(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qb("Invalid base64 string: "+l):l}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const NM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(i){if(et(!!i,39018),typeof i=="string"){let e=0;const n=NM.exec(i);if(et(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vs(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="server_timestamp",Gb="__type__",$b="__previous_value__",Kb="__local_write_time__";function ay(i){return(i?.mapValue?.fields||{})[Gb]?.stringValue===Fb}function Yh(i){const e=i.mapValue.fields[$b];return ay(e)?Yh(e):e}function Nu(i){const e=Ms(i.mapValue.fields[Kb].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,s,o,l,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ph="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__type__",xM="__max__",Uf={mapValue:{}},Yb="__vector__",gh="value";function Ls(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ay(i)?4:MM(i)?9007199254740991:OM(i)?10:11:Se(28295,{value:i})}function er(i,e){if(i===e)return!0;const n=Ls(i);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Nu(i).isEqual(Nu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ms(o.timestampValue),m=Ms(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Vs(o.bytesValue).isEqual(Vs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),m=It(l.doubleValue);return c===m?mh(c)===mh(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(R0(c)!==R0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!er(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function xu(i,e){return(i.values||[]).find((n=>er(n,e)))!==void 0}function Bo(i,e){if(i===e)return 0;const n=Ls(i),s=Ls(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return I0(i.timestampValue,e.timestampValue);case 4:return I0(Nu(i),Nu(e));case 5:return ng(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=Vs(l),p=Vs(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Be(m[g],p[g]);if(_!==0)return _}return Be(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=Be(It(l.latitude),It(c.latitude));return m!==0?m:Be(It(l.longitude),It(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return N0(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},p=c.fields||{},g=m[gh]?.arrayValue,_=p[gh]?.arrayValue,T=Be(g?.values?.length||0,_?.values?.length||0);return T!==0?T:N0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Uf.mapValue&&c===Uf.mapValue)return 0;if(l===Uf.mapValue)return 1;if(c===Uf.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=ng(p[T],_[T]);if(b!==0)return b;const O=Bo(m[p[T]],g[_[T]]);if(O!==0)return O}return Be(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function I0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=Ms(i),s=Ms(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function N0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=Bo(n[o],s[o]);if(l)return l}return Be(n.length,s.length)}function Ho(i){return ig(i)}function ig(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ms(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=ig(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${ig(n.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function Yf(i){switch(Ls(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(i);return e?16+Yf(e):16;case 5:return 2*i.stringValue.length;case 6:return Vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Yf(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return js(s.fields,((l,c)=>{o+=l.length+Yf(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function D0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rg(i){return!!i&&"integerValue"in i}function oy(i){return!!i&&"arrayValue"in i}function x0(i){return!!i&&"nullValue"in i}function O0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xf(i){return!!i&&"mapValue"in i}function OM(i){return(i?.mapValue?.fields||{})[Qb]?.stringValue===Yb}function _u(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return js(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=_u(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(i.arrayValue.values[n]);return e}return{...i}}function MM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=sn.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=_u(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Xf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){js(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new In(_u(this.value))}}function Xb(i){const e=[];return js(i.fields,((n,s)=>{const o=new sn([n]);if(Xf(s)){const l=Xb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function M0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),n.key):s=Bo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function VM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class jt extends Wb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kM(e,n,s):n==="array-contains"?new jM(e,s):n==="in"?new zM(e,s):n==="not-in"?new BM(e,s):n==="array-contains-any"?new HM(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PM(e,s):new UM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Wb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return Jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(i){return i.op==="and"}function Zb(i){return LM(i)&&Jb(i)}function LM(i){for(const e of i.filters)if(e instanceof _i)return!1;return!0}function sg(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Ho(i.value);if(Zb(i))return i.filters.map((e=>sg(e))).join(",");{const e=i.filters.map((n=>sg(n))).join(",");return`${i.op}(${e})`}}function ew(i,e){return i instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&er(s.value,o.value)})(i,e):i instanceof _i?(function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,m)=>l&&ew(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function tw(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(i):i instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(tw).join(" ,")+"}"})(i):"Filter"}class kM extends jt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class PM extends jt{constructor(e,n){super(e,"in",n),this.keys=nw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UM extends jt{constructor(e,n){super(e,"not-in",n),this.keys=nw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nw(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class jM extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oy(n)&&xu(n.arrayValue,this.value)}}class zM extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class BM extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class HM extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function L0(i,e=null,n=[],s=[],o=null,l=null,c=null){return new qM(i,e,n,s,o,l,c)}function ly(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=n}return e.Te}function uy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!VM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ew(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!V0(i.startAt,e.startAt)&&V0(i.endAt,e.endAt)}function ag(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FM(i,e,n,s,o,l,c,m){return new Ku(i,e,n,s,o,l,c,m)}function Xh(i){return new Ku(i)}function k0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iw(i){return i.collectionGroup!==null}function vu(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new $t(sn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _h(l,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new _h(sn.keyField(),s))}return e.Ie}function Xi(i){const e=Ne(i);return e.Ee||(e.Ee=GM(e,vu(i))),e.Ee}function GM(i,e){if(i.limitType==="F")return L0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new _h(o.field,l)}));const n=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return L0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function og(i,e){const n=i.filters.concat([e]);return new Ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function lg(i,e,n){return new Ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wh(i,e){return uy(Xi(i),Xi(e))&&i.limitType===e.limitType}function rw(i){return`${ly(Xi(i))}|lt:${i.limitType}`}function Io(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tw(o))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(Xi(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of vu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=M0(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,vu(s),o)||s.endAt&&!(function(c,m,p){const g=M0(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,vu(s),o))})(i,e)}function $M(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sw(i){return(e,n)=>{let s=!1;for(const o of vu(i)){const l=KM(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function KM(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Bo(p,g):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return Hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new vt(ve.comparator);function Vr(){return QM}const aw=new vt(ve.comparator);function du(...i){let e=aw;for(const n of i)e=e.insert(n.key,n);return e}function ow(i){let e=aw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ta(){return Eu()}function lw(){return Eu()}function Eu(){return new Da((i=>i.toString()),((i,e)=>i.isEqual(e)))}const YM=new vt(ve.comparator),XM=new $t(ve.comparator);function He(...i){let e=XM;for(const n of i)e=e.add(n);return e}const WM=new $t(Be);function JM(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function uw(i){return{integerValue:""+i}}function ZM(i,e){return RM(e)?uw(e):cy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function eV(i,e,n){return i instanceof Ou?(function(o,l){const c={fields:{[Gb]:{stringValue:Fb},[Kb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ay(l)&&(l=Yh(l)),l&&(c.fields[$b]=l),{mapValue:c}})(n,e):i instanceof Mu?fw(i,e):i instanceof Vu?hw(i,e):(function(o,l){const c=cw(o,l),m=P0(c)+P0(o.Ae);return rg(c)&&rg(o.Ae)?uw(m):cy(o.serializer,m)})(i,e)}function tV(i,e,n){return i instanceof Mu?fw(i,e):i instanceof Vu?hw(i,e):n}function cw(i,e){return i instanceof vh?(function(s){return rg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ou extends Zh{}class Mu extends Zh{constructor(e){super(),this.elements=e}}function fw(i,e){const n=dw(e);for(const s of i.elements)n.some((o=>er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Vu extends Zh{constructor(e){super(),this.elements=e}}function hw(i,e){let n=dw(e);for(const s of i.elements)n=n.filter((o=>!er(o,s)));return{arrayValue:{values:n}}}class vh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P0(i){return It(i.integerValue||i.doubleValue)}function dw(i){return oy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.field=e,this.transform=n}}function iV(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Mu&&o instanceof Mu||s instanceof Vu&&o instanceof Vu?zo(s.elements,o.elements,er):s instanceof vh&&o instanceof vh?er(s.Ae,o.Ae):s instanceof Ou&&o instanceof Ou})(i.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ed{}function mw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new fy(i.key,Dn.none()):new Qu(i.key,i.data,Dn.none());{const n=i.data,s=In.empty();let o=new $t(sn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new zs(i.key,s,new zn(o.toArray()),Dn.none())}}function sV(i,e,n){i instanceof Qu?(function(o,l,c){const m=o.value.clone(),p=j0(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof zs?(function(o,l,c){if(!Wf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=j0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(pw(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Tu(i,e,n,s){return i instanceof Qu?(function(l,c,m,p){if(!Wf(l.precondition,c))return m;const g=l.value.clone(),_=z0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof zs?(function(l,c,m,p){if(!Wf(l.precondition,c))return m;const g=z0(l.fieldTransforms,p,c),_=c.data;return _.setAll(pw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(l,c,m){return Wf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function aV(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=cw(s.transform,o||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function U0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,((l,c)=>iV(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qu extends ed{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends ed{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function j0(i,e,n){const s=new Map;et(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,tV(c,m,n[o]))}return s}function z0(i,e,n){const s=new Map;for(const o of i){const l=o.transform,c=n.data.field(o.field);s.set(o.field,eV(l,c,e))}return s}class fy extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&sV(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const p=mw(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((n,s)=>U0(n,s)))&&zo(this.baseMutations,e.baseMutations,((n,s)=>U0(n,s)))}}class hy{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YM})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new hy(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,$e;function fV(i){switch(i){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function gw(i){if(i===void 0)return Mr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Ut.OK:return Z.OK;case Ut.CANCELLED:return Z.CANCELLED;case Ut.UNKNOWN:return Z.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Z.INTERNAL;case Ut.UNAVAILABLE:return Z.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Z.NOT_FOUND;case Ut.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ut.ABORTED:return Z.ABORTED;case Ut.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ut.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:i})}}($e=Ut||(Ut={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new Ns([4294967295,4294967295],0);function B0(i){const e=hV().encode(i),n=new xb;return n.update(e),new Uint8Array(n.digest())}function H0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([n,s],0),new Ns([o,l],0)]}class dy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ns.fromNumber(s)));return o.compare(dV)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=B0(e),[s,o]=H0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new dy(l,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=B0(e),[s,o]=H0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new td(Ce.min(),o,new vt(Be),Vr(),He())}}class Yu{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yu(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class q0{constructor(){this.ve=0,this.Fe=F0(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:l})}})),new Yu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=jf(),this.He=jf(),this.Ye=new vt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(ag(l))if(s===0){const c=new ve(l.path);this.et(n,c,fn.newNoDocument(c,Ce.min()))}else et(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Vs(s).toUint8Array()}catch(p){if(p instanceof qb)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dy(c,o,l)}catch(p){return jo(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&ag(m.target)){const p=new ve(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,fn.newNoDocument(p,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new td(e,n,this.Ye,this.je,s);return this.je=Vr(),this.Je=jf(),this.He=jf(),this.Ye=new vt(Be),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new q0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jf(){return new vt(ve.comparator)}function F0(){return new vt(ve.comparator)}const pV={asc:"ASCENDING",desc:"DESCENDING"},gV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yV={and:"AND",or:"OR"};class _V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(i,e){return i.useProto3Json||Qh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function vV(i,e){return Eh(i,e.toTimestamp())}function Wi(i){return et(!!i,49232),Ce.fromTimestamp((function(n){const s=Ms(n);return new mt(s.seconds,s.nanos)})(i))}function my(i,e){return cg(i,e).canonicalString()}function cg(i,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Ew(i){const e=ft.fromString(i);return et(ww(e),10190,{key:e.toString()}),e}function fg(i,e){return my(i.databaseId,e.path)}function Mp(i,e){const n=Ew(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Sw(n))}function Tw(i,e){return my(i.databaseId,e)}function EV(i){const e=Ew(i);return e.length===4?ft.emptyPath():Sw(e)}function hg(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sw(i){return et(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function G0(i,e,n){return{name:fg(i,e),fields:n.value.mapValue.fields}}function TV(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(et(_===void 0||typeof _=="string",58123),an.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),an.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?Z.UNKNOWN:gw(g.code);return new fe(_,g.message||"")})(c);n=new _w(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mp(i,s.document.name),l=Wi(s.document.updateTime),c=s.document.createTime?Wi(s.document.createTime):Ce.min(),m=new In({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,l,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Jf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mp(i,s.document),l=s.readTime?Wi(s.readTime):Ce.min(),c=fn.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Jf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mp(i,s.document),l=s.removedTargetIds||[];n=new Jf([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new cV(o,l),m=s.targetId;n=new yw(m,c)}}return n}function SV(i,e){let n;if(e instanceof Qu)n={update:G0(i,e.key,e.value)};else if(e instanceof fy)n={delete:fg(i,e.key)};else if(e instanceof zs)n={update:G0(i,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof oV))return Se(16599,{Vt:e.type});n={verify:fg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:vV(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(i,e.precondition)),n}function AV(i,e){return i&&i.length>0?(et(e!==void 0,14353),i.map((n=>(function(o,l){let c=o.updateTime?Wi(o.updateTime):Wi(l);return c.isEqual(Ce.min())&&(c=Wi(l)),new rV(c,o.transformResults||[])})(n,e)))):[]}function bV(i,e){return{documents:[Tw(i,e.path)]}}function wV(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Tw(i,o);const l=(function(g){if(g.length!==0)return bw(_i.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:No(b.field),direction:IV(b.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=ug(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function RV(i){let e=EV(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(T){const b=Aw(T);return b instanceof _i&&Zb(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((b=>(function(U){return new _h(Do(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Qh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,O=T.values||[];return new yh(O,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,O=T.values||[];return new yh(O,b)})(n.endAt)),FM(e,o,c,l,m,"F",p,g)}function CV(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((s=>Aw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function IV(i){return pV[i]}function NV(i){return gV[i]}function DV(i){return yV[i]}function No(i){return{fieldPath:i.canonicalString()}}function Do(i){return sn.fromServerFormat(i.fieldPath)}function bw(i){return i instanceof jt?(function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:NV(n.op),value:n.value}}})(i):i instanceof _i?(function(n){const s=n.getFilters().map((o=>bw(o)));return s.length===1?s[0]:{compositeFilter:{op:DV(n.op),filters:s}}})(i):Se(54877,{filter:i})}function xV(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ww(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s,o,l=Ce.min(),c=Ce.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.yt=e}}function MV(i){const e=RV({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Cn=new LV}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Os.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class LV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new $t(ft.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(Rw,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LruGarbageCollector",kV=1048576;function Q0([i,e],[n,s]){const o=Be(i,n);return o===0?Be(e,s):o}class PV{constructor(e){this.Ir=e,this.buffer=new $t(Q0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Q0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(K0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?he(K0,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Vr(3e5)}))}}class jV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Kh.ce);const s=new PV(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve($0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Co()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function zV(i,e){return new jV(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.changes=new Da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Tu(s.mutation,o,zn.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const o=Ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let c=du();return l.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let l=Vr();const c=Eu(),m=(function(){return Eu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof zs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Tu(_.mutation,g,_.mutation.getFieldMask(),mt.now())):c.set(g.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new HV(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Eu();let o=new vt(((c,m)=>c-m)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||zn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=lw();_.forEach((b=>{if(!l.has(b)){const O=mw(n.get(b),s.get(b));O!==null&&T.set(b,O),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):re.resolve(Ta());let m=Iu,p=l;return c.next((g=>re.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,He()))).next((_=>({batchId:m,changes:ow(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,l).next((m=>re.forEach(m,(p=>{const g=(function(T,b){return new Ku(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))}));let m=du();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Tu(_.mutation,g,zn.empty(),mt.now()),Jh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:MV(o.bundledQuery),readTime:Wi(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return re.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=Ta(),l=n.length+1,c=new ve(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new vt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Ta(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new uV(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new $t(Xt.$r),this.Ur=new $t(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ft([])),s=new Xt(n,e),o=new Xt(n,e+1);let l=He();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Xt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lV(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?sy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);l.push(m)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(Be);return n.forEach((o=>{const l=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(m=>{s=s.add(m.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new ve(l),0);let m=new $t(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(o=>{const l=new Xt(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Vr();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=Vr();const c=n.path,m=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||SM(TM(_),s)<=0||(o.has(_.key)||Jh(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YV(this)}getSize(e){return re.resolve(this.size)}}class YV extends BV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.persistence=e,this.si=new Da((n=>ly(n)),uy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(l).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new $V,this.referenceDelegate=e(this),this.Pi=new XV(this),this.indexManager=new VV,this.remoteDocumentCache=(function(o){return new QV(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new OV(n),this.Ii=new FV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new KV(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new WV(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class WV extends bM{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new py,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new Da((s=>CM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=zV(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?re.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yf(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=He(),o=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new yy(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MD()?8:wM(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new JV;return this.Ss(e,n,c).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>l.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Co()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Co()<=ze.DEBUG&&he("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Co()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):re.resolve())}ys(e,n){if(k0(n))return re.resolve(null);let s=Xi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lg(n,null,"F"),s=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=He(...l);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,lg(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return k0(n)||o.isEqual(Ce.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?re.resolve(null):(Co()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,c,n,EM(o,Iu)).next((m=>m)))}))}Ds(e,n){let s=new $t(sw(e));return n.forEach(((o,l)=>{Jh(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return Co()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,Os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",e4=3e8;class t4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new vt(Be),this.xs=new Da((l=>ly(l)),uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function n4(i,e,n,s){return new t4(i,e,n,s)}async function Iw(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let p=He();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function i4(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,b=T.keys();let O=re.resolve();return b.forEach((U=>{O=O.next((()=>_.getEntry(p,U))).next((H=>{const j=g.docVersions.get(U);et(j!==null,48541),H.version.compareTo(j)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Nw(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function r4(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T))));let O=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(an.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(T,O),(function(H,j,Y){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=e4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(b,O,_)&&m.push(n.Pi.updateTargetData(l,O))}));let p=Vr(),g=He();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(s4(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ce.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(_)}return re.waitFor(m).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function s4(i,e,n){let s=He(),o=He();return n.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=Vr();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):he(_y,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function a4(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function o4(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((l=>l?(o=l,re.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new bs(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function dg(i,e,n){const s=Ne(i),o=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;he(_y,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Y0(i,e,n){const s=Ne(i);let o=Ce.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ne(p),b=T.xs.get(_);return b!==void 0?re.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,_)})(s,c,Xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ce.min(),n?l:He()))).next((m=>(l4(s,$M(e),m),{documents:m,Qs:l})))))}function l4(i,e,n){let s=i.Os.get(e)||Ce.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class X0{constructor(){this.activeTargetIds=JM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u4{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(W0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function mg(){return zf===null?zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",f4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=mg(),m=this.zo(e,n.toUriEncodedString());he(Vp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),_=ju(g);return this.Jo(e,m,p,s,_).then((T=>(he(Vp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw jo(Vp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const s=f4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class m4 extends h4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=mg();return new Promise(((m,p)=>{const g=new Ob;g.setWithCredentials(!0),g.listenOnce(Mb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qf.NO_ERROR:const T=g.getResponseJson();he(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Qf.TIMEOUT:he(un,`RPC '${e}' ${c} timed out`),p(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const b=g.getStatus();if(he(un,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const H=(function(Y){const ee=Y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ee)>=0?ee:Z.UNKNOWN})(U.status);p(new fe(H,U.message))}else p(new fe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(un,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);he(un,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=mg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kb(),m=Lb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=l.join("");he(un,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let b=!1,O=!1;const U=new d4({Yo:j=>{O?he(un,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(b||(he(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),he(un,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),H=(j,Y,ee)=>{j.listen(Y,(te=>{try{ee(te)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return H(T,hu.EventType.OPEN,(()=>{O||(he(un,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),H(T,hu.EventType.CLOSE,(()=>{O||(O=!0,he(un,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),H(T,hu.EventType.ERROR,(j=>{O||(O=!0,jo(un,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))})),H(T,hu.EventType.MESSAGE,(j=>{if(!O){const Y=j.data[0];et(!!Y,16349);const ee=Y,te=ee?.error||ee[0]?.error;if(te){he(un,`RPC '${e}' stream ${o} received error:`,te);const oe=te.status;let de=(function(C){const D=Ut[C];if(D!==void 0)return gw(D)})(oe),ie=te.message;de===void 0&&(de=Z.INTERNAL,ie="Unknown error status: "+oe+" with message "+te.message),O=!0,U.a_(new fe(de,ie)),T.close()}else he(un,`RPC '${e}' stream ${o} received:`,Y),U.u_(Y)}})),H(m,Vb.STAT_EVENT,(j=>{j.stat===tg.PROXY?he(un,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===tg.NOPROXY&&he(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(i){return new _V(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="PersistentStream";class xw{constructor(e,n,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p4 extends xw{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Wi(c.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=hg(this.serializer),n.addTarget=(function(l,c){let m;const p=c.target;if(m=ag(p)?{documents:bV(l,p)}:{query:wV(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=vw(l,c.resumeToken);const g=ug(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Eh(l,c.snapshotVersion.toTimestamp());const g=ug(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=CV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=hg(this.serializer),n.removeTarget=e,this.q_(n)}}class g4 extends xw{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AV(e.writeResults,e.commitTime),s=Wi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=hg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>SV(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{}class _4 extends y4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,cg(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Z.UNKNOWN,l.toString())}))}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,cg(n,s),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class E4{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(he(Na,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await id(g)})(this))}))})),this.Ra=new v4(s,o)}}async function id(i){if(xa(i))for(const e of i.da)await e(!0)}async function Xu(i){for(const e of i.da)await e(!1)}function Ow(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sy(n)?Ty(n):nl(n).O_()&&Ey(n,e))}function vy(i,e){const n=Ne(i),s=nl(n);n.Ia.delete(e),s.O_()&&Mw(n,e),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Ra.set("Unknown"))}function Ey(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(i).Y_(e)}function Mw(i,e){i.Va.Ue(e),nl(i).Z_(e)}function Ty(i){i.Va=new mV({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),nl(i).start(),i.Ra.ua()}function Sy(i){return xa(i)&&!nl(i).x_()&&i.Ia.size>0}function xa(i){return Ne(i).Ea.size===0}function Vw(i){i.Va=void 0}async function T4(i){i.Ra.set("Online")}async function S4(i){i.Ia.forEach(((e,n)=>{Ey(i,e)}))}async function A4(i,e){Vw(i),Sy(i)?(i.Ra.ha(e),Ty(i)):i.Ra.set("Unknown")}async function b4(i,e,n){if(i.Ra.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){he(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(i,s)}else if(e instanceof Jf?i.Va.Ze(e):e instanceof yw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await Nw(i.localStore);n.compareTo(s)>=0&&await(function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),Mw(l,p);const T=new bs(_.target,p,g,_.sequenceNumber);Ey(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){he(Na,"Failed to raise snapshot:",s),await Sh(i,s)}}async function Sh(i,e,n){if(!tl(e))throw e;i.Ea.add(1),await Xu(i),i.Ra.set("Offline"),n||(n=()=>Nw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(Na,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await id(i)}))}function Lw(i,e){return e().catch((n=>Sh(i,n,e)))}async function rd(i){const e=Ne(i),n=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sy;for(;w4(e);)try{const o=await a4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,R4(e,o)}catch(o){await Sh(e,o)}kw(e)&&Pw(e)}function w4(i){return xa(i)&&i.Ta.length<10}function R4(i,e){i.Ta.push(e);const n=ks(i);n.O_()&&n.X_&&n.ea(e.mutations)}function kw(i){return xa(i)&&!ks(i).x_()&&i.Ta.length>0}function Pw(i){ks(i).start()}async function C4(i){ks(i).ra()}async function I4(i){const e=ks(i);for(const n of i.Ta)e.ea(n.mutations)}async function N4(i,e,n){const s=i.Ta.shift(),o=hy.from(s,e,n);await Lw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await rd(i)}async function D4(i,e){e&&ks(i).X_&&await(async function(s,o){if((function(c){return fV(c)&&c!==Z.ABORTED})(o.code)){const l=s.Ta.shift();ks(s).B_(),await Lw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await rd(s)}})(i,e),kw(i)&&Pw(i)}async function eS(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),he(Na,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await Xu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await id(n)}async function x4(i,e){const n=Ne(i);e?(n.Ea.delete(2),await id(n)):e||(n.Ea.add(2),await Xu(n),n.Ra.set("Unknown"))}function nl(i){return i.ma||(i.ma=(function(n,s,o){const l=Ne(n);return l.sa(),new p4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:T4.bind(null,i),t_:S4.bind(null,i),r_:A4.bind(null,i),H_:b4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sy(i)?Ty(i):i.Ra.set("Unknown")):(await i.ma.stop(),Vw(i))}))),i.ma}function ks(i){return i.fa||(i.fa=(function(n,s,o){const l=Ne(n);return l.sa(),new g4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:C4.bind(null,i),r_:D4.bind(null,i),ta:I4.bind(null,i),na:N4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await rd(i)):(await i.fa.stop(),i.Ta.length>0&&(he(Na,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new Ay(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(i,e){if(Mr("AsyncQueue",`${e}: ${i}`),tl(i))return new fe(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=du(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.ga=new vt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,o,l,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Fo(e,n,ko.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class M4{constructor(){this.queries=nS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),l=o.queries;o.queries=nS(),l.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function nS(){return new Da((i=>rw(i)),Wh)}async function wy(i,e){const n=Ne(i);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new O4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=by(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Cy(n)}async function Ry(i,e){const n=Ne(i),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function V4(i,e){const n=Ne(i);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Cy(n)}function L4(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(e)}function Cy(i){i.Ca.forEach((e=>{e.next()}))}var pg,iS;(iS=pg||(pg={})).Ma="default",iS.Cache="cache";class Iy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.key=e}}class jw{constructor(e){this.key=e}}class k4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=sw(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new tS,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const b=o.get(_),O=Jh(this.query,T)?T:null,U=!!b&&this.mutatedKeys.has(b.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;b&&O?b.data.isEqual(O.data)?U!==H&&(s.track({type:3,doc:O}),j=!0):this.su(b,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!b&&O?(s.track({type:0,doc:O}),j=!0):b&&!O&&(s.track({type:1,doc:b}),j=!0,(p||g)&&(m=!0)),j&&(O?(c=c.add(O),l=H?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(O,U){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:j})}};return H(O)-H(U)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Fo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Uw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ny="SyncEngine";class P4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class U4{constructor(e){this.key=e,this.hu=!1}}class j4{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Da((m=>rw(m)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z4(i,e,n=!0){const s=Gw(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await zw(s,e,n,!0),o}async function B4(i,e){const n=Gw(i);await zw(n,e,!0,!1)}async function zw(i,e,n,s){const o=await o4(i.localStore,Xi(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,n);let m;return s&&(m=await H4(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ow(i.remoteStore,o),m}async function H4(i,e,n,s,o){i.pu=(T,b,O)=>(async function(H,j,Y,ee){let te=j.view.ru(Y);te.Cs&&(te=await Y0(H.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,te))));const oe=ee&&ee.targetChanges.get(j.targetId),de=ee&&ee.targetMismatches.get(j.targetId)!=null,ie=j.view.applyChanges(te,H.isPrimaryClient,oe,de);return sS(H,j.targetId,ie.au),ie.snapshot})(i,T,b,O);const l=await Y0(i.localStore,e,!0),c=new k4(e,l.Qs),m=c.ru(l.documents),p=Yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);sS(i,n,g.au);const _=new P4(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function q4(i,e,n){const s=Ne(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Wh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vy(s.remoteStore,o.targetId),gg(s,o.targetId)})).catch(el)):(gg(s,o.targetId),await dg(s.localStore,o.targetId,!0))}async function F4(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vy(n.remoteStore,s.targetId))}async function G4(i,e,n){const s=J4(i);try{const o=await(function(c,m){const p=Ne(c),g=mt.now(),_=m.reduce(((O,U)=>O.add(U.key)),He());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=Vr(),H=He();return p.Ns.getEntries(O,_).next((j=>{U=j,U.forEach(((Y,ee)=>{ee.isValidDocument()||(H=H.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,U))).next((j=>{T=j;const Y=[];for(const ee of m){const te=aV(ee,T.get(ee.key).overlayedDocument);te!=null&&Y.push(new zs(ee.key,te,Xb(te.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Y,m)})).next((j=>{b=j;const Y=j.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(O,j.batchId,Y)}))})).then((()=>({batchId:b.batchId,changes:ow(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new vt(Be)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Wu(s,o.changes),await rd(s.remoteStore)}catch(o){const l=by(o,"Failed to persist write");n.reject(l)}}async function Bw(i,e){const n=Ne(i);try{const s=await r4(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?et(c.hu,14607):o.removedDocuments.size>0&&(et(c.hu,42227),c.hu=!1))})),await Wu(n,s,e)}catch(s){await el(s)}}function rS(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ne(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&Cy(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $4(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new vt(ve.comparator);c=c.insert(l,fn.newNoDocument(l,Ce.min()));const m=He().add(l),p=new td(Ce.min(),new Map,new vt(Be),c,m);await Bw(s,p),s.du=s.du.remove(l),s.Au.delete(e),Dy(s)}else await dg(s.localStore,e,!1).then((()=>gg(s,e,n))).catch(el)}async function K4(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await i4(n.localStore,e);qw(n,s,null),Hw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wu(n,o)}catch(o){await el(o)}}async function Q4(i,e,n){const s=Ne(i);try{const o=await(function(c,m){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(et(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);qw(s,e,n),Hw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wu(s,o)}catch(o){await el(o)}}function Hw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function qw(i,e,n){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Fw(i,s)}))}function Fw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(vy(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dy(i))}function sS(i,e,n){for(const s of n)s instanceof Uw?(i.Ru.addReference(s.key,e),Y4(i,s)):s instanceof jw?(he(Ny,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Fw(i,s.key)):Se(19791,{wu:s})}function Y4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(he(Ny,"New document in limbo: "+n),i.Eu.add(s),Dy(i))}function Dy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(ft.fromString(e)),s=i.fu.next();i.Au.set(s,new U4(n)),i.du=i.du.insert(n,s),Ow(i.remoteStore,new bs(Xi(Xh(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function Wu(i,e,n){const s=Ne(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=yy.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(b=>re.forEach(b.Es,(O=>_.persistence.referenceDelegate.addReference(T,b.targetId,O))).next((()=>re.forEach(b.ds,(O=>_.persistence.referenceDelegate.removeReference(T,b.targetId,O)))))))))}catch(T){if(!tl(T))throw T;he(_y,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const O=_.Ms.get(b),U=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(b,H)}}})(s.localStore,l))}async function X4(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){he(Ny,"User change. New user:",e.toKey());const s=await Iw(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(Z.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wu(n,s.Ls)}}function W4(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Gw(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$4.bind(null,e),e.Pu.H_=V4.bind(null,e.eventManager),e.Pu.yu=L4.bind(null,e.eventManager),e}function J4(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q4.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n4(this.persistence,new ZV,e.initialUser,this.serializer)}Cu(e){return new Cw(gy.mi,this.serializer)}Du(e){return new u4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class Z4 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Cw((s=>Th.mi(s,n)),this.serializer)}}class yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,this.syncEngine),await x4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new M4})()}createDatastore(e){const n=nd(e.databaseInfo.databaseId),s=(function(l){return new m4(l)})(e.databaseInfo);return(function(l,c,m,p){return new _4(l,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,c,m){return new E4(s,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>rS(this.syncEngine,n,0)),(function(){return J0.v()?new J0:new c4})())}createSyncEngine(e,n){return(function(o,l,c,m,p,g,_){const T=new j4(o,l,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);he(Na,"RemoteStore shutting down."),s.Ea.add(5),await Xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class eL{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=by(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function kp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ps,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Iw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function aS(i,e){i.asyncQueue.verifyOperationInProgress();const n=await tL(i);he(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>eS(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>eS(e.remoteStore,o))),i._onlineComponents=e}async function tL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ps,"Using user provided OfflineComponentProvider");try{await kp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await kp(i,new Ah)}}else he(Ps,"Using default OfflineComponentProvider"),await kp(i,new Z4(void 0));return i._offlineComponents}async function $w(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ps,"Using user provided OnlineComponentProvider"),await aS(i,i._uninitializedComponentsProvider._online)):(he(Ps,"Using default OnlineComponentProvider"),await aS(i,new yg))),i._onlineComponents}function nL(i){return $w(i).then((e=>e.syncEngine))}async function bh(i){const e=await $w(i),n=e.eventManager;return n.onListen=z4.bind(null,e.syncEngine),n.onUnlisten=q4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F4.bind(null,e.syncEngine),n}function iL(i,e,n={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new xy({next:b=>{_.Nu(),c.enqueueAndForget((()=>Ry(l,T)));const O=b.docs.has(m);!O&&b.fromCache?g.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&p&&p.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new Iy(Xh(m.path),_,{includeMetadataChanges:!0,qa:!0});return wy(l,T)})(await bh(i),i.asyncQueue,e,n,s))),s.promise}function rL(i,e,n={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new xy({next:b=>{_.Nu(),c.enqueueAndForget((()=>Ry(l,T))),b.fromCache&&p.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new Iy(m,_,{includeMetadataChanges:!0,qa:!0});return wy(l,T)})(await bh(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firestore.googleapis.com",lS=!0;class uS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=lS}else this.host=e.host,this.ssl=e.ssl??lS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kV)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uM;switch(s.type){case"firstParty":return new dM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oS.get(n);s&&(he("ComponentProvider","Removing Datastore"),oS.delete(n),s.terminate())})(this),Promise.resolve()}}function sL(i,e,n,s={}){i=Nn(i,sd);const o=ju(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(SD(`https://${m}`),RD("Firestore",!0)),l.host!==Qw&&l.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!bu(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=cn.MOCK_USER;else{g=AD(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new cn(T)}i._authCredentials=new cM(new Ub(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if($u(n,At._jsonSchema))return new At(e,s||null,new ve(ft.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:zt("string",At._jsonSchemaVersion),referencePath:zt("string")};class Ds extends Oa{constructor(e,n,s){super(e,n,Xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ve(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function va(i,e,...n){if(i=Bt(i),jb("collection","path",e),i instanceof sd){const s=ft.fromString(e,...n);return S0(s),new Ds(i,null,s)}{if(!(i instanceof At||i instanceof Ds))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return S0(s),new Ds(i.firestore,null,s)}}function Ki(i,e,...n){if(i=Bt(i),arguments.length===1&&(e=ry.newId()),jb("doc","path",e),i instanceof sd){const s=ft.fromString(e,...n);return T0(s),new At(i,null,new ve(s))}{if(!(i instanceof At||i instanceof Ds))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return T0(s),new At(i.firestore,i instanceof Ds?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="AsyncQueue";class fS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&he(cS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;he(cS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",hS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ay.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:hS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hS(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(i,["next","error","complete"])}class Lr extends sd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new fS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fS(e),this._firestoreClient=void 0,await e}}}function aL(i,e){const n=typeof i=="object"?i:B2(),s=typeof i=="string"?i:ph,o=$A(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=vD("firestore");l&&sL(o,...l)}return o}function Ju(i){if(i._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||oL(i),i._firestoreClient}function oL(i){const e=i._freezeSettings(),n=(function(o,l,c,m){return new DM(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Kw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new eL(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(an.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:zt("string",ei._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if($u(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:zt("string",Ji._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:zt("string",Zi._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^__.*__$/;class uL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class Yw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Oy{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xw(this.Ac)&&lL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nd(e)}Cc(e,n,s,o=!1){return new Oy({Ac:e,methodName:n,Dc:s,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ec(i){const e=i._freezeSettings(),n=nd(i._databaseId);return new cL(i._databaseId,!!e.ignoreUndefinedProperties,n)}function My(i,e,n,s,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,n,o);Ly("Data must be an object, but it was:",c,s);const m=Zw(s,c);let p,g;if(l.merge)p=new zn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const b=_g(e,T,n);if(!c.contains(b))throw new fe(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);tR(_,b)||_.push(b)}p=new zn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new uL(new In(m),p,g)}class od extends ad{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}class Vy extends ad{_toFieldTransform(e){return new nV(e.path,new Ou)}isEqual(e){return e instanceof Vy}}function Ww(i,e,n,s){const o=i.Cc(1,e,n);Ly("Data must be an object, but it was:",o,s);const l=[],c=In.empty();js(s,((p,g)=>{const _=ky(e,p,n);g=Bt(g);const T=o.yc(_);if(g instanceof od)l.push(_);else{const b=tc(g,T);b!=null&&(l.push(_),c.set(_,b))}}));const m=new zn(l);return new Yw(c,m,o.fieldTransforms)}function Jw(i,e,n,s,o,l){const c=i.Cc(1,e,n),m=[_g(e,s,n)],p=[o];if(l.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(_g(e,l[b])),p.push(l[b+1]);const g=[],_=In.empty();for(let b=m.length-1;b>=0;--b)if(!tR(g,m[b])){const O=m[b];let U=p[b];U=Bt(U);const H=c.yc(O);if(U instanceof od)g.push(O);else{const j=tc(U,H);j!=null&&(g.push(O),_.set(O,j))}}const T=new zn(g);return new Yw(_,T,c.fieldTransforms)}function fL(i,e,n,s=!1){return tc(n,i.Cc(s?4:3,e))}function tc(i,e){if(eR(i=Bt(i)))return Ly("Unsupported field value:",e,i),Zw(i,e);if(i instanceof ad)return(function(s,o){if(!Xw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const m of s){let p=tc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=mt.fromDate(s);return{timestampValue:Eh(o.serializer,l)}}if(s instanceof mt){const l=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,l)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:vw(o.serializer,s._byteString)};if(s instanceof At){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:my(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zi)return(function(c,m){return{mapValue:{fields:{[Qb]:{stringValue:Yb},[gh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return cy(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(i,e)}function Zw(i,e){const n={};return Hb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(i,((s,o)=>{const l=tc(o,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function eR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Ji||i instanceof ei||i instanceof At||i instanceof ad||i instanceof Zi)}function Ly(i,e,n){if(!eR(n)||!zb(n)){const s=$h(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function _g(i,e,n){if((e=Bt(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return ky(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const hL=new RegExp("[~\\*/\\[\\]]");function ky(i,e,n){if(e.search(hL)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zu(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new fe(Z.INVALID_ARGUMENT,m+i+p)}function tR(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dL extends nR{data(){return super.data()}}function iR(i,e){return typeof e=="string"?ky(i,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}class mL extends Py{}function pL(i,e,...n){let s=[];e instanceof Py&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((p=>p instanceof jy)).length,m=l.filter((p=>p instanceof Uy)).length;if(c>1||c>0&&m>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uy extends mL{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uy(e,n,s)}_apply(e){const n=this._parse(e);return sR(e._query,n),new Oa(e.firestore,e.converter,og(e._query,n))}_parse(e){const n=ec(e.firestore);return(function(l,c,m,p,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pS(T,_);const U=[];for(const H of T)U.push(mS(p,l,H));b={arrayValue:{values:U}}}else b=mS(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pS(T,_),b=fL(m,c,T,_==="in"||_==="not-in");return jt.create(g,_,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jy extends Py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const p of m)sR(c,p),c=og(c,p)})(e._query,n),new Oa(e.firestore,e.converter,og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mS(i,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!ve.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return D0(i,new ve(s))}if(n instanceof At)return D0(i,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function pS(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sR(i,e){const n=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gL{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return js(e,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Ji(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);et(ww(s),9688,{name:e});const o=new Du(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends nR{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iR("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:zt("string",Aa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zf extends Aa{data(e={}){return super.data(e)}}class ba{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Zf(this._firestore,this._userDataWriter,s.key,s,new pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Zf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new Zf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:yL(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){i=Nn(i,At);const e=Nn(i.firestore,Lr);return iL(Ju(e),i._key).then((n=>oR(e,i,n)))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:zt("string",ba._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class By extends gL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function aR(i){i=Nn(i,Oa);const e=Nn(i.firestore,Lr),n=Ju(e),s=new By(e);return rR(i._query),rL(n,i._query).then((o=>new ba(e,s,i,o)))}function _L(i,e,n){i=Nn(i,At);const s=Nn(i.firestore,Lr),o=zy(i.converter,e,n);return ld(s,[My(ec(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Dn.none())])}function vL(i,e,n,...s){i=Nn(i,At);const o=Nn(i.firestore,Lr),l=ec(o);let c;return c=typeof(e=Bt(e))=="string"||e instanceof Zu?Jw(l,"updateDoc",i._key,e,n,s):Ww(l,"updateDoc",i._key,e),ld(o,[c.toMutation(i._key,Dn.exists(!0))])}function gS(i,e){const n=Nn(i.firestore,Lr),s=Ki(i),o=zy(i.converter,e);return ld(n,[My(ec(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then((()=>s))}function EL(i,...e){i=Bt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dS(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dS(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,m;if(i instanceof At)c=Nn(i.firestore,Lr),m=Xh(i._key.path),l={next:p=>{e[s]&&e[s](oR(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Nn(i,Oa);c=Nn(p.firestore,Lr),m=p._query;const g=new By(c);l={next:_=>{e[s]&&e[s](new ba(c,g,p,_))},error:e[s+1],complete:e[s+2]},rR(i._query)}return(function(g,_,T,b){const O=new xy(b),U=new Iy(_,O,T);return g.asyncQueue.enqueueAndForget((async()=>wy(await bh(g),U))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ry(await bh(g),U)))}})(Ju(c),m,o,l)}function ld(i,e){return(function(s,o){const l=new Ir;return s.asyncQueue.enqueueAndForget((async()=>G4(await nL(s),o,l))),l.promise})(Ju(i),e)}function oR(i,e,n){const s=n.docs.get(e._key),o=new By(i);return new Aa(i,o,e._key,s,new pu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ec(e)}set(e,n,s){this._verifyNotCommitted();const o=Pp(e,this._firestore),l=zy(o.converter,n,s),c=My(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,Dn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const l=Pp(e,this._firestore);let c;return c=typeof(n=Bt(n))=="string"||n instanceof Zu?Jw(this._dataReader,"WriteBatch.update",l._key,n,s,o):Ww(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pp(e,this._firestore);return this._mutations=this._mutations.concat(new fy(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pp(i,e){if((i=Bt(i)).firestore!==e)throw new fe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ud(){return new Vy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(i){return Ju(i=Nn(i,Lr)),new TL(i,(e=>ld(i,e)))}(function(e,n=!0){(function(o){Zo=o})(Wo),Po(new wa("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Lr(new fM(s.getProvider("auth-internal")),new mM(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,_)})(c,o),c);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Is(y0,_0,e),Is(y0,_0,"esm2020")})();const AL={apiKey:"AIzaSyC1V0sjf8MbuLUAHXzeBvx8UkXkJ_uK0G4",authDomain:"bllk-bypass.firebaseapp.com",projectId:"bllk-bypass",storageBucket:"bllk-bypass.firebasestorage.app",messagingSenderId:"285336398327",appId:"1:285336398327:web:01872b871e88fb232526f2"},lR=QT().length?QT()[0]:KA(AL),Hi=Lx(lR,{persistence:[mO,nO,Tb],popupRedirectResolver:iM}),yn=aL(lR);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bL(i,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function m(_){try{g(s.next(_))}catch(T){c(T)}}function p(_){try{g(s.throw(_))}catch(T){c(T)}}function g(_){_.done?l(_.value):o(_.value).then(m,p)}g((s=s.apply(i,[])).next())})}function wL(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(_){g=[6,_],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(){return Oo=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Oo.apply(this,arguments)},uR=function(i){return{loading:i==null,value:i}},RL=function(){return function(i,e){switch(e.type){case"error":return Oo(Oo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return uR(e.defaultValue);case"value":return Oo(Oo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},CL=(function(i){var e=i?i():void 0,n=S.useReducer(RL(),uR(e)),s=n[0],o=n[1],l=S.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),c=S.useCallback(function(p){o({type:"error",error:p})},[]),m=S.useCallback(function(p){o({type:"value",value:p})},[]);return S.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:c,setValue:m,value:s.value}},[s.error,s.loading,l,c,m,s.value])}),IL=(function(i,e){var n=CL(function(){return i.currentUser}),s=n.error,o=n.loading,l=n.setError,c=n.setValue,m=n.value;return S.useEffect(function(){var p=Jx(i,function(g){return bL(void 0,void 0,void 0,function(){var _;return wL(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return c(g),[2]}})})},l);return function(){p()}},[i]),[m,o,s]});function NL(){if(typeof navigator>"u"||typeof window>"u")return!1;const i=navigator.userAgent||navigator.vendor||window.opera||"",n=/android|iphone|ipad|ipod|blackberry|bb|playbook|windows phone|opera mini|mobile|silk/i.test(i),s=window.innerWidth<=768,o="ontouchstart"in window||navigator.maxTouchPoints>0;return n||s&&o}async function Up(i){try{const e=Ki(yn,"users",i.uid);await _L(e,{displayName:i.displayName??"",email:i.email??"",photoURL:i.photoURL??null,providers:(i.providerData??[]).map(n=>n.providerId),updatedAt:ud()},{merge:!0})}catch(e){console.error("ensureUserDoc failed:",e)}}const cR=S.createContext(null);function DL({children:i}){const[e,n]=IL(Hi);S.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("auth:expectRedirect"))return;localStorage.removeItem("auth:expectRedirect");const l=await RO(Hi);l?.user?(console.debug("[auth] redirect user:",l.user.uid),await Up(l.user)):console.debug("[auth] redirect: no user (ok)")}catch(o){console.error("[auth] getRedirectResult error:",o)}})()},[]),S.useEffect(()=>{e&&Up(e).catch(console.error)},[e?.uid]);const s=S.useMemo(()=>({user:e,loading:n,async signInEmail(o,l){await Yx(Hi,o,l)},async signUpEmail(o,l,c){const m=await Qx(Hi,o,l);c&&await Wx(m.user,{displayName:c}),await Up(m.user)},async signInGoogle(){const o=new Ar;o.setCustomParameters({prompt:"select_account"}),console.log("[auth] config",{authDomain:Hi?.config?.authDomain,appName:Hi?.app?.name,providerId:o?.providerId});try{NL()?(localStorage.setItem("auth:expectRedirect","1"),await u0(Hi,o)):await vO(Hi,o)}catch(l){if(console.error("[auth] signInGoogle failed:",l?.code,l?.message,l),String(l?.code||"").startsWith("auth/popup-"))localStorage.setItem("auth:expectRedirect","1"),await u0(Hi,o);else throw l}},async signOut(){await Zx(Hi)}}),[e,n]);return w.jsx(cR.Provider,{value:s,children:i})}function Ma(){const i=S.useContext(cR);if(!i)throw new Error("useAuth must be used within AuthProvider");return i}function xL({children:i}){const{user:e,loading:n}=Ma(),s=Ei();return n?null:e?w.jsx(w.Fragment,{children:i}):w.jsx(wg,{to:"/login",state:{next:s.pathname+s.search},replace:!0})}function OL(i){const n=new URLSearchParams(i).get("unit");return n&&n.trim()?n.trim():null}function ML({children:i}){const e=Ei(),n=OL(e.search),{user:s}=Ma();if(n)return w.jsx(w.Fragment,{children:i});const[o,l]=S.useState(null);return S.useEffect(()=>{async function c(){if(!s){l(!1);return}try{const m=await Lu(Ki(yn,"users",s.uid));l(!!m.data()?.verified)}catch{l(!1)}}c()},[s?.uid]),o===null?null:o?w.jsx(w.Fragment,{children:i}):w.jsx(wg,{to:"/login",state:{next:e.pathname+e.search},replace:!0})}function VL(i,e=window.location.search){const s=new URLSearchParams(e).get(i);return s&&s.trim()?s.trim():null}function LL(){return VL("unit")}const fR="America/Regina";function eh(){return new Intl.DateTimeFormat("en-CA",{timeZone:fR,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date)}function kL(i){return new Intl.DateTimeFormat("en-CA",{timeZone:fR,year:"numeric",month:"2-digit",day:"2-digit"}).format(i)}function PL(i){if(i===null||typeof i!="object")return!1;const e=Object.getPrototypeOf(i);return e===Object.prototype||e===null}function UL(i){return!!(i&&typeof i.toMillis=="function")}function jL(i){return!!(i&&typeof i=="object"&&typeof i._methodName=="string")}function Rh(i){if(i instanceof Date||UL(i)||jL(i))return i;if(Array.isArray(i))return i.map(n=>Rh(n)).filter(n=>n!==void 0);if(PL(i)){const e={};for(const[n,s]of Object.entries(i)){if(s===void 0)continue;const o=Rh(s);o!==void 0&&(e[n]=o)}return e}return i}function yS(i,e){const[n,s,o]=i.split("-").map(Number),[l,c,m]=e.split("-").map(Number),p=new Date(n,s-1,o),g=new Date(l,c-1,m),_=[];for(let T=p;T<=g;T=new Date(T.getTime()+864e5)){const b=T.getFullYear(),O=String(T.getMonth()+1).padStart(2,"0"),U=String(T.getDate()).padStart(2,"0");_.push(`${b}-${O}-${U}`)}return _}function Ch(i,e){const[n,s,o]=i.split("-").map(Number),[l,c]=e.split(":").map(Number);return new Date(n,(s??1)-1,o??1,l??0,c??0,0,0)}function _S(i){const{hospitalId:e,kind:n,notes:s,startDate:o,startTime:l,endDate:c,endTime:m,createdByUid:p}=i,g=Ch(o,l),_=c&&m?Ch(c,m):null,T=o,b={hospitalId:e,kind:n,notes:s,status:"active",startedAt:g,clearedAt:_,createdAt:ud(),createdByUid:p,source:{type:"user"},dateKey:T};return Rh(b)}function vS(i){const{hospitalId:e,kind:n,notes:s,startDate:o,startTime:l,endDate:c,endTime:m,unitId:p,unitReportKey:g}=i,_=Ch(o,l),T=c&&m?Ch(c,m):null,b=o,O={hospitalId:e,kind:n,notes:s,status:"active",startedAt:_,clearedAt:T,createdAt:ud(),source:{type:"unit",unitId:p},unitReportKey:g,dateKey:b};return Rh(O)}function zL(i,e){const[n,s]=i.split(":").map(Number),[o,l]=e.split(":").map(Number);return n!==o?n<o?-1:1:s!==l?s<l?-1:1:0}function ES(i){const[e,n,s]=i.split("-").map(Number),o=new Date(e,(n??1)-1,s??1);o.setDate(o.getDate()+1);const l=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");return`${l}-${c}-${m}`}function BL(i){const[e,n,s]=i.split("-").map(Number),o=new Date(e,(n??1)-1,s??1);o.setDate(o.getDate()-1);const l=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");return`${l}-${c}-${m}`}function Bf(i,e){if(i==null)throw new Error(`Missing ${e} datetime`);if(typeof i?.toMillis=="function"){const s=i.toMillis();if(!Number.isFinite(s))throw new Error(`Invalid ${e} datetime`);return}const n=i instanceof Date?i:new Date(i);if(!(n instanceof Date)||Number.isNaN(n.getTime()))throw new Error(`Invalid ${e} datetime`)}function HL(){const[i,e]=S.useState(!1),[n,s]=S.useState(!1),{user:o}=Ma();S.useEffect(()=>{if(!o){e(!1),s(!0);return}Lu(Ki(yn,"users",o.uid)).then(Ae=>e(!!Ae.data()?.verified)).finally(()=>s(!0))},[o?.uid]);const l=LL(),[c,m]=S.useState(null),[p,g]=S.useState(!1);S.useEffect(()=>{if(!l){m(null),g(!0);return}Lu(Ki(yn,"units",l)).then(Ae=>{const Qe=Ae.data();Qe&&Qe.active?m({id:l,...Qe}):m(null)}).finally(()=>g(!0))},[l]);const[_,T]=S.useState([]);S.useEffect(()=>{(async()=>{const ct=(await aR(pL(va(yn,"hospitals")))).docs.map(Ht=>({id:Ht.id,...Ht.data()})).filter(Ht=>Ht.active!==!1);T(ct)})()},[]);const b=S.useMemo(()=>l&&p?c?"unit":"blocked":n&&i?"user":"blocked",[l,c,p,i,n]),O=S.useMemo(()=>_,[_]),U=S.useMemo(()=>{if(b!=="unit"||!c)return O;const Ae=new Set(c.allowedHospitals||[]);return O.filter(Qe=>Ae.has(Qe.id))},[b,c,O]),[H,j]=S.useState("");S.useEffect(()=>{!H&&U.length>0?j(U[0].id):b==="unit"&&c&&H&&!c.allowedHospitals.includes(H)&&j(U[0]?.id??"")},[b,c?.id,U.length]);const[Y,ee]=S.useState("full"),[te,oe]=S.useState(""),[de,ie]=S.useState(eh()),[I,C]=S.useState("07:00"),[D,L]=S.useState(""),[M,P]=S.useState(""),[N,Le]=S.useState(!1),[qe,Q]=S.useState(eh()),[se,ce]=S.useState(eh()),[De,Fe]=S.useState("07:00"),[V,W]=S.useState("19:00"),[ae,le]=S.useState(!1),[ye,be]=S.useState(""),[Ve,ut]=S.useState("");async function Ze(Ae){Ae.preventDefault(),le(!0),be(""),ut("");try{if(!H)throw new Error("Please select a hospital.");if(b==="blocked")throw new Error("You must be signed in and verified or use a valid unit QR to report.");if(console.log("[report] inputs",{mode:b,hospitalId:H,kind:Y,notes:te,isRecurring:N,startDate:de,startTime:I,endDate:D,endTime:M,recStartDate:qe,recEndDate:se,recDailyStart:De,recDailyEnd:V,unitId:c?.id}),N){const Qe=zL(V,De)<=0;let ct=[];Qe?qe===se?ct=[qe]:ct=yS(qe,BL(se)):ct=yS(qe,se);const Ht=SL(yn);if(b==="user"){const Et=o?.uid;if(!Et)throw new Error("Not signed in.");for(const Ke of ct){const on=Qe?ES(Ke):Ke,dn=_S({hospitalId:H,kind:Y,notes:te.trim()||void 0,startDate:Ke,startTime:De,endDate:on,endTime:V,createdByUid:Et});console.log("[report] payload (user, recurring)",dn);const Bs=Ki(va(yn,"days",dn.dateKey,"diverts"));Ht.set(Bs,dn)}}else{if(!c)throw new Error("Invalid unit.");for(const Et of ct){const Ke=Qe?ES(Et):Et,on=vS({hospitalId:H,kind:Y,notes:te.trim()||void 0,startDate:Et,startTime:De,endDate:Ke,endTime:V,unitId:c.id,unitReportKey:c.reportKey});console.log("[report] payload (unit, recurring)",on);const dn=Ki(va(yn,"days",on.dateKey,"diverts"));Ht.set(dn,on)}}await Ht.commit(),ut(`Created ${ct.length} divert${ct.length>1?"s":""}.`)}else if(b==="user"){const Qe=o?.uid;if(!Qe)throw new Error("Not signed in.");const ct=_S({hospitalId:H,kind:Y,notes:te.trim()||void 0,startDate:de,startTime:I,endDate:D||void 0,endTime:M||void 0,createdByUid:Qe});Bf(ct.startedAt,"start"),ct.clearedAt!=null&&Bf(ct.clearedAt,"end"),console.log("[report] payload (user)",ct),await gS(va(yn,"days",ct.dateKey,"diverts"),ct),ut("Divert reported.")}else{if(!c)throw new Error("Invalid unit.");const Qe=vS({hospitalId:H,kind:Y,notes:te.trim()||void 0,startDate:de,startTime:I,endDate:D||void 0,endTime:M||void 0,unitId:c.id,unitReportKey:c.reportKey});Bf(Qe.startedAt,"start"),Qe.clearedAt!=null&&Bf(Qe.clearedAt,"end"),console.log("[report] payload (unit)",Qe),await gS(va(yn,"days",Qe.dateKey,"diverts"),Qe),ut("Divert reported (via unit).")}oe(""),N||(L(""),P(""))}catch(Qe){console.error(Qe),be(Qe?.message??"Failed to submit divert.")}finally{le(!1)}}return b==="blocked"?w.jsx(yt,{children:w.jsxs(yt.Body,{children:[w.jsx(yt.Title,{children:"Report a divert"}),w.jsxs(Sa,{variant:"warning",className:"mt-2 mb-0",children:["To report a divert, please"," ",w.jsx("strong",{children:"sign in with a verified account"})," or",w.jsx("strong",{children:" open this page using a unit QR"}),"."]})]})}):w.jsx(yt,{children:w.jsx(yt.Body,{children:w.jsxs(xs,{gap:3,children:[w.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-2",children:[w.jsx(yt.Title,{className:"mb-0",children:"Report a divert"}),w.jsx("div",{className:"text-muted small",children:b==="user"?"Verified account":c?`Verified via Unit QR • ${c.label}`:""})]}),ye&&w.jsx(Sa,{variant:"danger",className:"mb-0",children:ye}),Ve&&w.jsx(Sa,{variant:"success",className:"mb-0",children:Ve}),w.jsx(ge,{onSubmit:Ze,children:w.jsxs(xs,{gap:3,children:[w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Hospital"}),w.jsx(ge.Select,{value:H,onChange:Ae=>j(Ae.target.value),required:!0,disabled:b==="unit"&&U.length<=1,children:U.map(Ae=>w.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))}),b==="unit"&&c&&w.jsx(ge.Text,{children:"Limited to unit’s allowed hospitals."})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Divert type"}),w.jsxs(ge.Select,{value:Y,onChange:Ae=>ee(Ae.target.value),children:[w.jsx("option",{value:"full",children:"Full divert"}),w.jsx("option",{value:"labs-xray-divert",children:"Labs/X-Ray unavailable"}),w.jsx("option",{value:"ct-divert",children:"CT down"}),w.jsx("option",{value:"other",children:"Other"})]})]})})]}),w.jsx(Gi,{children:w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Single vs Recurring"}),w.jsx(ge.Check,{type:"switch",id:"recurring-switch",label:"Recurring daily window",checked:N,onChange:Ae=>Le(Ae.currentTarget.checked)}),w.jsx(ge.Text,{children:"Enable to create one divert per day across a date range."})]})})}),N?w.jsxs(w.Fragment,{children:[w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"From date"}),w.jsx(ge.Control,{type:"date",value:qe,onChange:Ae=>Q(Ae.target.value),required:!0})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"To date"}),w.jsx(ge.Control,{type:"date",value:se,onChange:Ae=>ce(Ae.target.value),required:!0})]})})]}),w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Daily start time"}),w.jsx(ge.Control,{type:"time",value:De,onChange:Ae=>Fe(Ae.target.value),required:!0})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Daily end time"}),w.jsx(ge.Control,{type:"time",value:V,onChange:Ae=>W(Ae.target.value),required:!0})]})})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Start date"}),w.jsx(ge.Control,{type:"date",value:de,onChange:Ae=>ie(Ae.target.value),required:!0})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Start time"}),w.jsx(ge.Control,{type:"time",value:I,onChange:Ae=>C(Ae.target.value),required:!0})]})})]}),w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"End date (optional)"}),w.jsx(ge.Control,{type:"date",value:D,onChange:Ae=>L(Ae.target.value)})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"End time (optional)"}),w.jsx(ge.Control,{type:"time",value:M,onChange:Ae=>P(Ae.target.value)})]})})]})]}),w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{className:"mb-1",children:"Notes (optional)"}),w.jsx(ge.Control,{as:"textarea",rows:2,placeholder:"Anything useful for crews (e.g., department contact, reason)",value:te,onChange:Ae=>oe(Ae.target.value)})]}),w.jsx("div",{className:"d-flex gap-2",children:w.jsx(ws,{type:"submit",disabled:ae,children:ae?"Submitting...":"Report divert"})})]})})]})})})}function qL(){const{user:i,signOut:e}=Ma(),n=Nh(),[s,o]=S.useState(!1);S.useEffect(()=>{let c=!0;return(async()=>{if(!i)return o(!1);try{const m=await Lu(Ki(yn,"users",i.uid));c&&o(!!m.data()?.verified)}catch{c&&o(!1)}})(),()=>{c=!1}},[i?.uid]);async function l(){await e(),n("/")}return w.jsx(Vf,{expand:"md",className:"mb-4 border-bottom",children:w.jsxs(Pg,{children:[w.jsx(Vf.Brand,{as:Ig,to:"/",children:"EMS Diverts"}),w.jsx(Vf.Toggle,{"aria-controls":"main-nav"}),w.jsxs(Vf.Collapse,{id:"main-nav",children:[w.jsxs(wo,{className:"me-auto",children:[w.jsx(wo.Link,{as:lu,to:"/",end:!0,children:"Home"}),w.jsx(wo.Link,{as:lu,to:"/report",children:"Report"})]}),w.jsx(wo,{className:"align-items-center gap-2",children:i?w.jsxs(w.Fragment,{children:[w.jsxs(wo.Link,{as:lu,to:"/account",className:"d-flex align-items-center gap-2",children:[w.jsx("span",{className:"text-truncate",style:{maxWidth:160},children:i.displayName||i.email||"Account"}),s&&w.jsx(Fi,{bg:"success",title:"Verified reporter",children:"Verified"})]}),w.jsx(ws,{size:"sm",variant:"outline-secondary",onClick:l,children:"Sign out"})]}):w.jsx(wo.Link,{as:lu,to:"/login",children:"Sign in"})})]})]})})}function FL(i){try{if(!i)return"";const e=typeof i?.toDate=="function"?i.toDate():typeof i?.toMillis=="function"?new Date(i.toMillis()):i instanceof Date?i:new Date(i);return new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e)}catch{return""}}const TS=FL;function GL(){const i=new Date,e=new Date(i.getTime()+1440*60*1e3);return{start:i,end:e}}function SS(i){return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,10)}function AS(i){return i.toTimeString().slice(0,5)}function $L(i,e,n=3){const s=new Set,o=1440*60*1e3,l=new Date(i.getTime());l.setHours(0,0,0,0),l.setTime(l.getTime()-n*o);const c=new Date(e.getTime());c.setHours(0,0,0,0);for(let m=l;m<=c;m=new Date(m.getTime()+o))s.add(kL(m));return Array.from(s)}function KL(){const[i,e]=S.useState([]),{user:n}=Ma();S.useEffect(()=>{(async()=>{const ie=await aR(va(yn,"hospitals"));e(ie.docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.active!==!1).sort((I,C)=>I.name.localeCompare(C.name)))})()},[]);const{start:s,end:o}=GL(),[l,c]=S.useState(SS(s)),[m,p]=S.useState(AS(s)),[g,_]=S.useState(SS(o)),[T,b]=S.useState(AS(o)),[O,U]=S.useState("all"),H=S.useMemo(()=>new Date(`${l}T${m||"00:00"}:00Z`),[l,m]),j=S.useMemo(()=>new Date(`${g}T${T||"23:59"}:00Z`),[g,T]),[Y,ee]=S.useState({});S.useEffect(()=>{const ie=$L(H,j,7),I=[];return ee({}),ie.forEach(C=>{const D=va(yn,"days",C,"diverts"),L=EL(D,M=>{ee(P=>({...P,[C]:M.docs.map(N=>({id:N.id,ref:N.ref,...N.data()}))}))});I.push(L)}),()=>I.forEach(C=>C())},[H.getTime(),j.getTime()]);const te=S.useMemo(()=>{const ie=Object.values(Y).flat(),I=P=>{if(!P&&P!==0)return null;if(typeof P?.toMillis=="function")return P.toMillis();if(P instanceof Date)return P.getTime();const N=new Date(P).getTime();return Number.isFinite(N)?N:null},C=H.getTime(),D=j.getTime(),L=ie.filter(P=>P?.status==="active").filter(P=>{const N=I(P.startedAt),Le=I(P.clearedAt);if(N==null)return!1;const qe=N<=D,Q=Le==null,se=Le!=null&&Le>C;return qe&&(Q||se)}),M=O==="all"?L:L.filter(P=>P.hospitalId===O);return M.sort((P,N)=>{const Le=I(P.startedAt)??0,qe=I(N.startedAt)??0;return Le!==qe?Le-qe:String(P.hospitalId).localeCompare(String(N.hospitalId))}),M},[Y,O,H.getTime(),j.getTime()]);async function oe(ie){try{await vL(Ki(yn,ie),{status:"cleared",clearedAt:ud()})}catch(I){alert(I?.message??"Failed to clear divert.")}}const de=ie=>i.find(I=>I.id===ie)?.name||ie;return w.jsxs(xs,{gap:4,children:[w.jsx(yt,{children:w.jsxs(yt.Body,{children:[w.jsx(yt.Title,{className:"mb-3",children:"Active diverts"}),w.jsx(ge,{children:w.jsxs(Gi,{className:"g-3",children:[w.jsxs(Gt,{md:6,lg:5,children:[w.jsx(ge.Label,{className:"mb-1",children:"Time window (Regina)"}),w.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[w.jsx(ge.Control,{type:"date",value:l,onChange:ie=>c(ie.target.value),style:{maxWidth:160}}),w.jsx(ge.Control,{type:"time",value:m,onChange:ie=>p(ie.target.value),style:{maxWidth:120}}),w.jsx("span",{className:"align-self-center",children:"to"}),w.jsx(ge.Control,{type:"date",value:g,onChange:ie=>_(ie.target.value),style:{maxWidth:160}}),w.jsx(ge.Control,{type:"time",value:T,onChange:ie=>b(ie.target.value),style:{maxWidth:120}})]}),w.jsxs(ge.Text,{children:["Default shows now → next 24 hours (Regina). Today is"," ",eh(),"."]})]}),w.jsxs(Gt,{md:6,lg:7,children:[w.jsx(ge.Label,{className:"mb-1",children:"Hospital"}),w.jsxs(ge.Select,{value:O,onChange:ie=>U(ie.target.value),children:[w.jsx("option",{value:"all",children:"All Hospitals"}),i.map(ie=>w.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),w.jsx(ge.Text,{children:"Select one hospital or view all."})]})]})})]})}),te.length===0?w.jsx(Sa,{variant:"light",className:"border",children:"No active diverts in this window."}):w.jsx(xs,{gap:3,children:te.map(ie=>{const I=ie.kind==="full"?w.jsx(Fi,{bg:"danger",children:"FULL DIVERT"}):ie.kind==="labs-xray-divert"?w.jsx(Fi,{bg:"warning",text:"dark",children:"LABS/X-RAY DIVERT"}):ie.kind==="ct-divert"?w.jsx(Fi,{bg:"info",text:"dark",children:"CT DIVERT"}):w.jsx(Fi,{bg:"secondary",children:"OTHER"});return w.jsx(yt,{children:w.jsx(yt.Body,{children:w.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-3",children:[w.jsxs("div",{children:[w.jsxs(yt.Title,{className:"mb-1",children:[de(ie.hospitalId)," ",w.jsx(Fi,{bg:"secondary",className:"ms-1",children:ie.hospitalId})]}),w.jsxs("div",{className:"mb-2 d-flex align-items-center gap-2",children:[I,w.jsx(Fi,{bg:"success",children:"ACTIVE"})]}),w.jsxs("div",{className:"text-muted",children:[w.jsx("strong",{children:"Start:"})," ",TS(ie.startedAt),ie.clearedAt&&w.jsxs(w.Fragment,{children:[" ","• ",w.jsx("strong",{children:"End:"})," ",TS(ie.clearedAt)]})]}),ie.notes&&w.jsx("div",{className:"mt-2",children:ie.notes})]}),n&&w.jsx(ws,{variant:"outline-secondary",size:"sm",onClick:()=>oe(ie.ref.path),children:"End now"})]})})},ie.ref.path)})})]})}function QL(){const{signInEmail:i,signUpEmail:e,signInGoogle:n,loading:s,user:o}=Ma(),l=Nh(),c=Ei(),m=c.state&&c.state.next||"/",[p,g]=S.useState("signin"),[_,T]=S.useState(""),[b,O]=S.useState(""),[U,H]=S.useState(""),[j,Y]=S.useState("");async function ee(oe){oe.preventDefault(),Y("");try{p==="signin"?await i(_.trim(),b):await e(_.trim(),b,U.trim()||void 0),l(m,{replace:!0})}catch(de){Y(de?.message??"Authentication failed")}}async function te(){Y("");try{await n(),l(m,{replace:!0})}catch(oe){Y(oe?.message??"Google sign-in failed")}}return o&&!s?(l(m,{replace:!0}),null):w.jsx(yt,{children:w.jsx(yt.Body,{children:w.jsxs(xs,{gap:3,children:[w.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[w.jsx(yt.Title,{className:"mb-0",children:p==="signin"?"Sign in":"Create your account"}),w.jsx(ws,{variant:"link",className:"p-0",onClick:()=>{g(oe=>oe==="signin"?"signup":"signin"),Y("")},children:p==="signin"?"Need an account? Sign up":"Have an account? Sign in"})]}),j&&w.jsx(Sa,{variant:"danger",className:"mb-0",children:j}),w.jsx(ge,{onSubmit:ee,children:w.jsxs(xs,{gap:3,children:[p==="signup"&&w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Display name"}),w.jsx(ge.Control,{type:"text",placeholder:"Jane Paramedic",value:U,onChange:oe=>H(oe.target.value)})]}),w.jsxs(Gi,{children:[w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Email"}),w.jsx(ge.Control,{type:"email",autoComplete:"email",value:_,onChange:oe=>T(oe.target.value),required:!0})]})}),w.jsx(Gt,{md:6,children:w.jsxs(ge.Group,{children:[w.jsx(ge.Label,{children:"Password"}),w.jsx(ge.Control,{type:"password",autoComplete:p==="signin"?"current-password":"new-password",value:b,onChange:oe=>O(oe.target.value),required:!0})]})})]}),w.jsxs("div",{className:"d-flex gap-2",children:[w.jsx(ws,{type:"submit",disabled:s,children:p==="signin"?"Sign in":"Create account"}),w.jsx(ws,{variant:"outline-secondary",onClick:te,disabled:s,children:"Continue with Google"})]}),w.jsxs(ge.Text,{className:"text-muted",children:["After signing ",p==="signin"?"in":"up",", you’ll be sent to: ",w.jsx("strong",{children:m})]})]})}),w.jsx("div",{className:"text-muted small",children:"By signing in you agree to our operational use of data to track divert status."})]})})})}function YL(){const{user:i,signOut:e}=Ma(),[n,s]=S.useState(null),[o,l]=S.useState("");S.useEffect(()=>{let p=!0;async function g(){if(l(""),!i){s(null);return}try{const _=await Lu(Ki(yn,"users",i.uid));p&&s(!!_.data()?.verified)}catch(_){p&&(s(null),l(_?.message??"Failed to load account profile."))}}return g(),()=>{p=!1}},[i?.uid]);const c=S.useMemo(()=>i?.providerData?.map(p=>p.providerId)??[],[i?.providerData]);async function m(){await e()}return i?w.jsx(yt,{children:w.jsx(yt.Body,{children:w.jsxs(xs,{gap:3,children:[w.jsxs("div",{className:"d-flex justify-content-between align-items-start flex-wrap gap-3",children:[w.jsxs("div",{className:"d-flex align-items-center gap-3",children:[w.jsx(XL,{url:i.photoURL,name:i.displayName||i.email||"You"}),w.jsxs("div",{children:[w.jsxs(yt.Title,{className:"mb-1",children:[i.displayName||i.email||"Your account"," ",n?w.jsx(Fi,{bg:"success",className:"align-middle",children:"Verified"}):w.jsx(Fi,{bg:"secondary",className:"align-middle",children:"Unverified"})]}),w.jsxs("div",{className:"text-muted",children:[i.email||"No email"," • UID:"," ",w.jsx("code",{className:"user-select-all",children:i.uid})]})]})]}),w.jsx("div",{className:"d-flex gap-2",children:w.jsx(ws,{variant:"outline-secondary",onClick:m,children:"Sign out"})})]}),o&&w.jsx(Sa,{variant:"danger",className:"mb-0",children:o}),w.jsxs(Gi,{className:"g-3",children:[w.jsx(Gt,{md:6,children:w.jsx(yt,{className:"h-100",children:w.jsxs(yt.Body,{children:[w.jsx(yt.Subtitle,{className:"mb-2 text-muted",children:"Authentication"}),w.jsxs(Ao,{variant:"flush",children:[w.jsxs(Ao.Item,{children:[w.jsx("strong",{children:"Email:"})," ",i.email||"—"]}),w.jsxs(Ao.Item,{children:[w.jsx("strong",{children:"Email verified:"})," ",i.emailVerified?"Yes":"No"]}),w.jsxs(Ao.Item,{children:[w.jsx("strong",{children:"Providers:"})," ",c.length?c.join(", "):"—"]}),w.jsxs(Ao.Item,{children:[w.jsx("strong",{children:"Last sign-in:"})," ",i.metadata?.lastSignInTime||"—"]}),w.jsxs(Ao.Item,{children:[w.jsx("strong",{children:"Created:"})," ",i.metadata?.creationTime||"—"]})]})]})})}),w.jsx(Gt,{md:6,children:w.jsx(yt,{className:"h-100",children:w.jsxs(yt.Body,{children:[w.jsx(yt.Subtitle,{className:"mb-2 text-muted",children:"Reporting status"}),w.jsx("p",{className:"mb-2",children:n?"You can report diverts and clear them early.":"You can sign in, but you cannot submit or clear diverts unless you scan a valid unit QR. Contact an admin to be marked as verified if appropriate."}),w.jsx("div",{className:"small text-muted",children:"Verification is managed by admins and can be updated at any time."})]})})})]})]})})}):w.jsx(Sa,{variant:"warning",className:"mb-0",children:"You’re not signed in."})}function XL({url:i,name:e}){if(i)return w.jsx(aA,{src:i,alt:e,roundedCircle:!0,style:{width:56,height:56,objectFit:"cover"}});const n=e.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase();return w.jsx("div",{className:"d-flex align-items-center justify-content-center rounded-circle bg-secondary text-white",style:{width:56,height:56,fontWeight:600},"aria-label":e,title:e,children:n||"U"})}function WL(){return w.jsxs(w.Fragment,{children:[w.jsx(qL,{}),w.jsx(Pg,{className:"py-4",children:w.jsxs(BC,{children:[w.jsx(Ro,{path:"/",element:w.jsx(KL,{})}),w.jsx(Ro,{path:"/login",element:w.jsx(QL,{})}),w.jsx(Ro,{path:"/account",element:w.jsx(xL,{children:w.jsx(YL,{})})}),w.jsx(Ro,{path:"/report",element:w.jsx(ML,{children:w.jsx(HL,{})})}),w.jsx(Ro,{path:"*",element:w.jsx(wg,{to:"/",replace:!0})})]})})]})}W1.createRoot(document.getElementById("root")).render(w.jsx($i.StrictMode,{children:w.jsx(cI,{basename:"/",children:w.jsx(DL,{children:w.jsx(WL,{})})})}));
